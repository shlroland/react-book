{"version":3,"sources":["assets/images/gift-left.png","assets/images/gift-right.png","assets/images/compass-left.png","assets/images/compass-right.png","assets/images/star-left.png","assets/images/star-right.png","assets/images/heart-left.png","assets/images/heart-right.png","assets/images/crown-left.png","assets/images/crown-right.png","assets/styles/reboot.ts","assets/styles/function.ts","assets/styles/home.ts","assets/styles/mixin.ts","assets/styles/transition.ts","assets/styles/flapCard.ts","assets/styles/theme/Default.ts","assets/styles/theme/Eye.ts","assets/styles/theme/Gold.ts","assets/styles/theme/Night.ts","assets/styles/theme/index.ts","utils/localStorage.ts","utils/localForage.ts","utils/book.ts","store/ebook/instant.ts","store/ebook/context.tsx","store/ebook/hooks.ts","views/ebook/pages/ebookTitle/style.ts","views/ebook/pages/ebookTitle/EbookTitle.tsx","views/ebook/pages/ebookReader/style.ts","utils/utils.ts","views/ebook/pages/hooks.ts","views/ebook/pages/ebookReader/hooks.ts","views/ebook/pages/ebookReader/EbookReader.tsx","views/ebook/pages/ebookMenu/style.ts","views/ebook/pages/ebookSettingFont/style.ts","views/ebook/pages/ebookSettingFont/EbookSettingFont.tsx","views/ebook/pages/ebookSettingFont/EbookSettingFontPopup.tsx","views/ebook/pages/ebookSettingTheme/style.ts","views/ebook/pages/ebookSettingTheme/EbookSettingTheme.tsx","views/ebook/pages/ebookSettingProgress/style.ts","views/ebook/pages/ebookSettingProgress/EbookSettingProgress.tsx","views/ebook/pages/ebookSlide/style.ts","views/ebook/pages/ebookSlide/EbookLoading.tsx","common/scroll/Scroll.tsx","views/ebook/pages/ebookSlide/EbookSlideContent.tsx","views/ebook/pages/ebookSlide/EbookSlideBookMark.tsx","views/ebook/pages/ebookSlide/EbookSlide.tsx","views/ebook/pages/ebookMenu/EbookMenu.tsx","views/ebook/pages/ebookBookMark/style.ts","views/ebook/pages/ebookBookMark/BookMark.tsx","views/ebook/pages/ebookBookMark/EbookBookMark.tsx","views/ebook/style.ts","views/ebook/index.tsx","views/mall/home/style.ts","views/mall/home/searchBar/style.ts","utils/mall.ts","views/mall/home/searchBar/HotSearch.tsx","views/mall/home/searchBar/SearchBar.tsx","views/mall/home/guessYouLike/style.ts","views/mall/home/title/style.ts","views/mall/home/title/Title.tsx","views/mall/hooks.ts","views/mall/home/guessYouLike/GuessYouLike.tsx","views/mall/home/recommend/style.ts","views/mall/home/recommend/Recommend.tsx","views/mall/home/featured/style.ts","views/mall/home/featured/Featured.tsx","api/index.ts","views/mall/home/categoryBook/style.ts","views/mall/home/categoryBook/CategoryBook.tsx","views/mall/home/category/style.ts","views/mall/home/category/Category.tsx","views/mall/home/flapCard/style.ts","views/mall/home/flapCard/FirePoints.tsx","views/mall/home/flapCard/FlapCard.tsx","views/mall/home/index.tsx","views/mall/detail/style.ts","views/mall/detail/BookInfo.tsx","views/mall/detail/DetailTitle.tsx","common/toast/Toast.tsx","views/mall/detail/index.tsx","views/mall/detail/BookList.tsx","views/mall/shelf/style.ts","views/mall/shelf/shelfTitle/style.ts","common/popup/style.ts","common/popup/Popup.tsx","views/mall/shelf/shelfGroupDialog/style.ts","views/mall/shelf/shelfGroupDialog/ShelfGroupDialog.tsx","views/mall/shelf/shelfTitle/ShelfTitle.tsx","views/mall/shelf/shelfSearch/style.ts","views/mall/shelf/shelfSearch/ShelfSearch.tsx","views/mall/shelf/shelfCom/style.ts","views/mall/shelf/shelfCom/ShelfImage.tsx","views/mall/shelf/shelfCom/ShelfCategory.tsx","views/mall/shelf/shelfCom/ShelfCom.tsx","views/mall/shelf/shelfFooter/style.ts","views/mall/shelf/shelfFooter/ShelfFooter.tsx","views/mall/shelf/index.tsx","views/mall/shelf/shelfCategory/style.ts","views/mall/shelf/shelfCategory/index.tsx","views/mall/index.tsx","store/global/instant.ts","store/global/context.tsx","App.tsx","i18n/index.ts","i18n/cn.ts","i18n/en.ts","index.tsx"],"names":["module","exports","Reboot","createGlobalStyle","width","window","innerWidth","px2vw","px","realPx","$textBig","$textMedium","$textSmall","$textTiny","$textBigLh","$textMediumLh","$textSmallLh","$textTinyLh","$textBigMaxHeight2","$textMediumMaxHeight2","$textMediumMaxHeight","$textSmallMaxHeight2","$textSmallMaxHeight","$textTinyMaxHeight","mixinTitle","css","mixin","ellipsis2","center","top","bottom","left","right","scroll","leftBottom","rightBottom","columnCenter","columnTop","columnTopLeft","columnLeft","absCenter","ellipsis","$line","variableColor","$colorGreen","$colorPink","$colorBlue","$colorYellow","$colorGreenTransparent","$colorPinkTransparent","$colorBlueTransparent","$colorYellowTransparent","shelfImgHeight","slideUp","slideDown","popupSlideUp","shelfTabSlideUp","fade","slideRight","title","hotSearch","$moves","startX","startY","endX","endY","height","background","move","$index","$item","$keyframesName","$width","$height","$backgroud","$startX","$startY","$endX","$endY","animation","id","duration","easing","iterations","keyframe","transform","opacity","offset","backgroundColor","textColor","slideMaskColor","slideTextColor","contentBorder","slideLightTextColor","slideFontWeight","React","createContext","Default","localStorage","Storage","getLocalStorage","key","get","setLocalStorage","value","expire","set","exp","removeLocalStorage","delete","getBookObject","fileName","setBookObject","book","saveMetadata","metadata","getFontSize","saveLocale","locale","getReadTime","getBookmark","saveBookmark","bookmark","getLocalForage","cb","localForage","getItem","err","fontSizeList","fontSize","fontFamily","font","categoryText","category","t","getCategoryName","categoryList","ComputerScience","SocialSciences","Economics","Education","Engineering","Environment","Geography","History","Laws","LifeSciences","Literature","Biomedicine","BusinessandManagement","EarthSciences","MaterialsScience","Mathematics","MedicineAndPublicHealth","Philosophy","Physics","PoliticalScienceAndInternationalRelations","Psychology","Statistics","footerTabs","label","label2","index","removeBookCache","Promise","resolve","reject","cb2","console","log","removeItem","then","catch","addToShelf","bookList","filter","item","type","clearAddFromBookList","push","forEach","cover","Number","MAX_SAFE_INTEGER","appendAddToBookList","EbookStore","currentBook","changeCurrentBook","this","changeFileName","menuVisible","changeMenuVisible","offsetY","changeOffsetY","settingVisible","fontFamilyVisible","changeFontFamilyVisible","visible","changeSettingVisible","defaultFontSize","defaultFontFamily","changeDefaultFontFamily","saveFontFamily","changeDefaultFontSize","saveFontSize","initDefaultFontSize","initDefaultFontFamily","theme","ebookTheme","ebookThemeList","setTheme","themeType","Gold","Eye","Night","initEbookTheme","cacheTheme","alias","name","color","genThemeList","readTime","changeReadTime","time","section","changeSection","progress","changeProgress","saveProgress","isPaginating","changeIsPaginating","bookAvailable","changeBookAvailable","pagelist","changPageLIst","paginate","changPaginate","navigation","changeNavigation","sectionInfo","href","changeMetadata","changeCover","url","isBookMark","changeIsBookMark","bookMark","storeContext","StoreProvider","children","store","useLocalStore","Store","Provider","useStore","useContext","Error","EbookTitleWrapper","styled","div","props","transition","memo","ebookStore","useEbookStore","history","useHistory","useObserver","CSSTransition","in","timeout","classNames","appear","unmountOnExit","className","onClick","goBack","EbookReaderWrapper","isRendition","rendition","undefined","isBook","useToggleMenuVisible","useCallback","useDisplay","refreshLocation","useRefreshLocation","target","a","highlight","display","startsWith","getRange","res","annotations","currentLocation","start","locations","percentageFromCfi","cfi","Math","floor","location","length","cfistart","some","saveLocation","useInit","useTranslation","useEffect","all","hooks","content","register","contents","addStylesheet","process","cleanUpFontSize","reaction","themes","fireImmediately","cleanUpFontFamily","cleanUpTheme","toJS","find","override","useParams","currentRendition","useRef","maskRef","toggleMenuVisible","prevPage","current","prev","nextPage","next","handleTapEvent","ev","padLeft","padRight","x","handleSwipeEvent","handlePanMoveEvent","deltaY","handlePanEndEvent","split","join","Epub","renderTo","innerHeight","hammer","Hammer","direction","DIRECTION_ALL","on","off","initPagination","ready","generate","initNavigation","v","parent","navItem","it","loaded","nav","flatten","arr","concat","map","subitems","toc","level","total","match","idhref","initMetadata","initCover","archive","createUrl","base64","initItem","loc","indexOf","currentPage","page","useParseBook","ref","EbookMenuWrapper","FontSettingWrapper","FontFamilySettingWrapper","PopupListWrapper","useState","styleLeft","setStyleLeft","styleRight","setStyleRight","leftText","rightText","itemsRef","Array","fill","fontSettingVisible","leftWidth","getBoundingClientRect","rightWidth","leftTextWidth","rightTextWidth","marginLeft","marginRight","style","el","e","preventDefault","PopupList","classnames","selected","ThemeSettingWrapper","ThemeItemWrapper","ThemeItem","preview","text","themeSettingVisible","ProgressSettingWrapper","isProgressLoading","displaySection","displayProgress","cfiFromPercentage","prevSection","nextSection","spine","last","progressSettingVisible","max","min","step","disabled","onChange","sectionName","SlideSettingWrapper","SlideContentWrapper","SlideContentsItemWrapper","SlideSearchItemWrapper","SlideBookmark","loading","keyframes","loading2","EbookLoadingWrapper","ScrollWrapper","Scroll","forwardRef","onScroll","scrollWrapperDom","computedHeight","useMemo","handleScroll","scrollTop","pageYOffset","document","body","refresh","HTMLDivElement","useImperativeHandle","defaultProps","SlideSearchItem","excerpt","handleDisplay","dangerouslySetInnerHTML","__html","SlideContentsItem","searchPageVisible","setSearchPageVisible","search","setSearch","searchList","setSearchList","searchResult","q","spineItems","load","bind","finally","unload","results","apply","action","placeholder","onKeyDown","keyCode","replace","handleSearch","src","alt","creator","trim","EbookSlide","observer","themeContext","ThemeContext","tab","setTab","slideVisible","EbookSettingFont","EbookBookMarkWrapper","BookMarkWrapper","beFixed","setTop","setText","fixedFlag","setFixedFlag","setColor","setBookMark","setSetBookMark","fixHeight","threshold","setAndSaveBookmark","cfibase","cfiend","end","cfiRange","range","toString","removeBookmark","cleanupMark","cleanup","effectFlag","prop","setTimeout","EbookWrapper","Y","EbookChild","timer","cleanUpVisible","ceil","setInterval","clearInterval","path","component","EbookReader","EbookMenu","Ebook","BookHomeWrapper","SearchBarWrapper","HotSearchWrapper","num","historySearch","flapCardList","r","g","_g","b","imgLeft","require","imgRight","backgroundSize","zIndex","rotateDegree","btn","source","showSearchPage","showShadow","showHotSearch","hotSearchY","setShowShadow","flag","showSearchPageAndHotSearch","back","setHotSearchY","handleShowFlapCard","icon","GuessYouLikeWrapper","TitleWrapper","isOnTouch","setIsOnTouch","handleTouchStart","handleTouchEnd","handleChange","touch","onTouchStart","onTouchEnd","onMouseDown","onMouseUp","useShowBookDetail","useShowBookCategory","pathname","qs","stringify","showBookDetail","data","change","showData","author","result","percent","resultText","RecommendWrapper","renders","readers","FeaturedWrapper","titleText","btnText","download","onSuccess","onFailed","onError","onProgress","axios","create","baseURL","method","responseType","onDownloadProgress","progressEvent","blob","Blob","setItem","CategoryBookWrapper","showBookCategory","list","bookId","CategoryWrapper","img1","img2","flapCardMove","FlapCardWrapper","PointWrapper","pointsRef","pointList","_item","slice","animate","FlapCard","runFlapCardAnimation","setRunFlapCardAnimation","runBookCardAnimation","setRunBookCardAnimation","showFlapCardAnimation","setShowFlapCardAnimation","showFirePoints","setShowFirePoints","showBookCard","setShowBookCard","cardsRef","leftItemsRef","rightItemsRef","frontRef","backRef","FlapCardAnimationTask","showFirePointsAnimationTask","showFlapCardTask","startFlapCardAnimation","semiCircleStyle","backgroundImage","rotate","dom","prepare","front","backFlapCard","backLeftSemiCircle","len","String","reset","frontFlapCard","frontRightSemiCircle","rotateSemiCircle","close","setShowFlapCard","clearTimeout","random","BookHome","flapCardRef","setOffsetY","guessYouLikeList","recommendList","featuredList","categoriesList","randomList","bannerImage","showFlapCard","parseHomeData","guessYouLike","recommend","featured","categories","banner","toggleShowFlapCard","randomNumber","status","home","saveHome","BookDetailWrapper","BookInfoWrapper","DetailTitleWrapper","BookInfo","desc","showShelf","onBack","ToastWrapper","useToast","portalRoot","setVisible","task","showToast","hideToast","continueShow","element","getElementById","createElement","appendChild","RenderToast","createPortal","BookDetail","useLocation","state","description","pubdate","publisher","identifier","language","rights","modified_date","layout","orientation","flow","viewport","spread","displayed","opf","bookShelf","bookItem","setOpf","setCover","setBookShelf","setBookItem","prototype","doFlatNavigation","deep","itemList","parseBook","reg","RegExp","output","substring","init","params","response","error_code","rootFile","runInAction","msg","readBook","addOrRemoveShelf","inBookShelf","subItem","removeFromBookShelf","DetailTitle","lang","isbn","flatNavigation","stopPropagation","BookList","parse","keyword","Object","keys","$1","totalNumber","getCategoryText","changeList","changeTotal","BookShelfWrapper","ShelfTitleWrapper","PopupWrapper","Popup","popupVisible","setPopupVisible","confirmText","isRemoveText","cancelText","thirdText","confirm","third","show","hide","onTouchMove","ShelfGroupDialogWrapper","ShelfGroupDialog","dialogInput","newGroupDialogVisible","selectGroupDialogVisible","newGroupName","changeNewGroupName","str","defaultCategory","edit","onGroupClick","showCreateGroupDialog","groupEdit","focus","createNewGroup","isEditGroupName","editGroupName","isInGroup","popupRef","dialogRef","ifShowTitle","deleteGroup","isDeleteGroup","selectedNumber","onPopupDelete","onPopupChange","onEditClick","changeGroup","isHideShadow","handleOnEditClick","isEditMode","selectedText","ifGroupEmpty","ifShowClear","clearCache","ifShowBack","popupTitle","ShelfSearchWrapper","ShelfSearch","onSearchClick","onSearchTabClick","onSearchCancel","i18n","searchInput","ifShowCancel","setIfShowCancel","ifHideShadow","setIfShowClear","searchText","setSearchText","setLang","tabs","setTabs","checkSearchText","changeLanguage","onTabClick","ShelfWrapper","ShelfImageWrapper","ShelfCategoryWrapper","private","v-show","ShelfCategory","showType","orgBookList","findIndex","splice","flatBookList","cloneDeep","bookData","reduce","acc","cur","number","flipKey","flipNum","flipId","onBookClick","publicNumber","$2","privateNumber","ShelfFooterWrapper","ShelfFooter","popTitle","onConfirm","isSelected","every","cache","selectedBooks","isPrivate","isDownload","showPrivate","showPopup","setPrivate","showDownload","setDownload","showRemove","removeBook","showGroupDialog","BookShelf","scrollBottom","isShowClear","changeBookList","setIsEditMode","saveBookShelfToLocalStorage","getBookShelfFromLocalStorage","initBookShelf","needDownload","i","downloadBook","removeDownloadBook","downloadItem","clearSelectedBooks","moveToGroup","group","getSelectedBooks","newGroup","operation","getBookList","clear","BookCategoryWrapper","changeCategory","moveOutGroup","appendBookToList","books","removeCategory","newName","isEmpty","Mall","exact","BookCategory","from","to","AppWrapper","App","resources","cn","hint","sameAuthor","sameReader","readPercent","seeAll","readNow","allBook","computerScience","socialSciences","economics","education","engineering","environment","geography","laws","lifeSciences","literature","biomedicine","businessandManagement","earthSciences","materialsScience","mathematics","medicineAndPublicHealth","philosophy","physics","politicalScienceAndInternationalRelations","psychology","statistics","shelf","cancel","noPrivate","remove","setPrivateTitle","open","closePrivateTitle","setPrivateSuccess","closePrivateSuccess","setDownloadTitle","setDownloadSuccess","setDownloadError","removeDownloadTitle","removeDownloadSuccess","clearCacheSuccess","removeBookTitle","default","purchase","bought","notPurchased","selectBook","haveSelectedBook","haveSelectedBooks","moveBook","groupOut","editGroup","deleteGroupTitle","groupNone","groupName","moveBookInSuccess","moveBookOutSuccess","statistic","startDownload","endDownload","progressDownload","downloadFirst","detail","copyright","ISBN","trial","read","listen","isAddedToShelf","speak","voice","settings","timing","requestFailed","pulldownAddMark","releaseAddMark","pulldownDeleteMark","releaseDeleteMark","selectFont","haveRead","themeDefault","themeGold","themeEye","themeNight","searchHint","haveRead2","minutes","en","studyNow","use","initReactI18next","lng","setLocale","fallbackLng","interpolation","escapeValue","ReactDOM","render"],"mappings":"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","file":"static/js/main.6786a19d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/gift-left.322c044a.png\";","module.exports = __webpack_public_path__ + \"static/media/gift-right.b83f580a.png\";","module.exports = __webpack_public_path__ + \"static/media/compass-left.449019b3.png\";","module.exports = __webpack_public_path__ + \"static/media/compass-right.8ff56c5c.png\";","module.exports = __webpack_public_path__ + \"static/media/star-left.746e22aa.png\";","module.exports = __webpack_public_path__ + \"static/media/star-right.71b561b3.png\";","module.exports = __webpack_public_path__ + \"static/media/heart-left.608cf278.png\";","module.exports = __webpack_public_path__ + \"static/media/heart-right.003340dd.png\";","module.exports = __webpack_public_path__ + \"static/media/crown-left.fe9cf002.png\";","module.exports = __webpack_public_path__ + \"static/media/crown-right.b0edb78b.png\";","import { createGlobalStyle } from 'styled-components'\n\nconst Reboot = createGlobalStyle`\n/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */\n\n/* Document\n   ========================================================================== */\n\n/**\n * 1. Correct the line height in all browsers.\n * 2. Prevent adjustments of font size after orientation changes in iOS.\n */\n\nhtml {\n  line-height: 1.15; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n}\n\n/* Sections\n   ========================================================================== */\n\n/**\n * Remove the margin in all browsers.\n */\n\nbody {\n  margin: 0;\n}\n\n/**\n * Render the main element consistently in IE.\n */\n\nmain {\n  display: block;\n}\n\n/**\n * Correct the font size and margin on h1 elements within section and\n * article contexts in Chrome, Firefox, and Safari.\n */\n\nh1 {\n  font-size: 2em;\n  margin: 0.67em 0;\n}\n\n/* Grouping content\n   ========================================================================== */\n\n/**\n * 1. Add the correct box sizing in Firefox.\n * 2. Show the overflow in Edge and IE.\n */\n\nhr {\n  box-sizing: content-box; /* 1 */\n  height: 0; /* 1 */\n  overflow: visible; /* 2 */\n}\n\n/**\n * 1. Correct the inheritance and scaling of font size in all browsers.\n * 2. Correct the odd em font sizing in all browsers.\n */\n\npre {\n  font-family: monospace, monospace; /* 1 */\n  font-size: 1em; /* 2 */\n}\n\n/* Text-level semantics\n   ========================================================================== */\n\n/**\n * Remove the gray background on active links in IE 10.\n */\n\na {\n  background-color: transparent;\n}\n\n/**\n * 1. Remove the bottom border in Chrome 57-\n * 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari.\n */\n\nabbr[title] {\n  border-bottom: none; /* 1 */\n  text-decoration: underline; /* 2 */\n  text-decoration: underline dotted; /* 2 */\n}\n\n/**\n * Add the correct font weight in Chrome, Edge, and Safari.\n */\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\n/**\n * 1. Correct the inheritance and scaling of font size in all browsers.\n * 2. Correct the odd em font sizing in all browsers.\n */\n\ncode,\nkbd,\nsamp {\n  font-family: monospace, monospace; /* 1 */\n  font-size: 1em; /* 2 */\n}\n\n/**\n * Add the correct font size in all browsers.\n */\n\nsmall {\n  font-size: 80%;\n}\n\n/**\n * Prevent sub and sup elements from affecting the line height in\n * all browsers.\n */\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\n/* Embedded content\n   ========================================================================== */\n\n/**\n * Remove the border on images inside links in IE 10.\n */\n\nimg {\n  border-style: none;\n}\n\n/* Forms\n   ========================================================================== */\n\n/**\n * 1. Change the font styles in all browsers.\n * 2. Remove the margin in Firefox and Safari.\n */\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  line-height: 1.15; /* 1 */\n  margin: 0; /* 2 */\n}\n\n/**\n * Show the overflow in IE.\n * 1. Show the overflow in Edge.\n */\n\nbutton,\ninput { /* 1 */\n  overflow: visible;\n}\n\n/**\n * Remove the inheritance of text transform in Edge, Firefox, and IE.\n * 1. Remove the inheritance of text transform in Firefox.\n */\n\nbutton,\nselect { /* 1 */\n  text-transform: none;\n}\n\n/**\n * Correct the inability to style clickable types in iOS and Safari.\n */\n\nbutton,\n[type=\"button\"],\n[type=\"reset\"],\n[type=\"submit\"] {\n  -webkit-appearance: button;\n}\n\n/**\n * Remove the inner border and padding in Firefox.\n */\n\nbutton::-moz-focus-inner,\n[type=\"button\"]::-moz-focus-inner,\n[type=\"reset\"]::-moz-focus-inner,\n[type=\"submit\"]::-moz-focus-inner {\n  border-style: none;\n  padding: 0;\n}\n\n/**\n * Restore the focus styles unset by the previous rule.\n */\n\nbutton:-moz-focusring,\n[type=\"button\"]:-moz-focusring,\n[type=\"reset\"]:-moz-focusring,\n[type=\"submit\"]:-moz-focusring {\n  outline: 1px dotted ButtonText;\n}\n\n/**\n * Correct the padding in Firefox.\n */\n\nfieldset {\n  padding: 0.35em 0.75em 0.625em;\n}\n\n/**\n * 1. Correct the text wrapping in Edge and IE.\n * 2. Correct the color inheritance from fieldset elements in IE.\n * 3. Remove the padding so developers are not caught out when they zero out\n *    fieldset elements in all browsers.\n */\n\nlegend {\n  box-sizing: border-box; /* 1 */\n  color: inherit; /* 2 */\n  display: table; /* 1 */\n  max-width: 100%; /* 1 */\n  padding: 0; /* 3 */\n  white-space: normal; /* 1 */\n}\n\n/**\n * Add the correct vertical alignment in Chrome, Firefox, and Opera.\n */\n\nprogress {\n  vertical-align: baseline;\n}\n\n/**\n * Remove the default vertical scrollbar in IE 10+.\n */\n\ntextarea {\n  overflow: auto;\n}\n\n/**\n * 1. Add the correct box sizing in IE 10.\n * 2. Remove the padding in IE 10.\n */\n\n[type=\"checkbox\"],\n[type=\"radio\"] {\n  box-sizing: border-box; /* 1 */\n  padding: 0; /* 2 */\n}\n\n/**\n * Correct the cursor style of increment and decrement buttons in Chrome.\n */\n\n[type=\"number\"]::-webkit-inner-spin-button,\n[type=\"number\"]::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/**\n * 1. Correct the odd appearance in Chrome and Safari.\n * 2. Correct the outline style in Safari.\n */\n\n[type=\"search\"] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n\n/**\n * Remove the inner padding in Chrome and Safari on macOS.\n */\n\n[type=\"search\"]::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/**\n * 1. Correct the inability to style clickable types in iOS and Safari.\n * 2. Change font properties to inherit in Safari.\n */\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n\n/* Interactive\n   ========================================================================== */\n\n/*\n * Add the correct display in Edge, IE 10+, and Firefox.\n */\n\ndetails {\n  display: block;\n}\n\n/*\n * Add the correct display in all browsers.\n */\n\nsummary {\n  display: list-item;\n}\n\n/* Misc\n   ========================================================================== */\n\n/**\n * Add the correct display in IE 10+.\n */\n\ntemplate {\n  display: none;\n}\n\n/**\n * Add the correct display in IE 10.\n */\n\n[hidden] {\n  display: none;\n}\n`\n\nexport default Reboot","const width = window.innerWidth / 10 > 50 ? 50 : window.innerWidth / 10\nexport const px2vw = (px:number) => {\n  return `${(px / width) * 10}vw`\n}\n\nexport function realPx(px:number) {\n  const maxWidth = window.innerWidth > 500 ? 500 : window.innerWidth\n  return px * (maxWidth / 375)\n}","import { css } from 'styled-components'\nimport { px2vw, mixin } from '@/assets/styles/index'\n\n// const $textLarge = px2vw(18)\nconst $textBig = px2vw(16)\nconst $textMedium = px2vw(14)\nconst $textSmall = px2vw(12)\nconst $textTiny = px2vw(10)\n// const $textLargeLh = px2vw(20)\nconst $textBigLh = px2vw(18)\nconst $textMediumLh = px2vw(16)\nconst $textSmallLh = px2vw(15)\nconst $textTinyLh = px2vw(12)\n// const $textBigMaxHeight3 = px2vw(54)\n// const $textMediumMaxHeight3 = px2vw(48)\n// const $textSmallMaxHeight3 = px2vw(42)\nconst $textBigMaxHeight2 = px2vw(36)\nconst $textMediumMaxHeight2 = px2vw(32)\nconst $textMediumMaxHeight = px2vw(16)\nconst $textSmallMaxHeight2 = px2vw(30)\nconst $textSmallMaxHeight = px2vw(15)\nconst $textTinyMaxHeight = px2vw(12)\n\nexport const mixinTitle = () => css`\n  .title-big {\n    line-height: ${$textBigLh};\n    font-size: ${$textBig};\n    max-height: ${$textBigMaxHeight2};\n    color: #444;\n    font-weight: bold;\n    ${mixin.ellipsis2(3)};\n  }\n  .title-medium {\n    font-size: ${$textMedium};\n    line-height: ${$textMediumLh};\n    max-height: ${$textMediumMaxHeight2};\n    color: #444;\n    font-weight: bold;\n    ${mixin.ellipsis2(3)};\n  }\n  .title-small {\n    font-size: ${$textSmall};\n    line-height: ${$textSmallLh};\n    max-height: ${$textSmallMaxHeight2};\n    color: #444;\n    font-weight: bold;\n    ${mixin.ellipsis2(2)};\n  }\n  .sub-title-medium {\n    font-size: ${$textMedium};\n    line-height: ${$textMediumLh};\n    max-height: ${$textMediumMaxHeight};\n    color: #666;\n    ${mixin.ellipsis2(2)};\n  }\n  .sub-title {\n    font-size: ${$textSmall};\n    line-height: ${$textSmallLh};\n    max-height: ${$textSmallMaxHeight};\n    color: #666;\n    ${mixin.ellipsis2(1)};\n  }\n  .sub-title-tiny {\n    line-height: ${$textTinyLh};\n    font-size: ${$textTiny};\n    max-height: ${$textTinyMaxHeight};\n    color: #666;\n    ${mixin.ellipsis2(1)};\n  }\n  .third-title {\n    font-size: ${$textSmall};\n    line-height: ${$textSmallLh};\n    max-height: ${$textSmallMaxHeight};\n    color: #999;\n    ${mixin.ellipsis2(1)};\n  }\n  .third-title-tiny {\n    line-height: ${$textTinyLh};\n    font-size: ${$textTiny};\n    max-height: ${$textTinyMaxHeight};\n    color: #999;\n    ${mixin.ellipsis2(1)};\n  }\n`\n","// import { px2vw } from './function'\nimport { css } from 'styled-components'\nimport { px2vw } from '.'\n\nexport const center = () => css`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\n\nexport const top = () => css`\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n`\n\nexport const bottom = () => css`\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n`\n\nexport const left = () => css`\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n`\n\nexport const right = () => css`\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n`\n\nexport const scroll = () => css`\n  overflow-x: hidden;\n  overflow-y: scroll;\n  -webkit-overflow-scrolling: touch;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n`\n\nexport const leftBottom = () => css`\n  display: flex;\n  justify-content: flex-start;\n  align-items: flex-end;\n`\n\nexport const rightBottom = () => css`\n  display: flex;\n  justify-content: flex-end;\n  align-items: flex-end;\n`\n\nexport const columnCenter = () => css`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`\n\nexport const columnTop = () => css`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n`\n\nexport const columnTopLeft = () => css`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n`\n\nexport const columnLeft = () => css`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-start;\n`\n\nexport const absCenter = () => css`\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n`\n\nexport const ellipsis = () => css`\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n`\n\nexport const ellipsis2 = ($line: number) => css`\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: ${$line};\n  word-break: keep-all;\n  white-space: normal;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  overflow-wrap: break-word;\n`\n\nexport const variableColor = {\n  $colorGreen: 'rgb(59, 201, 22)',\n  $colorPink: 'rgb(255, 102, 159)',\n  $colorBlue: 'rgb(74, 171, 255)',\n  $colorYellow: 'rgb(255, 198, 102)',\n  $colorGreenTransparent: 'rgba(59, 201, 22, .5)',\n  $colorPinkTransparent: 'rgba(255, 102, 159, .5)',\n  $colorBlueTransparent: 'rgba(74, 171, 255, .5)',\n  $colorYellowTransparent: 'rgba(255, 198, 102, .5)',\n}\n\nexport const shelfImgHeight = css`\n  @media screen and (max-width: 414px) {\n    height: ${px2vw(123)};\n  }\n  @media screen and (min-width: 415px) and (max-width: 500px) {\n    height: ${px2vw(135)};\n  }\n  @media screen and (min-width: 501px) and (max-width: 600px) {\n    height: ${px2vw(155)};\n  }\n  @media screen and (min-width: 601px) and (max-width: 700px) {\n    height: ${px2vw(155)};\n  }\n  @media screen and (min-width: 701px) and (max-width: 800px) {\n    height: ${px2vw(155)};\n  }\n  @media screen and (min-width: 801px) {\n    height: ${px2vw(155)};\n  }\n`\n","import { css } from 'styled-components'\nimport { px2vw } from './function'\n\nexport const slideUp = () => css`\n  &.slide-up-enter,\n  &.slide-up-appear {\n    transform: translate3d(0, ${px2vw(138)}, 0);\n  }\n  &.slide-up-enter-active,\n  &.slide-up-appear-active {\n    transition: all 0.3s linear;\n    transform: translate3d(0, 0, 0);\n  }\n  &.slide-up-exit {\n    transform: translate3d(0, 0, 0);\n  }\n  &.slide-up-exit-active {\n    transition: all 0.3s linear;\n    transform: translate3d(0, ${px2vw(138)}, 0);\n  }\n`\n\nexport const slideDown = () => css`\n  &.slide-down-enter,\n  &.slide-down-appear {\n    transform: translate3d(0, -100%, 0);\n  }\n  &.slide-down-enter-active,\n  &.slide-down-appear-active {\n    transition: transform 0.5s;\n    transform: translate3d(0, 0, 0);\n  }\n  &.slide-down-exit {\n    transform: translate3d(0, 0, 0);\n  }\n  &.slide-down-exit-active {\n    transition: transform 0.5s;\n    transform: translate3d(0, -100%, 0);\n  }\n`\n\nexport const popupSlideUp = () => css`\n  &.popup-slide-up-enter,\n  &.popup-slide-up-appear {\n    transform: translate3d(0, 100%, 0);\n    opacity: 0;\n  }\n  &.popup-slide-up-enter-active,\n  &.popup-slide-up-appear-active {\n    transition: all 0.3s linear;\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n  &.popup-slide-up-exit {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n  &.popup-slide-up-exit-active {\n    transition: all 0.3s linear;\n    transform: translate3d(0, 100%, 0);\n    opacity: 0;\n  }\n`\n\nexport const shelfTabSlideUp = () => css`\n  &.shelf-tab-slide-up-enter,\n  &.shelf-tab-slide-up-appear {\n    transform: translate3d(0, ${px2vw(30)}, 0);\n    opacity: 0;\n  }\n  &.shelf-tab-slide-up-enter-active,\n  &.shelf-tab-slide-up-appear-active {\n    transition: all 0.5s linear;\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n  &.shelf-tab-slide-up-exit {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n  &.shelf-tab-slide-up-exit-active {\n    transition: all 0.5s linear;\n    transform: translate3d(0, ${px2vw(30)}, 0);\n    opacity: 0;\n  }\n`\n\nexport const fade = () => css`\n  &.fade-enter,\n  &.fade-appear {\n    opacity: 0;\n  }\n  &.fade-enter-active,\n  &.fade-appear-active {\n    transition: all 0.5s linear;\n    opacity: 1;\n  }\n  &.fade-exit {\n    opacity: 1;\n  }\n  &.fade-exit-active {\n    transition: all 0.5s linear;\n    opacity: 0;\n  }\n`\nexport const slideRight = () => css`\n  &.slide-right-enter,\n  &.slide-right-appear {\n    transform: translate3d(-100%, 0, 0);\n  }\n  &.slide-right-enter-active,\n  &.slide-right-appear-active {\n    transition: transform 0.5s;\n    transform: translate3d(0, 0, 0);\n  }\n  &.slide-right-exit {\n    transform: translate3d(0, 0, 0);\n  }\n  &.slide-right-exit-active {\n    transition: transform 0.5s;\n    transform: translate3d(-100%, 0, 0);\n  }\n`\nexport const title = () => css`\n  &.title-enter {\n    transform: translate3d(0, -${px2vw(10)}, 0);\n    opacity: 0;\n  }\n  &.title-enter-active {\n    transition: all 0.25s linear;\n  }\n  &.title-enter-done {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n  &.title-exit {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n  &.title-exit-active {\n    transition: all 0.25s linear;\n    transform: translate3d(0, ${px2vw(10)}, 0);\n    opacity: 0;\n  }\n`\n\nexport const hotSearch = () => css`\n  &.title-enter {\n    transform: translate3d(0, -${px2vw(50)}, 0);\n    opacity: 0;\n  }\n  &.title-enter-active {\n    transition: all 0.5s linear;\n  }\n  &.title-enter-done {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n  &.title-exit {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n  &.title-exit-active {\n    transition: all 0.5s linear;\n    transform: translate3d(0, ${px2vw(50)}, 0);\n    opacity: 0;\n  }\n`\n","import {px2vw} from './index'\n\n// const $firstShowTime = '.3s;'\nconst $pointShowTime = 1000\n// const $bookShowTime = '.3s;'\n\nconst $colorGreen = 'rgb(59, 201, 22)'\nconst $colorPink = 'rgb(255, 102, 159)'\nconst $colorBlue = 'rgb(74, 171, 255)'\nconst $colorYellow = 'rgb(255, 198, 102)'\nconst $colorGreenTransparent = 'rgba(59, 201, 22, .5)'\nconst $colorPinkTransparent = 'rgba(255, 102, 159, .5)'\nconst $colorBlueTransparent = 'rgba(74, 171, 255, .5)'\nconst $colorYellowTransparent = 'rgba(255, 198, 102, .5)'\n\nconst $moves = [\n  {\n    startX: 0,\n    startY: 0,\n    endX: 15,\n    endY: 60,\n    width: 4,\n    height: 4,\n    background: $colorPinkTransparent,\n  },\n  {\n    startX: 0,\n    startY: 0,\n    endX: 0,\n    endY: 55,\n    width: 6,\n    height: 6,\n    background: $colorGreen,\n  },\n  {\n    startX: 0,\n    startY: 0,\n    endX: 35,\n    endY: 45,\n    width: 4,\n    height: 4,\n    background: $colorBlueTransparent,\n  },\n  {\n    startX: 0,\n    startY: 0,\n    endX: 50,\n    endY: 25,\n    width: 6,\n    height: 6,\n    background: $colorYellow,\n  },\n  {\n    startX: 0,\n    startY: 0,\n    endX: 60,\n    endY: 0,\n    width: 2,\n    height: 2,\n    background: $colorPinkTransparent,\n  },\n  {\n    startX: 0,\n    startY: 0,\n    endX: 50,\n    endY: -25,\n    width: 6,\n    height: 6,\n    background: $colorBlue,\n  },\n  {\n    startX: 0,\n    startY: 0,\n    endX: 40,\n    endY: -30,\n    width: 3,\n    height: 3,\n    background: $colorGreenTransparent,\n  },\n  {\n    startX: 0,\n    startY: 0,\n    endX: 20,\n    endY: -55,\n    width: 5,\n    height: 5,\n    background: $colorPink,\n  },\n  {\n    startX: 0,\n    startY: 0,\n    endX: 5,\n    endY: -45,\n    width: 4,\n    height: 4,\n    background: $colorGreenTransparent,\n  },\n  {\n    startX: 0,\n    startY: 0,\n    endX: -20,\n    endY: -50,\n    width: 2,\n    height: 2,\n    background: $colorPinkTransparent,\n  },\n  {\n    startX: 0,\n    startY: 0,\n    endX: -40,\n    endY: -50,\n    width: 2,\n    height: 2,\n    background: $colorGreenTransparent,\n  },\n  {\n    startX: 0,\n    startY: 0,\n    endX: -55,\n    endY: -30,\n    width: 4,\n    height: 4,\n    background: $colorBlue,\n  },\n  {\n    startX: 0,\n    startY: 0,\n    endX: -55,\n    endY: -10,\n    width: 3,\n    height: 3,\n    background: $colorYellowTransparent,\n  },\n  {\n    startX: 0,\n    startY: 0,\n    endX: -55,\n    endY: -5,\n    width: 3,\n    height: 3,\n    background: $colorGreenTransparent,\n  },\n  {\n    startX: 0,\n    startY: 0,\n    endX: -35,\n    endY: -7,\n    width: 2,\n    height: 2,\n    background: $colorPinkTransparent,\n  },\n  {\n    startX: 0,\n    startY: 0,\n    endX: -45,\n    endY: 10,\n    width: 4,\n    height: 4,\n    background: $colorYellowTransparent,\n  },\n  {\n    startX: 0,\n    startY: 0,\n    endX: -50,\n    endY: 25,\n    width: 6,\n    height: 6,\n    background: $colorPink,\n  },\n  {\n    startX: 0,\n    startY: 0,\n    endX: -40,\n    endY: 35,\n    width: 4,\n    height: 4,\n    background: $colorGreenTransparent,\n  },\n]\n\nconst move = ($index:number) => {\n  const $item = $moves[$index]\n  const $keyframesName = 'move' + $index\n  const $animationTime = $pointShowTime\n  const $animationType = 'linear'\n  const $animationIterator = 1\n  const $width = $item.width\n  const $height = $item.height\n  const $backgroud = $item.background\n  const $startX = $item.startX\n  const $startY = $item.startY\n  const $endX = $item.endX\n  const $endY = $item.endY\n  const width = px2vw($width)\n  const height = px2vw($height)\n  const background = $backgroud\n  //    const animation = #{$keyframesName} $animationTime $animationType $animationIterator;\n  const animation = {\n    id: `#${$keyframesName}`,\n    duration: $animationTime,\n    easing: $animationType,\n    iterations: $animationIterator,\n  }\n  const keyframe = [\n    {\n      transform: `translate3d(${px2vw($startX)}, ${px2vw(\n        $startY\n      )}, 0) scale(0)`,\n      opacity: 0,\n    },\n    {\n      transform: `translate3d(${px2vw($endX * 0.5)}, ${px2vw($endY * 0.5)}, 0) scale(0.5)`,\n      opacity: 1,\n      offset: 0.5,\n    },\n    {\n      transform: `translate3d(${px2vw($endX)}, ${px2vw($endY)}, 0) scale(1)`,\n      opacity: 1,\n      offset: 0.9,\n    },\n    {\n      transform: `translate3d(${px2vw($endX * 1.05)}, ${px2vw($endY * 1.05)}, 0)\n        scale(1)`,\n      opacity: 0,\n    },\n  ]\n\n  return {\n    width,\n    height,\n    background,\n    animation,\n    keyframe,\n  }\n\n}\nexport default move","export default {\n    backgroundColor: \"#f2f3f4\",\n    textColor: \"#4c5059\",\n    slideMaskColor: \"rgba(120, 120, 120, .7)\",\n    slideTextColor: \"#1c2029\",\n    contentBorder: \"1px solid #acadaf\",\n    slideLightTextColor: \"#346cb9\",\n    slideFontWeight: \"bold\"\n}","export default {\n    backgroundColor: \"#a9c1a9\",\n    textColor: \"#404c42\",\n    slideMaskColor: \"rgba(97, 114, 96, .7)\",\n    slideTextColor: \"#1c1e1b\",\n    contentBorder: \"1px solid #acadaf\",\n    slideLightTextColor: \"#407724\",\n    slideFontWeight: \"bold\"\n}","export default {\n    backgroundColor: \"#c6c2b6\",\n    textColor: \"#5c5b56\",\n    slideMaskColor: \"rgba(119, 116, 107, .7)\",\n    slideTextColor: \"#1f1f1d\",\n    contentBorder: \"1px solid #acadaf\",\n    slideLightTextColor: \"#84602c\",\n    slideFontWeight: \"bold\"\n}","export default {\n    backgroundColor: \"#0f1014\",\n    textColor: \"#cecece\",\n    slideMaskColor: \"rgba(0, 0, 0, .7)\",\n    slideTextColor: \"#55595c\",\n    contentBorder: \"1px solid #acadaf\",\n    slideLightTextColor: \"#3b587a\",\n    slideFontWeight: \"bold\"\n}","import React from 'react'\nimport Default from './Default'\nimport Eye from './Eye'\nimport Gold from './Gold'\nimport Night from './Night'\n\nexport type themeProp = typeof Default | typeof Eye | typeof Gold | typeof Night\nconst ThemeContext = React.createContext(Default)\n\nexport { Default, Eye, Gold, Night }\n\nexport default ThemeContext\n","import Storage from 'web-storage-cache'\n\nconst localStorage = new Storage()\n\nexport function getLocalStorage(key: any) {\n  return localStorage.get(key)\n}\n\nexport function setLocalStorage(\n  key: any,\n  value: any,\n  expire = 365 * 24 * 3600\n) {\n  return localStorage.set(key, value, { exp: expire })\n}\n\nexport function removeLocalStorage(key: any) {\n  return localStorage.delete(key)\n}\n\nexport function clearLocalStorage() {\n  return localStorage.clear()\n}\n\nexport function getBookObject(fileName: string, key: any) {\n  if (getLocalStorage(`${fileName}-info`)) {\n    return getLocalStorage(`${fileName}-info`)[key]\n  } else {\n    return null\n  }\n}\n\nexport function setBookObject(fileName: string, key: any, value: any) {\n  let book: any = {}\n  if (getLocalStorage(`${fileName}-info`)) {\n    book = getLocalStorage(`${fileName}-info`)\n  }\n  book[key] = value\n  setLocalStorage(`${fileName}-info`, book)\n}\n\nexport function getFontFamily(fileName: string) {\n  return getBookObject(fileName, 'fontFamily')\n}\n\nexport function saveFontFamily(fileName: string, fontFamily: string) {\n  setBookObject(fileName, 'fontFamily', fontFamily)\n}\n\nexport function getMetadata(fileName: string) {\n  return getBookObject(fileName, 'metadata')\n}\n\nexport function saveMetadata(fileName: string, metadata:object) {\n  setBookObject(fileName, 'metadata', metadata)\n}\n\nexport function getFontSize(fileName: string) {\n  return getBookObject(fileName, 'fontSize')\n}\n\nexport function saveFontSize(fileName: string, fontSize: number) {\n  setBookObject(fileName, 'fontSize', fontSize)\n}\n\nexport function getLocale() {\n  return getLocalStorage('locale')\n}\n\nexport function saveLocale(locale: 'cn' | 'en') {\n  return setLocalStorage('locale', locale)\n}\n\nexport function getTheme(fileName: string) {\n  return getBookObject(fileName, 'theme')\n}\n\nexport function saveTheme(fileName: string, theme: string) {\n  setBookObject(fileName, 'theme', theme)\n}\n\nexport function getReadTime(fileName: string) {\n  return getBookObject(fileName, 'time')\n}\n\nexport function saveReadTime(fileName: string, time: number) {\n  setBookObject(fileName, 'time', time)\n}\n\nexport function getProgress(fileName: string) {\n  return getBookObject(fileName, 'progress')\n}\n\nexport function saveProgress(fileName: string, progress: number) {\n  setBookObject(fileName, 'progress', progress)\n}\n\nexport function getLocation(fileName: string) {\n  return getBookObject(fileName, 'location')\n}\n\nexport function saveLocation(fileName: string, location: string) {\n  setBookObject(fileName, 'location', location)\n}\n\nexport function getBookmark(fileName: string) {\n  return getBookObject(fileName, 'bookmark')\n}\n\nexport interface bookmarkItem {\n  cfi: string,\n  text: string\n}\n\nexport function saveBookmark(fileName: string, bookmark: bookmarkItem[]) {\n  setBookObject(fileName, 'bookmark', bookmark)\n}\n\nexport function getHome() {\n  return getLocalStorage('home')\n}\n\nexport function saveHome(home:any) {\n  return setLocalStorage('home', home, 1800)\n}\n","import localForage from 'localforage'\n\nexport function setLocalForage(\n  key: string,\n  data: Blob,\n  cb: (...args: any) => any,\n  cb2: (...args: any) => any\n) {\n  localForage\n    .setItem(key, data)\n    .then((value) => {\n      if (cb) cb(value)\n    })\n    .catch(function (err) {\n      if (cb2) cb2(err)\n    })\n}\n\nexport function getLocalForage(key: string, cb: (...args: any) => any) {\n  localForage.getItem(key, (err, value) => {\n    cb(err, value)\n  })\n}\n\nexport function removeLocalForage(\n  key: string,\n  cb: (...args: any) => any,\n  cb2: (...args: any) => any\n) {\n  localForage\n    .removeItem(key)\n    .then(function () {\n      cb()\n    })\n    .catch(function (err) {\n      cb2(err)\n    })\n}\n\nexport function clearLocalForage(\n  cb?: (...args: any) => any,\n  cb2?: (...args: any) => any\n) {\n  localForage\n    .clear()\n    .then(function () {\n      if (cb) cb()\n    })\n    .catch(function (err) {\n      if (cb2) cb2(err)\n    })\n}\n","import { TFunction } from 'i18next'\nimport { themeType } from '@/store/ebook/types'\nimport { getReadTime, removeLocalStorage, getLocalStorage, setLocalStorage } from './localStorage'\nimport { BookList, BookItem } from '@/views/mall/shelf/types'\nimport { removeLocalForage } from './localForage'\n\nexport const fontSizeList = [\n  { fontSize: 12 },\n  { fontSize: 14 },\n  { fontSize: 16 },\n  { fontSize: 18 },\n  { fontSize: 20 },\n  { fontSize: 22 },\n  { fontSize: 24 },\n]\n\nexport const fontFamily = [\n  { font: 'Times New Roman' },\n  { font: 'Cabin' },\n  { font: 'Days One' },\n  { font: 'Montserrat' },\n  { font: 'Tangerine' },\n]\n\nexport function genThemeList(t: TFunction): ebookItemType[] {\n  return [\n    {\n      alias: t('themeDefault'),\n      name: 'Default',\n      color: '#4c5059',\n      background: '#f2f3f4',\n    },\n    {\n      alias: t('themeGold'),\n      name: 'Gold',\n      color: '#5c5b56',\n      background: '#c6c2b6',\n      // style: {\n      //   body: {\n      //     color: '#5c5b56',\n      //     background: '#c6c2b6',\n      //     'padding-top': `${realPx(48)}px!important`,\n      //     'padding-bottom': `${realPx(48)}px!important`,\n      //   },\n      //   img: {\n      //     width: '100%',\n      //   },\n      //   '.epubjs-hl': {\n      //     fill: 'red',\n      //     'fill-opacity': '0.3',\n      //     'mix-blend-mode': 'multiply',\n      //   },\n      // },\n    },\n    {\n      alias: t('themeEye'),\n      name: 'Eye',\n      color: '#404c42',\n      background: '#a9c1a9',\n      // style: {\n      //   body: {\n      //     color: '#404c42',\n      //     background: '#a9c1a9',\n      //     'padding-top': `${realPx(48)}px!important`,\n      //     'padding-bottom': `${realPx(48)}px!important`,\n      //   },\n      //   img: {\n      //     width: '100%',\n      //   },\n      //   '.epubjs-hl': {\n      //     fill: 'red',\n      //     'fill-opacity': '0.3',\n      //     'mix-blend-mode': 'multiply',\n      //   },\n      // },\n    },\n    {\n      alias: t('themeNight'),\n      name: 'Night',\n      color: '#cecece',\n      background: '#000000',\n      // style: {\n      //   body: {\n      //     color: '#cecece',\n      //     background: '#000000',\n      //     'padding-top': `${realPx(48)}px!important`,\n      //     'padding-bottom': `${realPx(48)}px!important`,\n      //   },\n      //   img: {\n      //     width: '100%',\n      //   },\n      //   '.epubjs-hl': {\n      //     fill: 'red',\n      //     'fill-opacity': '0.3',\n      //     'mix-blend-mode': 'multiply',\n      //   },\n      // },\n    },\n  ]\n}\n\nexport interface ebookItemType {\n  alias: string\n  name: themeType\n  color: string\n  background: string\n  // style: {\n  //   body: {\n  //     color: string\n  //     background: string\n  //     'padding-top': string\n  //     'padding-bottom': string\n  //   }\n  //   img: {\n  //     width: string\n  //   }\n  //   '.epubjs-hl': {\n  //     fill: string\n  //     'fill-opacity': string\n  //     'mix-blend-mode': string\n  //   }\n  // }\n}\n\nexport function getReadTimeByMinute(fileName: string) {\n  if (!getReadTime(fileName)) {\n    return 0\n  } else {\n    return Math.ceil(getReadTime(fileName) / 60)\n  }\n}\n\nexport function categoryText(category: number, t: TFunction) {\n  switch (category) {\n    case 1:\n      return t('computerScience')\n    case 2:\n      return t('socialSciences')\n    case 3:\n      return t('economics')\n    case 4:\n      return t('education')\n    case 5:\n      return t('engineering')\n    case 6:\n      return t('environment')\n    case 7:\n      return t('geography')\n    case 8:\n      return t('history')\n    case 9:\n      return t('laws')\n    case 10:\n      return t('lifeSciences')\n    case 11:\n      return t('literature')\n    case 12:\n      return t('biomedicine')\n    case 13:\n      return t('businessandManagement')\n    case 14:\n      return t('earthSciences')\n    case 15:\n      return t('materialsScience')\n    case 16:\n      return t('mathematics')\n    case 17:\n      return t('medicineAndPublicHealth')\n    case 18:\n      return t('philosophy')\n    case 19:\n      return t('physics')\n    case 20:\n      return t('politicalScienceAndInternationalRelations')\n    case 21:\n      return t('psychology')\n    case 22:\n      return t('statistics')\n    default:\n      return ''\n  }\n}\n\nexport function getCategoryName(id: number) {\n  switch (id) {\n    case 1:\n      return 'ComputerScience'\n    case 2:\n      return 'SocialSciences'\n    case 3:\n      return 'Economics'\n    case 4:\n      return 'Education'\n    case 5:\n      return 'Engineering'\n    case 6:\n      return 'Environment'\n    case 7:\n      return 'Geography'\n    case 8:\n      return 'History'\n    case 9:\n      return 'Laws'\n    case 10:\n      return 'LifeSciences'\n    case 11:\n      return 'Literature'\n    case 12:\n      return 'Biomedicine'\n    case 13:\n      return 'BusinessandManagement'\n    case 14:\n      return 'EarthSciences'\n    case 15:\n      return 'MaterialsScience'\n    case 16:\n      return 'Mathematics'\n    case 17:\n      return 'MedicineAndPublicHealth'\n    case 18:\n      return 'Philosophy'\n    case 19:\n      return 'Physics'\n    case 20:\n      return 'PoliticalScienceAndInternationalRelations'\n    case 21:\n      return 'Psychology'\n    case 22:\n      return 'Statistics'\n    default:\n      return ''\n  }\n}\n\nexport const categoryList = {\n  ComputerScience: 1,\n  SocialSciences: 2,\n  Economics: 3,\n  Education: 4,\n  Engineering: 5,\n  Environment: 6,\n  Geography: 7,\n  History: 8,\n  Laws: 9,\n  LifeSciences: 10,\n  Literature: 11,\n  Biomedicine: 12,\n  BusinessandManagement: 13,\n  EarthSciences: 14,\n  MaterialsScience: 15,\n  Mathematics: 16,\n  MedicineAndPublicHealth: 17,\n  Philosophy: 18,\n  Physics: 19,\n  PoliticalScienceAndInternationalRelations: 20,\n  Psychology: 21,\n  Statistics: 22,\n}\n\nexport function flatBookList(bookList: BookList) {\n  if (bookList) {\n    let orgBookList = bookList.filter((item) => {\n      return item.type !== 3\n    })\n    const categoryList = bookList.filter((item) => {\n      return item.type === 2\n    })\n    categoryList.forEach((item) => {\n      const index = orgBookList.findIndex((v) => {\n        return v.id === item.id\n      })\n      if (item.itemList) {\n        item.itemList.forEach((subItem: any) => {\n          orgBookList.splice(index, 0, subItem)\n        })\n      }\n    })\n    orgBookList.forEach((item, index) => {\n      item.id = index + 1\n    })\n    orgBookList = orgBookList.filter((item) => item.type !== 2)\n    return orgBookList\n  } else {\n    return []\n  }\n}\n\nexport function footerTabs(t: TFunction) {\n  return [\n    {\n      label: t('private'),\n      label2: t('noPrivate'),\n      index: 1,\n    },\n    {\n      label: t('download'),\n      label2: t('delete'),\n      index: 2,\n    },\n    {\n      label: t('move'),\n      index: 3,\n    },\n    {\n      label: t('remove'),\n      index: 4,\n    },\n  ]\n}\n\nexport function removeBookCache(fileName:string) {\n  return new Promise((resolve, reject) => {\n    removeLocalStorage(fileName)\n    removeLocalStorage(`${fileName}-info`)\n    removeLocalForage(fileName, () => {\n      console.log(`[${fileName}]...`)\n      resolve()\n    }, reject)\n  })\n}\n\nexport function removeFromBookShelf(bookItem:BookItem) {\n  let bookList = getLocalStorage('bookShelf') as BookList\n  bookList = bookList.filter(item => {\n    if (item.itemList) {\n      item.itemList = item.itemList.filter((subItem:BookItem) => subItem.fileName !== bookItem.fileName)\n    }\n    return (item as BookItem).fileName !== bookItem.fileName\n  })\n  setLocalStorage('bookShelf', bookList)\n}\n\nexport function clearAddFromBookList(bookList:BookList) {\n  return bookList.filter(item => {\n    return item.type !== 3\n  })\n}\n\n\nexport function appendAddToBookList(bookList:BookList) {\n  bookList.push({\n    cover: '',\n    title: '',\n    type: 3,\n    id: Number.MAX_SAFE_INTEGER\n  })\n}\n\nexport function addToShelf(book:BookItem) {\n  let bookList = getLocalStorage('bookShelf') as BookList\n  bookList = clearAddFromBookList(bookList)\n  book.type = 1\n  bookList.push(book)\n  bookList.forEach((item, index) => {\n    item.id = index + 1\n  })\n  appendAddToBookList(bookList)\n  setLocalStorage('bookShelf', bookList)\n}","import { EbookStoreReturn } from './types'\nimport { Book } from 'epubjs'\nimport { Default, Eye, Gold, Night } from '@/assets/styles/theme'\nimport {\n  getFontSize,\n  saveFontSize,\n  getFontFamily,\n  saveFontFamily,\n  getTheme,\n  saveTheme,\n  saveProgress,\n} from '@/utils/localStorage'\nimport { genThemeList } from '@/utils/book'\n\nfunction EbookStore(): EbookStoreReturn {\n  return {\n    currentBook: null,\n    changeCurrentBook(currentBook: Book) {\n      console.log(currentBook)\n      this.currentBook = currentBook\n    },\n\n    fileName: '',\n    changeFileName(fileName) {\n      this.fileName = fileName\n    },\n\n    menuVisible: false,\n    changeMenuVisible(menuVisible) {\n      this.menuVisible = menuVisible\n    },\n\n    offsetY: 0,\n    changeOffsetY(offsetY) {\n      this.offsetY = offsetY\n    },\n    get Y() {\n      if (!this.menuVisible) {\n        return this.offsetY\n      } else {\n        return 0\n      }\n    },\n\n    settingVisible: -1,\n    fontFamilyVisible: false,\n    changeFontFamilyVisible(visible) {\n      this.fontFamilyVisible = visible\n    },\n    get fontSettingVisible() {\n      return this.menuVisible && this.settingVisible === 0\n    },\n    get themeSettingVisible() {\n      return this.menuVisible && this.settingVisible === 1\n    },\n    get progressSettingVisible() {\n      return this.menuVisible && this.settingVisible === 2\n    },\n    get slideVisible() {\n      return this.menuVisible && this.settingVisible === 3\n    },\n    changeSettingVisible(settingVisible) {\n      this.settingVisible = settingVisible\n    },\n\n    defaultFontSize: 16,\n    defaultFontFamily: 'Times New Roman',\n    changeDefaultFontFamily(fontFamily) {\n      this.defaultFontFamily = fontFamily\n      saveFontFamily(this.fileName, fontFamily)\n    },\n    changeDefaultFontSize(fontSize) {\n      this.defaultFontSize = fontSize\n      saveFontSize(this.fileName, fontSize)\n    },\n    initDefaultFontSize() {\n      this.defaultFontSize = getFontSize(this.fileName) || this.defaultFontSize\n    },\n    initDefaultFontFamily() {\n      this.defaultFontFamily =\n        getFontFamily(this.fileName) || this.defaultFontFamily\n    },\n\n    theme: Default,\n    ebookTheme: 'Default',\n    ebookThemeList: [],\n    setTheme(themeType) {\n      saveTheme(this.fileName, themeType)\n      this.ebookTheme = themeType\n      switch (themeType) {\n        case 'Gold':\n          this.theme = Gold\n          break\n        case 'Eye':\n          this.theme = Eye\n          break\n        case 'Night':\n          this.theme = Night\n          break\n        default:\n          this.theme = Default\n          break\n      }\n    },\n    initEbookTheme(t) {\n      const cacheTheme = getTheme(this.fileName) || this.ebookTheme\n      this.setTheme(cacheTheme)\n      this.ebookThemeList = genThemeList(t)\n    },\n\n    readTime: 0,\n    changeReadTime(time) {\n      this.readTime = time\n    },\n\n    section: 0,\n    changeSection(section) {\n      this.section = section\n    },\n    progress: 0,\n    changeProgress(progress) {\n      this.progress = progress\n      saveProgress(this.fileName, progress)\n    },\n\n    isPaginating: true,\n    changeIsPaginating(isPaginating) {\n      this.isPaginating = isPaginating\n    },\n    bookAvailable: false,\n    changeBookAvailable(bookAvailable) {\n      this.bookAvailable = bookAvailable\n    },\n    pagelist: [],\n    changPageLIst(pagelist) {\n      this.pagelist = pagelist\n    },\n    paginate: '',\n    changPaginate(paginate) {\n      this.paginate = paginate\n    },\n    navigation: [],\n    changeNavigation(navigation) {\n      this.navigation = navigation\n    },\n    get sectionName() {\n      if (this.section && this.navigation) {\n        const sectionInfo = (this.currentBook as Book).section(this.section)\n        if (\n          sectionInfo &&\n          sectionInfo.href &&\n          (this.currentBook as Book).navigation\n        ) {\n          return this.navigation[this.section]?.label\n        }\n      }\n      return ''\n    },\n    metadata: null,\n    changeMetadata(metadata) {\n      this.metadata = metadata\n    },\n    cover: '',\n    changeCover(url) {\n      this.cover = url\n    },\n    isBookMark: false,\n    changeIsBookMark(bookMark) {\n      this.isBookMark = bookMark\n    },\n  }\n}\n\nexport default EbookStore\n","import React, { FC } from 'react'\nimport Store from './instant'\nimport { storeType } from './types'\nimport { useLocalStore } from 'mobx-react'\n\nexport const storeContext = React.createContext<storeType | null>(null)\n\n\nexport const StoreProvider: FC = ({ children }) => {\n  const store = useLocalStore(Store)\n\n  return <storeContext.Provider value={store}>{children}</storeContext.Provider>\n}\n\n","import { useContext } from 'react'\nimport { storeContext } from './context'\n\nexport const useStore = () => {\n  const store = useContext(storeContext)\n  if (!store) {\n    // this is especially useful in TypeScript so you don't need to be checking for null all the time\n    throw new Error('useStore must be used within a StoreProvider.')\n  }\n  return store\n}","import styled from 'styled-components'\nimport {px2vw, mixin,transition} from '@/assets/styles'\n\nconst EbookTitleWrapper = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 200;\n  display: flex;\n  width: 100%;\n  height: ${px2vw(48)};\n  background-color: ${(props) => props.theme.backgroundColor};\n  color: ${(props) => props.theme.textColor};\n  box-shadow: 0 ${px2vw(8)} ${px2vw(8)} rgba(0, 0, 0, 0.15);\n  font-size: ${px2vw(22)};\n  ${transition.slideDown()}\n  .left {\n    flex: 0 0 ${px2vw(37)};\n    ${mixin.right()};\n  }\n  .right {\n    flex: 1;\n    display: flex;\n    justify-content: flex-end;\n    .icon-wrapper {\n      flex: 0 0 ${px2vw(37)};\n      ${mixin.left()};\n    }\n  }\n`\n\nexport default EbookTitleWrapper","import React, { memo, FC } from 'react'\nimport EbookTitleWrapper from './style'\nimport { CSSTransition } from 'react-transition-group'\nimport { useStore as useEbookStore } from '@/store/ebook'\nimport { useObserver } from 'mobx-react'\nimport { useHistory } from 'react-router-dom'\n\nconst EbookTitle: FC = () => {\n  const ebookStore = useEbookStore()\n  const history = useHistory()\n  return useObserver(() => (\n    <CSSTransition\n      in={ebookStore.menuVisible}\n      timeout={300}\n      classNames=\"slide-down\"\n      appear={true}\n      unmountOnExit\n    >\n      <EbookTitleWrapper>\n        <div className=\"left\" onClick={()=>history.goBack()}>\n          <span className=\"icon-back\"></span>\n        </div>\n        <div className=\"right\">\n          <div className=\"icon-wrapper\">\n            <span className=\"icon-shelf\"></span>\n          </div>\n          <div className=\"icon-wrapper\">\n            <span className=\"icon-cart\"></span>\n          </div>\n          <div className=\"icon-wrapper\">\n            <span className=\"icon-more\"></span>\n          </div>\n        </div>\n      </EbookTitleWrapper>\n    </CSSTransition>\n  ))\n}\n\nexport default memo(EbookTitle)\n","import styled from 'styled-components'\n\nconst EbookReaderWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  .ebook-reader-mask {\n    position: absolute;\n    z-index: 150;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n`\n\nexport default EbookReaderWrapper","import {Rendition,Book} from 'epubjs'\n\nexport function isRendition(rendition:any): rendition is Rendition {\n    return rendition !== undefined\n}\n\nexport function isBook(book:any): book is Book {\n    return book !== null\n}\n\n","import { useCallback } from 'react'\nimport { useStore as useEbookStore, types } from '@/store/ebook'\nimport { Book } from 'epubjs'\nimport {\n  saveLocation,\n  getProgress,\n  getBookmark,\n  bookmarkItem,\n} from '@/utils/localStorage'\nimport { isBook } from '@/utils/utils'\n\nexport const useToggleMenuVisible = () => {\n  const ebookStore = useEbookStore()\n  const toggleMenuVisible = useCallback(() => {\n    ebookStore.changeMenuVisible(!ebookStore.menuVisible)\n  }, [ebookStore])\n  return toggleMenuVisible\n}\n\nexport const useDisplay = () => {\n  const ebookStore = useEbookStore()\n  const refreshLocation = useRefreshLocation()\n  const display = useCallback(\n    async (target: string, highlight: boolean = false) => {\n      if (isBook(ebookStore.currentBook)) {\n        if (target) {\n          return ebookStore.currentBook.rendition.display(target).then(() => {\n            if (highlight) {\n              if (target.startsWith('epubcfi')) {\n                ;(((ebookStore.currentBook as Book).getRange(\n                  target\n                ) as unknown) as Promise<Range>).then((res) => {\n                  ;(ebookStore.currentBook as Book).rendition.annotations.highlight(\n                    target\n                  )\n                })\n              }\n            }\n            return refreshLocation()\n          })\n        } else {\n          return ebookStore.currentBook.rendition.display().then(() => {\n            return refreshLocation()\n          })\n        }\n      }\n    },\n    [ebookStore.currentBook, refreshLocation]\n  )\n\n  return display\n}\n\nexport const useRefreshLocation = () => {\n  const ebookStore = useEbookStore()\n  const refreshLocation = useCallback(() => {\n    const currentLocation = ((ebookStore.currentBook as Book).rendition.currentLocation() as unknown) as types.Location\n    ebookStore.changeSection(currentLocation.start.index)\n    if (currentLocation.start && currentLocation.start.index) {\n      const progress =\n        (ebookStore.currentBook as Book).locations.percentageFromCfi(\n          currentLocation.start.cfi\n        ) || getProgress(ebookStore.fileName) / 100\n      ebookStore.changeProgress(Math.floor(progress * 100))\n      if (currentLocation.start.location <= 0) {\n        ebookStore.changPaginate('')\n      } else {\n        ebookStore.changPaginate(\n          currentLocation.start.location + ' / ' + ebookStore.pagelist.length\n        )\n      }\n    } else {\n      ebookStore.changPaginate('')\n    }\n    const cfistart = currentLocation.start.cfi\n    const bookmark: bookmarkItem[] = getBookmark(ebookStore.fileName)\n    if (bookmark) {\n      if (bookmark.some((item) => item.cfi === cfistart)) {\n        ebookStore.changeIsBookMark(true)\n      } else {\n        ebookStore.changeIsBookMark(false)\n      }\n    } else {\n      ebookStore.changeIsBookMark(false)\n    }\n    saveLocation(ebookStore.fileName, cfistart)\n  }, [ebookStore])\n  return refreshLocation\n}\n","import { useEffect, useCallback } from 'react'\nimport { useStore as useEbookStore } from '@/store/ebook'\nimport { NavItem, Book, Contents } from 'epubjs'\nimport { getFontSize, getLocation, saveMetadata } from '@/utils/localStorage'\nimport Navigation from 'epubjs/types/navigation'\nimport { ebookNavItem } from '@/store/ebook/types'\nimport { useTranslation } from 'react-i18next'\nimport { useDisplay, useRefreshLocation } from '../hooks'\nimport { reaction, toJS } from 'mobx'\nimport { ebookItemType } from '@/utils/book'\nimport { isRendition } from '@/utils/utils'\n\nexport const useParseBook = () => {\n  const ebookStore = useEbookStore()\n  const initPagination = useCallback(async () => {\n    await (ebookStore.currentBook as Book).ready\n    const locations = (ebookStore.currentBook as Book).locations.generate(\n      750 * (window.innerWidth / 375) * (getFontSize(ebookStore.fileName) / 16)\n    ) as string[]\n    return locations\n  }, [ebookStore])\n\n  const initNavigation = useCallback(async () => {\n    const nav: Navigation = await (ebookStore.currentBook as Book).loaded\n      .navigation\n    const navItem = (function flatten(arr: ebookNavItem[]): ebookNavItem[] {\n      return ([] as NavItem[]).concat(\n        ...arr.map((v: any) => [v, ...flatten(v.subitems)])\n      )\n    })(nav.toc)\n    function find(item: ebookNavItem, v = 0): number {\n      const parent = navItem.filter((it) => it.id === item.parent)[0]\n      return !item.parent ? v : parent ? find(parent, ++v) : v\n    }\n    navItem.forEach((item) => {\n      item.level = find(item)\n      item.total = 0\n      item.pagelist = []\n      if (item.href.match(/^(.*)\\.html$/)) {\n        item.idhref = (item.href.match(/^(.*)\\.html$/) as RegExpMatchArray)[1]\n      } else if (item.href.match(/^(.*)\\.xhtml$/)) {\n        item.idhref = (item.href.match(/^(.*)\\.xhtml$/) as RegExpMatchArray)[1]\n      }\n    })\n    return navItem\n  }, [ebookStore])\n\n  const initMetadata = useCallback(async () => {\n    const metadata = await (ebookStore.currentBook as Book).loaded.metadata\n    ebookStore.changeMetadata(metadata)\n    saveMetadata(ebookStore.fileName, metadata)\n  }, [ebookStore])\n\n  const initCover = useCallback(async () => {\n    const cover = await (ebookStore.currentBook as Book).loaded.cover\n    const url = await (ebookStore.currentBook as Book).archive.createUrl(\n      cover,\n      {\n        base64: true,\n      }\n    )\n    ebookStore.changeCover(url)\n  }, [ebookStore])\n\n  useEffect(() => {\n    Promise.all([\n      initPagination(),\n      initNavigation(),\n      initMetadata(),\n      initCover(),\n    ]).then((initItem) => {\n      const [pagelist, navigation] = initItem\n      pagelist.forEach((location) => {\n        const loc = (location.match(/\\[(.*)\\]!/) as RegExpMatchArray)[1]\n        navigation.forEach((item) => {\n          if (item.idhref && item.idhref.indexOf(loc) >= 0) {\n            ;(item.pagelist as any[]).push(location)\n          }\n        })\n        let currentPage = 1\n        navigation.forEach((item, index) => {\n          if (index === 0) {\n            item.page = 1\n          } else {\n            item.page = currentPage\n          }\n          currentPage += (item.pagelist as any[]).length + 1\n        })\n      })\n      ebookStore.changPageLIst(pagelist)\n      ebookStore.changeNavigation(navigation)\n      ebookStore.changeIsPaginating(false)\n      ebookStore.changeBookAvailable(true)\n    })\n  }, [ebookStore, initCover, initMetadata, initNavigation, initPagination])\n}\n\nexport const useInit = () => {\n  const ebookStore = useEbookStore()\n  const { t } = useTranslation('book')\n  const display = useDisplay()\n  const refreshLocation = useRefreshLocation()\n  const rendition = ebookStore.currentBook?.rendition\n\n  useEffect(() => {\n    Promise.all([\n      ebookStore.initDefaultFontSize(),\n      ebookStore.initDefaultFontFamily(),\n      ebookStore.initEbookTheme(t),\n    ]).then(() => {\n      const location = getLocation(ebookStore.fileName)\n      if (location) {\n        display(location).then(() => {\n          refreshLocation()\n        })\n      }\n    })\n    if (isRendition(rendition)) {\n      rendition.hooks.content.register((contents: Contents) => {\n        contents.addStylesheet(\n          `${process.env.REACT_APP_BASE_URL}/fonts/daysOne.css`\n        )\n        contents.addStylesheet(\n          `${process.env.REACT_APP_BASE_URL}/fonts/tangerine.css`\n        )\n        contents.addStylesheet(\n          `${process.env.REACT_APP_BASE_URL}/fonts/montserrat.css`\n        )\n        contents.addStylesheet(\n          `${process.env.REACT_APP_BASE_URL}/fonts/cabin.css`\n        )\n      })\n    }\n\n    const cleanUpFontSize = reaction(\n      () => ebookStore.defaultFontSize,\n      (fontSize) => {\n        if (isRendition(rendition)) {\n          rendition.themes.fontSize(fontSize + 'px')\n        }\n      },\n      {\n        fireImmediately: true,\n      }\n    )\n\n    const cleanUpFontFamily = reaction(\n      () => ebookStore.defaultFontFamily,\n      (fontFamily) => {\n        if (isRendition(rendition)) {\n          rendition.themes.font(fontFamily)\n        }\n      },\n      {\n        fireImmediately: true,\n      }\n    )\n\n    const cleanUpTheme = reaction(\n      () => ebookStore.ebookTheme,\n      (theme) => {\n        const { color, background } = toJS(\n          ebookStore.ebookThemeList.find((item) => item.name === theme)\n        ) as ebookItemType\n        if (isRendition(rendition)) {\n          rendition.themes.override('color', color)\n          rendition.themes.override('background', background)\n        }\n      },\n      {\n        fireImmediately: true,\n      }\n    )\n    return () => {\n      cleanUpFontSize()\n      cleanUpFontFamily()\n      cleanUpTheme()\n    }\n  }, [display, ebookStore, refreshLocation, rendition, t])\n}\n","import React, { useEffect, useRef, memo, useCallback } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { useObserver } from 'mobx-react'\nimport Epub, { Book, Rendition } from 'epubjs'\nimport { useStore as useEbookStore } from '@/store/ebook'\nimport EbookReaderWrapper from './style'\nimport Hammer from 'hammerjs'\nimport { useTranslation } from 'react-i18next'\nimport { useParseBook, useInit } from './hooks'\nimport { useToggleMenuVisible, useRefreshLocation } from '../hooks'\ninterface ParamTypes {\n  fileName: string\n}\n\nconst EbookReader: React.FC = () => {\n  const ebookStore = useEbookStore()\n  const { fileName } = useParams<ParamTypes>()\n  const { t } = useTranslation('book')\n  const refreshLocation = useRefreshLocation()\n\n  const currentRendition = useRef<Rendition | null>(null)\n  const maskRef = useRef<HTMLDivElement | null>(null)\n\n  const toggleMenuVisible = useToggleMenuVisible()\n\n  const prevPage = useCallback(() => {\n    ;(currentRendition.current as Rendition).prev().then(() => {\n      refreshLocation()\n      if (ebookStore.menuVisible) {\n        toggleMenuVisible()\n      }\n    })\n  }, [ebookStore, refreshLocation, toggleMenuVisible])\n\n  const nextPage = useCallback(() => {\n    ;(currentRendition.current as Rendition).next().then(() => {\n      refreshLocation()\n      if (ebookStore.menuVisible) {\n        toggleMenuVisible()\n      }\n    })\n  }, [ebookStore, refreshLocation, toggleMenuVisible])\n\n  const handleTapEvent = useCallback(\n    (ev: HammerInput) => {\n      const padLeft = window.innerWidth * 0.25\n      const padRight = window.innerWidth * 0.75\n      const x = ev.center.x\n\n      if (x < padLeft) {\n        prevPage()\n      } else if (x > padRight) {\n        nextPage()\n      } else {\n        toggleMenuVisible()\n      }\n    },\n    [nextPage, prevPage, toggleMenuVisible]\n  )\n\n  const handleSwipeEvent = useCallback(\n    (ev: HammerInput) => {\n      if (ev.type === 'swipeleft') {\n        nextPage()\n      } else if (ev.type === 'swiperight') {\n        prevPage()\n      }\n    },\n    [nextPage, prevPage]\n  )\n\n  const handlePanMoveEvent = useCallback(\n    (ev: HammerInput) => {\n      if (\n        ebookStore.settingVisible > 0 ||\n        ebookStore.menuVisible ||\n        ebookStore.isPaginating\n      ) {\n        return\n      }\n      ebookStore.changeOffsetY(\n        ev.deltaY > 0 ? (ev.deltaY < 150 ? ev.deltaY : 150) : 0\n      )\n    },\n    [ebookStore]\n  )\n\n  const handlePanEndEvent = useCallback(\n    (ev: HammerInput) => {\n      if (\n        ebookStore.settingVisible > 0 ||\n        ebookStore.menuVisible ||\n        ebookStore.isPaginating\n      ) {\n        return\n      }\n      ebookStore.changeOffsetY(0)\n    },\n    [ebookStore]\n  )\n\n  useEffect(() => {\n    const url = `${process.env.REACT_APP_BOOK_URL}/${fileName\n      .split('|')\n      .join('/')}.epub`\n    ebookStore.changeFileName(fileName)\n    ebookStore.changeCurrentBook(Epub(url))\n    currentRendition.current = (ebookStore.currentBook as Book).renderTo(\n      'read',\n      {\n        width: window.innerWidth,\n        height: window.innerHeight,\n      }\n    )\n    currentRendition.current.display()\n  }, [fileName, ebookStore, t])\n\n  useEffect(() => {\n    const hammer = new Hammer(maskRef.current as HTMLDivElement)\n    hammer.get('pan').set({ direction: Hammer.DIRECTION_ALL })\n    hammer.on('tap', handleTapEvent)\n    hammer.on('swipeleft swiperight', handleSwipeEvent)\n    hammer.on('pandown panup', handlePanMoveEvent)\n    hammer.on('panend', handlePanEndEvent)\n    return () => {\n      hammer.off('tap', handleTapEvent)\n      hammer.off('swipeleft swiperight', handleSwipeEvent)\n      hammer.off('pandown panup', handlePanMoveEvent)\n      hammer.on('panend', handlePanEndEvent)\n    }\n  }, [handlePanEndEvent, handlePanMoveEvent, handleSwipeEvent, handleTapEvent])\n\n  useInit()\n  useParseBook()\n\n  return useObserver(() => (\n    <EbookReaderWrapper>\n      <div className=\"ebook-reader-mask\" ref={maskRef}></div>\n      <div id=\"read\"></div>\n    </EbookReaderWrapper>\n  ))\n}\n\nexport default memo(EbookReader)\n","import styled from \"styled-components\"\nimport { px2vw,transition,mixin } from \"@/assets/styles\"\n\nconst EbookMenuWrapper = styled.div`\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  z-index: 200;\n  display: flex;\n  width: 100%;\n  height: ${px2vw(48)};\n  background-color: ${(props) => props.theme.backgroundColor};\n  color: ${(props) => props.theme.textColor};\n  \n  font-size: ${px2vw(22)};\n  ${transition.slideUp()}\n  .icon-wrapper {\n    flex: 1;\n    ${mixin.center()}\n    .icon-progress {\n      font-size: ${px2vw(24)};\n    }\n    .icon-A {\n      font-size: ${px2vw(20)};\n    }\n  }\n`\n\nexport default EbookMenuWrapper","import styled from \"styled-components\"\nimport { px2vw, transition, mixin } from \"@/assets/styles\"\n\nexport const FontSettingWrapper = styled.div`\n  position: absolute;\n  bottom: ${px2vw(48)};\n  left: 0;\n  z-index: 190;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: ${px2vw(90)};\n  box-shadow: 0 -8px 8px rgba(0, 0, 0, 0.15);\n  background-color: ${(props) => props.theme.backgroundColor};\n  color: ${(props) => props.theme.textColor};\n  ${transition.slideUp()}\n  .setting-font-size {\n    flex: 2;\n    display: flex;\n    height: 100%;\n    .preview {\n      flex: 0 0 ${px2vw(40)};\n      ${mixin.center()}\n    }\n    .select {\n      display: flex;\n      flex: 1;\n      .select-wrapper {\n        flex: 1;\n        display: flex;\n        align-items: center;\n        &:first-child {\n          .line {\n            &:first-child {\n              border-top: none;\n            }\n          }\n        }\n        &:last-child {\n          .line {\n            &:last-child {\n              border-top: none;\n            }\n          }\n        }\n        .line {\n          flex: 1;\n          height: 0;\n          border-top: 1px solid #acadaf;\n        }\n        .point-wrapper {\n          position: relative;\n          flex: 0 0 0;\n          width: 0;\n          height: ${px2vw(7)};\n          border-left: 1px solid #acadaf;\n          .point {\n            position: absolute;\n            top: ${px2vw(-8)};\n            left: ${px2vw(-10)};\n            width: ${px2vw(20)};\n            height: ${px2vw(20)};\n            border-radius: 50%;\n            box-shadow: 0 ${px2vw(4)} ${px2vw(4)} rgba(0, 0, 0, 0.15);\n            background: #cecece;\n            border: 1px solid #ccc;\n            ${mixin.center()}\n            .small-point {\n              width: ${px2vw(5)};\n              height: ${px2vw(5)};\n              border-radius: 50%;\n              background-color: #5d6268;\n            }\n          }\n        }\n      }\n    }\n  }\n  .setting-font-family {\n    flex: 1;\n    font-size: ${px2vw(14)};\n    ${mixin.center()}\n    .setting-font-family-text-wrapper {\n      ${mixin.center()}\n    }\n    .setting-font-family-icon-wrapper {\n      ${mixin.center()}\n    }\n  }\n`\n\nexport const FontFamilySettingWrapper = styled.div`\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  z-index: 350;\n  width: 100%;\n  font-size: 0;\n  box-shadow: 0 ${px2vw(-4)} ${px2vw(6)} rgba(0, 0, 0, 0.1);\n  background-color: ${(props) => props.theme.backgroundColor};\n  color: ${(props) => props.theme.textColor};\n  ${transition.popupSlideUp()}\n  .ebook-popup-title {\n    position: relative;\n    text-align: center;\n    padding: ${px2vw(15)};\n    border-bottom: ${px2vw(1)} solid #b8b9bb;\n    box-sizing: border-box;\n    ${mixin.center()}\n    .ebook-popup-title-text {\n      font-size: ${px2vw(14)};\n      font-weight: bold;\n    }\n    .ebook-popup-title-icon {\n      position: absolute;\n      left: ${px2vw(15)};\n      top: 0;\n      height: 100%;\n      ${mixin.center()}\n      .icon-down2 {\n        font-size: ${px2vw(16)};\n        font-weight: bold;\n      }\n    }\n  }\n  .ebook-popup-list-wrapper {\n    .ebook-popup-item {\n      display: flex;\n      padding: ${px2vw(15)};\n      .ebook-popup-item-text {\n        flex: 1;\n        font-size: ${px2vw(14)};\n        text-align: left;\n        &.selected {\n          color: #346cb9;\n          font-weight: bold;\n        }\n      }\n      .ebook-popup-item-check {\n        flex: 1;\n        text-align: right;\n        .icon-check {\n          font-size: ${px2vw(14)};\n          font-weight: bold;\n          color: #346cb9;\n        }\n      }\n    }\n  }\n`\n\nexport const PopupListWrapper = styled.div`\n  .ebook-popup-item {\n    display: flex;\n    padding: ${px2vw(15)};\n    .ebook-popup-item-text {\n      flex: 1;\n      font-size: ${px2vw(14)};\n      text-align: left;\n      &.selected {\n        color: #346cb9;\n        font-weight: bold;\n      }\n    }\n    .ebook-popup-item-check {\n      flex: 1;\n      text-align: right;\n      .icon-check {\n        font-size: ${px2vw(14)};\n        font-weight: bold;\n        color: #346cb9;\n      }\n    }\n  }\n`","import React, {\n  memo,\n  FC,\n  useRef,\n  useEffect,\n  useState,\n  CSSProperties,\n} from 'react'\nimport { FontSettingWrapper } from './style'\nimport { CSSTransition } from 'react-transition-group'\nimport { useStore as useEbookStore } from '@/store/ebook'\nimport { useObserver } from 'mobx-react'\nimport { fontSizeList } from '@/utils/book'\n\nconst EbookTitle: FC = () => {\n  const ebookStore = useEbookStore()\n\n  const [styleLeft, setStyleLeft] = useState<CSSProperties>({})\n  const [styleRight, setStyleRight] = useState({})\n\n  const left = useRef<HTMLDivElement | null>(null)\n  const leftText = useRef<HTMLSpanElement | null>(null)\n  const right = useRef<HTMLDivElement | null>(null)\n  const rightText = useRef<HTMLSpanElement | null>(null)\n  const itemsRef = useRef<(HTMLDivElement | null)[]>(\n    Array(fontSizeList.length).fill(null)\n  )\n\n  useEffect(() => {\n    if (ebookStore.fontSettingVisible) {\n      const leftWidth = (left.current as HTMLDivElement).getBoundingClientRect()\n        .width\n      const rightWidth = (right.current as HTMLDivElement).getBoundingClientRect()\n        .width\n      const leftTextWidth = (leftText.current as HTMLSpanElement).getBoundingClientRect()\n        .width\n      const rightTextWidth = (rightText.current as HTMLSpanElement).getBoundingClientRect()\n        .width\n      const item = (itemsRef\n        .current[0] as HTMLDivElement).getBoundingClientRect().width\n      setStyleLeft({\n        marginLeft: (leftWidth + item - leftTextWidth) / 2 + 'px',\n        fontSize: fontSizeList[0].fontSize + 'px',\n      })\n      setStyleRight({\n        marginRight: (rightWidth + item - rightTextWidth) / 2 + 'px',\n        fontSize: fontSizeList[fontSizeList.length - 1].fontSize + 'px',\n      })\n    }\n  }, [ebookStore.fontSettingVisible])\n\n  return useObserver(() => (\n    <CSSTransition\n      in={ebookStore.fontSettingVisible}\n      timeout={300}\n      classNames=\"slide-up\"\n      appear={true}\n      unmountOnExit\n    >\n      <FontSettingWrapper>\n        <div className=\"setting-font-size\">\n          <div className=\"preview\" ref={left}>\n            <span style={styleLeft} ref={leftText}>\n              A\n            </span>\n          </div>\n          <div className=\"select\">\n            {fontSizeList.map((item, index) => {\n              return (\n                <div\n                  className=\"select-wrapper\"\n                  key={index}\n                  ref={(el) => (itemsRef.current[index] = el)}\n                  onClick={() =>\n                    ebookStore.changeDefaultFontSize(item.fontSize)\n                  }\n                >\n                  <div className=\"line\"></div>\n                  <div className=\"point-wrapper\">\n                    {ebookStore.defaultFontSize === item.fontSize ? (\n                      <div className=\"point\">\n                        <div className=\"small-point\"></div>\n                      </div>\n                    ) : null}\n                  </div>\n                  <div className=\"line\"></div>\n                </div>\n              )\n            })}\n          </div>\n          <div className=\"preview\" ref={right}>\n            <span style={styleRight} ref={rightText}>\n              A\n            </span>\n          </div>\n        </div>\n        <div className=\"setting-font-family\">\n          <div\n            className=\"setting-font-family-text-wrapper\"\n            onClick={(e) => {\n              e.preventDefault()\n              ebookStore.changeFontFamilyVisible(true)\n            }}\n          >\n            <span className=\"setting-font-family-text\">\n              {ebookStore.defaultFontFamily}\n            </span>\n          </div>\n          <div className=\"setting-font-family-icon-wrapper\">\n            <span className=\"icon-forward\"></span>\n          </div>\n        </div>\n      </FontSettingWrapper>\n    </CSSTransition>\n  ))\n}\n\nexport default memo(EbookTitle)\n","import React, { memo, FC } from 'react'\nimport { useObserver } from 'mobx-react'\nimport { FontFamilySettingWrapper, PopupListWrapper } from './style'\nimport { CSSTransition } from 'react-transition-group'\nimport { useStore as useEbookStore, types } from '@/store/ebook'\nimport { fontFamily } from '@/utils/book'\nimport { useTranslation } from 'react-i18next'\nimport classnames from 'classnames'\n\nconst PopupList = () => {\n  const ebookStore = useEbookStore()\n\n  // const setFontFamily = (font: types.defaultFontFamily) => {\n  //   saveFontFamily(ebookStore.fileName, font)\n  // }\n  return useObserver(() => (\n    <PopupListWrapper>\n      {fontFamily.map((item, index) => {\n        return (\n          <div\n            className=\"ebook-popup-item\"\n            key={index}\n            onClick={() => {\n              ebookStore.changeDefaultFontFamily(\n                item.font as types.defaultFontFamily\n              )\n            }}\n          >\n            <div\n              className={classnames({\n                'ebook-popup-item-text': true,\n                selected: ebookStore.defaultFontFamily === item.font,\n              })}\n            >\n              {item.font}\n            </div>\n            <div\n              className=\"ebook-popup-item-check\"\n              style={{\n                display:\n                  ebookStore.defaultFontFamily === item.font ? 'block' : 'none',\n              }}\n            >\n              <span className=\"icon-check\"></span>\n            </div>\n          </div>\n        )\n      })}\n    </PopupListWrapper>\n  ))\n}\n\nconst EbookSettingFontPopup: FC = () => {\n  const ebookStore = useEbookStore()\n  const { t } = useTranslation('book')\n\n  return useObserver(() => (\n    <CSSTransition\n      in={ebookStore.fontFamilyVisible}\n      timeout={500}\n      classNames=\"popup-slide-up\"\n      appear={true}\n      unmountOnExit\n    >\n      <FontFamilySettingWrapper>\n        <div className=\"ebook-popup-title\">\n          <div\n            className=\"ebook-popup-title-icon\"\n            onClick={() => {\n              ebookStore.changeFontFamilyVisible(false)\n            }}\n          >\n            <span className=\"icon-down2\"></span>\n          </div>\n          <span className=\"ebook-popup-title-text\">{t('selectFont')}</span>\n        </div>\n        <PopupList></PopupList>\n      </FontFamilySettingWrapper>\n    </CSSTransition>\n  ))\n}\n\nexport default memo(EbookSettingFontPopup)\n","import styled from \"styled-components\"\nimport { px2vw, transition, mixin } from \"@/assets/styles\"\n\nexport const ThemeSettingWrapper = styled.div`\n  position: absolute;\n  bottom: ${px2vw(48)};\n  left: 0;\n  z-index: 190;\n  width: 100%;\n  height: ${px2vw(90)};\n  box-shadow: 0 -8px 8px rgba(0, 0, 0, 0.15);\n  background-color: ${(props) => props.theme.backgroundColor};\n  color: ${(props) => props.theme.textColor};\n  ${transition.slideUp()}\n  .setting-theme {\n    height: 100%;\n    display: flex;\n    .setting-theme-item {\n      flex: 1;\n      display: flex;\n      flex-direction: column;\n      padding: ${px2vw(5)};\n      box-sizing: border-box;\n      .preview {\n        flex: 1;\n        border: ${px2vw(1)} solid #ccc;\n        box-sizing: border-box;\n        border: none;\n        &.selected {\n          box-shadow: 0 ${px2vw(4)} ${px2vw(6)} 0 rgba(0, 0, 0, 0.1);\n          border: ${px2vw(2)} solid #5e6369;\n        }\n      }\n      .text {\n        flex: 0 0 ${px2vw(20)};\n        font-size: ${px2vw(14)};\n        ${mixin.center()}\n      }\n    }\n  }\n`\nexport const ThemeItemWrapper = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  padding: ${px2vw(5)};\n  box-sizing: border-box;\n  .preview {\n    flex: 1;\n    border: ${px2vw(1)} solid #ccc;\n    box-sizing: border-box;\n    border: none;\n    &.selected {\n      box-shadow: 0 ${px2vw(4)} ${px2vw(6)} 0 rgba(0, 0, 0, 0.1);\n      border: ${px2vw(2)} solid #5e6369;\n    }\n  }\n  .text {\n    flex: 0 0 ${px2vw(20)};\n    font-size: ${px2vw(14)};\n    ${mixin.center()}\n  }\n`\n","import React, { FC, memo } from 'react'\nimport { CSSTransition } from 'react-transition-group'\nimport { useStore as useEbookStore } from '@/store/ebook'\nimport { useObserver } from 'mobx-react'\nimport { ThemeSettingWrapper, ThemeItemWrapper } from './style'\nimport { ebookItemType } from '@/utils/book'\nimport classnames from 'classnames'\nimport { themeType } from '@/store/ebook/types'\n\nconst ThemeItem: FC<{ theme: ebookItemType }> = (props) => {\n  const ebookStore = useEbookStore()\n\n  const { theme } = props\n\n  const setTheme = (name: themeType) => {\n    ebookStore.setTheme(name)\n  }\n\n  return useObserver(() => (\n    <ThemeItemWrapper>\n      <div\n        className={classnames({\n          preview: true,\n          selected: ebookStore.ebookTheme === theme.name,\n        })}\n        style={{ background: theme.background }}\n        onClick={() => setTheme(theme.name)}\n      ></div>\n      <div\n        className={classnames({\n          text: true,\n          selected: ebookStore.ebookTheme === theme.name,\n        })}\n      >\n        {theme.alias}\n      </div>\n    </ThemeItemWrapper>\n  ))\n}\n\nconst EbookSettingTheme: FC = () => {\n  const ebookStore = useEbookStore()\n  return useObserver(() => (\n    <CSSTransition\n      in={ebookStore.themeSettingVisible}\n      timeout={300}\n      classNames=\"slide-up\"\n      appear={true}\n      unmountOnExit\n    >\n      <ThemeSettingWrapper>\n        <div className=\"setting-theme\">\n          {(ebookStore.ebookThemeList as ebookItemType[]).map((item, index) => (\n            <ThemeItem theme={item} key={index}></ThemeItem>\n          ))}\n        </div>\n      </ThemeSettingWrapper>\n    </CSSTransition>\n  ))\n}\n\nexport default memo(EbookSettingTheme)\n","import styled from 'styled-components'\nimport { px2vw, transition, mixin } from '@/assets/styles'\n// const ProgressSettingWrapper = styled.div<{progress:number}>`\nconst ProgressSettingWrapper = styled.div<{ progress: number }>`\n   position: absolute;\n    bottom: ${px2vw(48)};\n    left: 0;\n    z-index: 190;\n    width: 100%;\n    height: ${px2vw(90)};\n    box-shadow: 0 ${px2vw(-8)} ${px2vw(8)} rgba(0, 0, 0, .15);\n    background-color: ${(props) => props.theme.backgroundColor};\n    color: ${(props) => props.theme.textColor};\n  ${transition.slideUp()}\n    .setting-progress {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      .read-time-wrapper {\n        position: absolute;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: ${px2vw(40)};\n        font-size: ${px2vw(12)};\n        ${mixin.center()}\n      }\n      .progress-wrapper {\n        width: 100%;\n        height: 100%;\n        ${mixin.center()}\n        padding: 0 ${px2vw(15)};\n        box-sizing: border-box;\n        .progress {\n          flex: 1;\n          width: 100%;\n          -webkit-appearance: none;\n          height: ${px2vw(2)};\n          background: -webkit-linear-gradient(#5d6268, #5d6268) no-repeat, #b4b5b7;\n          background-size: ${(props) => props.progress}% 100%;\n          margin: 0 ${px2vw(10)};\n          &:focus {\n            outline: none;\n          }\n          &::-webkit-slider-thumb {\n            -webkit-appearance: none;\n            height: ${px2vw(20)};\n            width: ${px2vw(20)};\n            border-radius: 50%;\n            background: #ceced0;\n            box-shadow: 0 ${px2vw(4)} ${px2vw(6)} 0 rgba(0, 0, 0, .15);\n            border: none;\n          }\n        }\n        .progress-icon-wrapper {\n          flex: 0 0 ${px2vw(22)};\n          font-size: ${px2vw(22)};\n          ${mixin.center()}\n        }\n      }\n      .text-wrapper {\n        position: absolute;\n        left: 0;\n        bottom: ${px2vw(5)};\n        width: 100%;\n        font-size: ${px2vw(12)};\n        text-align: center;\n        padding: 0 ${px2vw(15)};\n        box-sizing: border-box;\n           ${mixin.center()}\n        .progress-section-text {\n          line-height: ${px2vw(15)};\n          ${mixin.ellipsis()}\n        }\n        .progress-text {\n        }\n      }\n    }\n`\nexport default ProgressSettingWrapper\n","import React, { useRef, memo } from 'react'\nimport { useStore as useEbookStore } from '@/store/ebook'\nimport { useObserver } from 'mobx-react'\nimport { CSSTransition } from 'react-transition-group'\nimport ProgressSettingWrapper from './style'\nimport { useTranslation } from 'react-i18next'\nimport { useDisplay, useRefreshLocation } from '../hooks'\nimport { Book } from 'epubjs'\n\nconst EbookSettingProgress = () => {\n  const ebookStore = useEbookStore()\n\n  const isProgressLoading = useRef(false)\n\n  const { t } = useTranslation('book')\n\n  const display = useDisplay()\n  const refreshLocation = useRefreshLocation()\n\n  const displaySection = (section: number) => {\n    const sectionInfo = (ebookStore.currentBook as Book).section(section)\n    if (sectionInfo && sectionInfo.href) {\n      return display(sectionInfo.href)\n    }\n  }\n\n  const displayProgress = async (progress: number) => {\n    const cfi = (ebookStore.currentBook as Book).locations.cfiFromPercentage(\n      progress / 100\n    )\n    await display(cfi)\n    refreshLocation()\n  }\n\n  const prevSection = async () => {\n    if (ebookStore.section > 0 && !isProgressLoading.current) {\n      isProgressLoading.current = true\n      ebookStore.changeSection(ebookStore.section - 1)\n      await displaySection(ebookStore.section)\n      refreshLocation()\n      isProgressLoading.current = false\n    }\n  }\n\n  const nextSection = async () => {\n    if (\n      (ebookStore.currentBook as Book).spine.last().index >\n        ebookStore.section &&\n      !isProgressLoading.current\n    ) {\n      isProgressLoading.current = true\n      ebookStore.changeSection(++ebookStore.section)\n      await displaySection(ebookStore.section)\n      refreshLocation()\n      isProgressLoading.current = false\n    }\n  }\n\n  const onProgressChange = (progress: number) => {\n    ebookStore.changeProgress(progress)\n    displayProgress(progress)\n  }\n\n  return useObserver(() => (\n    <CSSTransition\n      in={ebookStore.progressSettingVisible}\n      timeout={300}\n      classNames=\"slide-up\"\n      appear={true}\n      unmountOnExit\n    >\n      <ProgressSettingWrapper progress={ebookStore.progress}>\n        <div className=\"setting-progress\">\n          <div className=\"read-time-wrapper\">\n            <span className=\"read-time-text\">\n              {t('haveRead', { time: ebookStore.readTime })}\n            </span>\n            <span className=\"icon-forward\"></span>\n          </div>\n          <div className=\"progress-wrapper\">\n            <div\n              className=\"progress-icon-wrapper\"\n              onClick={() => prevSection()}\n            >\n              <span className=\"icon-back\"></span>\n            </div>\n            <input\n              className=\"progress\"\n              type=\"range\"\n              max=\"100\"\n              min=\"0\"\n              step=\"1\"\n              value={ebookStore.progress}\n              disabled={!ebookStore.bookAvailable}\n              onChange={(e) => onProgressChange(+e.target.value)}\n            />\n            <div\n              className=\"progress-icon-wrapper\"\n              onClick={() => nextSection()}\n            >\n              <span className=\"icon-forward\"></span>\n            </div>\n          </div>\n          <div className=\"text-wrapper\">\n            <span className=\"progress-section-text\">\n              {ebookStore.sectionName}\n            </span>\n            <span className=\"progress-text\">\n              \n              {ebookStore.bookAvailable\n                ? ebookStore.progress + '%'\n                : t('loading')}\n              \n            </span>\n          </div>\n        </div>\n      </ProgressSettingWrapper>\n    </CSSTransition>\n  ))\n}\n\nexport default memo(EbookSettingProgress)\n","import styled from 'styled-components'\nimport { px2vw, transition, mixin } from '@/assets/styles'\n\nexport const SlideSettingWrapper = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 350;\n  display: flex;\n  width: 100%;\n  height: 100%;\n  color: ${(props) => props.theme.slideTextColor};\n\n  .mask {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 351;\n    background-color: ${(props) => props.theme.slideMaskColor};\n    ${transition.fade()}\n  }\n  .content {\n    flex: 0 0 85%;\n    width: 85%;\n    height: 100%;\n    z-index: 352;\n    background-color: ${(props) => props.theme.backgroundColor};\n    color: ${(props) => props.theme.textColor};\n    ${transition.slideRight()}\n    .content-page-wrapper {\n      display: flex;\n      flex-direction: column;\n      width: 100%;\n      height: 100%;\n      .content-page {\n        flex: 1;\n        width: 100%;\n        overflow: hidden;\n      }\n      .content-page-tab {\n        display: flex;\n        flex: 0 0 ${px2vw(48)};\n        border-top: ${(props) => props.theme.contentBorder};\n        .content-page-tab-item {\n          flex: 1;\n          font-size: ${px2vw(12)};\n          ${mixin.center()}\n          &.selected {\n            color: ${(props) => props.theme.slideLightTextColor};\n            font-weight: ${(props) => props.theme.slideFontWeight};\n          }\n        }\n      }\n    }\n    .empty {\n      width: 100%;\n      height: 100%;\n      ${mixin.center()};\n      font-size: ${px2vw(16)};\n      color: #333;\n    }\n  }\n  .content-bg {\n    flex: 0 0 15%;\n    width: 15%;\n    height: 100%;\n  }\n`\nexport const SlideContentWrapper = styled.div`\n  width: 100%;\n  font-size: 0;\n  .slide-contents-search-wrapper {\n    display: flex;\n    width: 100%;\n    height: ${px2vw(36)};\n    margin: ${px2vw(20)} 0 ${px2vw(10)} 0;\n    padding: 0 ${px2vw(15)};\n    box-sizing: border-box;\n    .slide-contents-search-input-wrapper {\n      flex: 1;\n      border-radius: ${px2vw(3)};\n      border: ${(props) => props.theme.contentBorder};\n      ${mixin.center()};\n      .slide-contents-search-icon {\n        flex: 0 0 ${px2vw(28)};\n        ${mixin.center()};\n        .icon-search {\n          font-size: ${px2vw(12)};\n        }\n      }\n      .slide-contents-search-input {\n        flex: 1;\n        width: 100%;\n        height: ${px2vw(32)};\n        font-size: ${px2vw(14)};\n        background: transparent;\n        border: none;\n        color: ${(props) => props.theme.textColor};\n        &:focus {\n          outline: none;\n        }\n        &::-webkit-search-cancel-button{\n          display: none;\n        }\n      }\n      .content-search-text {\n        color: ${(props) => props.theme.slideLightTextColor};\n        font-weight: ${(props) => props.theme.slideFontWeight};\n      }\n    }\n    .slide-contents-search-cancel {\n      flex: 0 0 ${px2vw(50)};\n      font-size: ${px2vw(14)};\n      color: ${(props) => props.theme.slideLightTextColor};\n      font-weight: ${(props) => props.theme.slideFontWeight};\n      ${mixin.right()};\n    }\n  }\n  .slide-contents-book-wrapper {\n    display: flex;\n    width: 100%;\n    height: ${px2vw(90)};\n    padding: ${px2vw(10)} ${px2vw(15)} ${px2vw(20)} ${px2vw(15)};\n    box-sizing: border-box;\n    border-bottom: ${(props) => props.theme.contentBorder};\n    .slide-contents-book-img-wrapper {\n      flex: 0 0 ${px2vw(45)};\n      box-sizing: border-box;\n      .slide-contents-book-img {\n        width: ${px2vw(45)};\n        height: ${px2vw(60)};\n      }\n    }\n    .slide-contents-book-info-wrapper {\n      flex: 1;\n      ${mixin.columnLeft()};\n      .slide-contents-book-title {\n        font-size: ${px2vw(14)};\n        line-height: ${px2vw(16)};\n        padding: 0 ${px2vw(10)};\n        box-sizing: border-box;\n        color: ${(props) => props.theme.textColor};\n        ${mixin.left()};\n        .slide-contents-book-title-text {\n          ${mixin.ellipsis2(1)};\n        }\n      }\n      .slide-contents-book-author {\n        font-size: ${px2vw(12)};\n        line-height: ${px2vw(14)};\n        padding: 0 ${px2vw(10)};\n        box-sizing: border-box;\n        margin-top: ${px2vw(5)};\n        ${mixin.left()};\n        .slide-contents-book-author-text {\n          ${mixin.ellipsis2(1)};\n        }\n      }\n    }\n    .slide-contents-book-progress-wrapper {\n      flex: 0 0 ${px2vw(70)};\n      color: ${(props) => props.theme.textColor};\n      ${mixin.columnLeft()};\n      .slide-contents-book-progress {\n        .progress {\n          font-size: ${px2vw(14)};\n          line-height: ${px2vw(16)};\n        }\n        .progress-text {\n          font-size: ${px2vw(12)};\n          line-height: ${px2vw(14)};\n          margin-left: ${px2vw(2)};\n        }\n      }\n      .slide-contents-book-time {\n        font-size: ${px2vw(12)};\n        line-height: ${px2vw(14)};\n        margin-top: ${px2vw(5)};\n      }\n    }\n  }\n  .slide-contents-list {\n    padding: 0 ${px2vw(15)};\n    box-sizing: border-box;\n    .slide-contents-item {\n      display: flex;\n      padding: ${px2vw(20)} 0;\n      box-sizing: border-box;\n      border-bottom: ${(props) => props.theme.contentBorder};\n      .slide-contents-item-label {\n        flex: 1;\n        font-size: ${px2vw(14)};\n        line-height: ${px2vw(16)};\n        ${mixin.ellipsis()};\n        &.selected {\n          color: ${(props) => props.theme.slideLightTextColor};\n          font-weight: ${(props) => props.theme.slideFontWeight};\n        }\n      }\n      .slide-contents-item-page {\n        flex: 0 0 ${px2vw(30)};\n        font-size: ${px2vw(10)};\n        ${mixin.right()};\n      }\n    }\n  }\n  .slide-search-list {\n    padding: 0 ${px2vw(15)};\n    box-sizing: border-box;\n    /* .slide-search-item {\n      font-size: ${px2vw(14)};\n      line-height: ${px2vw(16)};\n      padding: ${px2vw(20)} 0;\n      box-sizing: border-box;\n      border-bottom: ${(props) => props.theme.contentBorder};\n    } */\n  }\n`\nexport const SlideContentsItemWrapper = styled.div<{ level: number }>`\n  display: flex;\n  padding: ${px2vw(20)} 0;\n  box-sizing: border-box;\n  border-bottom: ${(props) => props.theme.contentBorder};\n  .slide-contents-item-label {\n    flex: 1;\n    font-size: ${px2vw(14)};\n    line-height: ${px2vw(16)};\n    margin-left: ${({ level }) => {\n      return `${px2vw(level * 8)}`\n    }};\n    ${mixin.ellipsis()};\n    &.selected {\n      color: ${(props) => props.theme.slideLightTextColor};\n      font-weight: ${(props) => props.theme.slideFontWeight};\n    }\n  }\n  .slide-contents-item-page {\n    flex: 0 0 ${px2vw(30)};\n    font-size: ${px2vw(10)};\n    ${mixin.right()};\n  }\n`\nexport const SlideSearchItemWrapper = styled.div`\n  font-size: ${px2vw(14)};\n  line-height: ${px2vw(16)};\n  padding: ${px2vw(20)} 0;\n  box-sizing: border-box;\n  border-bottom: ${(props) => props.theme.contentBorder};\n  .content-search-text {\n    color: ${(props) => props.theme.slideLightTextColor};\n    font-weight: ${(props) => props.theme.slideFontWeight};\n  }\n`\nexport const SlideBookmark = styled.div`\n  width: 100%;\n    .slide-bookmark-title {\n      width: 100%;\n      height: ${px2vw(48)};\n      font-size: ${px2vw(14)};\n      font-weight: bold;\n      padding: 0 ${px2vw(15)};\n      box-sizing: border-box;\n      ${mixin.left()};\n    }\n    .slide-bookmark-list {\n      padding: 0 ${px2vw(15)};\n      box-sizing: border-box;\n      .slide-bookmark-item {\n        display: flex;\n        padding: ${px2vw(15)} 0;\n        box-sizing: border-box;\n        .slide-bookmark-item-icon {\n          flex: 0 0 ${px2vw(29)};\n          ${mixin.left()}\n          .icon-bookmark {\n            width: ${px2vw(20)};\n            height: ${px2vw(20)};\n            font-size: ${px2vw(12)};\n            border-radius: 50%;\n            background: #bbb;\n            ${mixin.center()}\n          }\n        }\n        .slide-bookmark-item-text {\n          font-size: ${px2vw(14)};\n          line-height: ${px2vw(15)};\n          max-height: ${px2vw(45)};\n          ${mixin.ellipsis2(3)};\n        }\n      }\n    }\n`","import React, { FC, memo } from 'react'\nimport styled, { keyframes } from 'styled-components'\nimport { px2vw, mixin } from '@/assets/styles'\n\nconst loading = keyframes`\n0%,100% {\n    width: ${px2vw(16)};\n}\n50% {\n    width: ${px2vw(0)};\n}\n`\n\nconst loading2 = keyframes`\n0%,100% {\n    width: ${px2vw(0)};\n}\n50% {\n    width: ${px2vw(16)};\n}\n`\nconst EbookLoadingWrapper = styled.div`\n  position: relative;\n  z-index: 500;\n  width: ${px2vw(63)};\n  height: ${px2vw(40)};\n  background: transparent;\n  border: ${px2vw(1.5)} solid #d7d7d7;\n  border-radius: ${px2vw(3)};\n  .ebook-loading-wrapper {\n    display: flex;\n    width: 100%;\n    height: 100%;\n    .ebook-loading-item {\n      display: flex;\n      flex-direction: column;\n      flex: 1;\n      padding: ${px2vw(7)} 0;\n      box-sizing: border-box;\n      overflow: hidden;\n      .ebook-loading-line-wrapper {\n        flex: 1;\n        padding: 0 ${px2vw(7)};\n        box-sizing: border-box;\n        ${mixin.left()}\n        .ebook-loading-line {\n          /* flex: 0 0 ${px2vw(16)}; */\n          /* width: ${px2vw(16)}; */\n          height: ${px2vw(1.5)};\n          background: #d7d7d7;\n          &.col-1{\n            animation: ${loading} 1s infinite linear;\n          }\n          &.col-2{\n            animation: ${loading} 1s infinite linear 0.5s;\n          }\n          &.col-3{\n            animation: ${loading2} 1s infinite linear 0.75s;\n          }\n          &.col-4{\n            animation: ${loading2} 1s infinite linear;\n          }\n          &.col-5{\n            animation: ${loading2} 1s infinite linear 0.5s;\n          }\n          &.col-6{\n            width: ${px2vw(16)};\n            animation: ${loading} 1s infinite linear 0.75s;\n          }\n          \n        }\n      }\n    }\n    .ebook-loading-center {\n      position: absolute;\n      left: 50%;\n      top: 0;\n      width: ${px2vw(1.5)};\n      height: 100%;\n      background: #d7d7d7;\n    }\n  }\n`\n\nconst EbookLoading:FC = () => {\n    return (\n      <EbookLoadingWrapper>\n        <div className=\"ebook-loading-wrapper\">\n          <div className=\"ebook-loading-item\">\n            <div className=\"ebook-loading-line-wrapper\">\n              <div className=\"ebook-loading-line col-1\"></div>\n            </div>\n            <div className=\"ebook-loading-line-wrapper\">\n              <div className=\"ebook-loading-line col-2\"></div>\n            </div>\n            <div className=\"ebook-loading-line-wrapper\">\n              <div className=\"ebook-loading-line col-3\"></div>\n            </div>\n          </div>\n          <div className=\"ebook-loading-item\">\n            <div className=\"ebook-loading-line-wrapper\">\n              <div className=\"ebook-loading-line col-4\"></div>\n            </div>\n            <div className=\"ebook-loading-line-wrapper\">\n              <div className=\"ebook-loading-line col-5\"></div>\n            </div>\n            <div className=\"ebook-loading-line-wrapper\">\n              <div className=\"ebook-loading-line col-6\"></div>\n            </div>\n          </div>\n          <div className=\"ebook-loading-center\"></div>\n        </div>\n      </EbookLoadingWrapper>\n    )\n  }\n\nexport default memo(EbookLoading)\n","import React, {\n  forwardRef,\n  FC,\n  useMemo,\n  useRef,\n  useImperativeHandle,\n  useCallback,\n  CSSProperties,\n} from 'react'\nimport styled from 'styled-components'\nimport { mixin, realPx } from '@/assets/styles'\n\nconst ScrollWrapper = styled.div<{ height: number }>`\n  position: relative;\n  z-index: 100;\n  width: 100%;\n  height: ${(props) => props.height}px;\n  ${mixin.scroll()}\n`\n\ninterface ScrollProps {\n  top?: number\n  bottom?: number\n  onScroll?: (...rest: any[]) => any\n  className?: string\n  style?: CSSProperties\n}\n\nconst Scroll: FC<ScrollProps> = forwardRef((props, ref) => {\n  const { top, bottom, children,onScroll,className,style } = props\n\n  const scrollWrapperDom = useRef<HTMLDivElement>(null)\n\n  const computedHeight = useMemo(() => {\n    return window.innerHeight - realPx(top!) - realPx(bottom!)\n  }, [bottom, top])\n\n  const handleScroll = useCallback(\n    (e) => {\n      const offsetY =\n        e.target.scrollTop || window.pageYOffset || document.body.scrollTop\n      if (onScroll) {\n        onScroll(offsetY)\n      }\n    },\n    [onScroll]\n  )\n\n  const refresh = useCallback(() => {\n    if (scrollWrapperDom.current instanceof HTMLDivElement) {\n      scrollWrapperDom.current.style.height =\n        `${window.innerHeight - realPx(top!) - realPx(bottom!)}`\n    }\n  }, [bottom, top])\n\n  useImperativeHandle(\n    ref,\n    () => ({\n      refresh\n    }),\n    [refresh]\n  )\n\n  return (\n    <ScrollWrapper style={style} className={className} height={computedHeight} ref={scrollWrapperDom} onScroll={(e) => handleScroll(e)}>\n      {children}\n    </ScrollWrapper>\n  )\n})\n\nScroll.defaultProps = {\n  top: 0,\n  bottom: 0,\n}\n\nexport default Scroll\n","import React, { FC, memo, useState, KeyboardEvent } from 'react'\nimport { useStore as useEbookStore } from '@/store/ebook'\nimport { useObserver } from 'mobx-react'\nimport {\n  SlideContentWrapper,\n  SlideContentsItemWrapper,\n  SlideSearchItemWrapper,\n} from './style'\nimport classnames from 'classnames'\nimport Scroll from '@/common/scroll/Scroll'\nimport { useTranslation } from 'react-i18next'\nimport Spine from 'epubjs/types/spine'\nimport Section from 'epubjs/types/section'\nimport { Book } from 'epubjs'\nimport { PackagingMetadataObject } from 'epubjs/types/packaging'\nimport { useDisplay, useToggleMenuVisible } from '../hooks'\n\ninterface EbookSpine extends Spine {\n  spineItems: Section[]\n}\n\ntype EbookLoad = Promise<Document>\n\ninterface ContentsItemProp {\n  key: string\n  label: string\n  page: number | undefined\n  level: number | undefined\n  href: string\n  index: number\n}\n\ninterface SearchItem {\n  excerpt: string\n  cfi: string\n}\n\nconst SlideSearchItem: FC<SearchItem> = ({ excerpt, cfi }) => {\n  const display = useDisplay()\n  const toggleMenuVisible = useToggleMenuVisible()\n\n  const handleDisplay = async () => {\n    await display(cfi, true)\n    toggleMenuVisible()\n  }\n  return (\n    <SlideSearchItemWrapper\n      dangerouslySetInnerHTML={{ __html: excerpt }}\n      onClick={handleDisplay}\n    ></SlideSearchItemWrapper>\n  )\n}\n\nconst SlideContentsItem: FC<ContentsItemProp> = (props) => {\n  const ebookStore = useEbookStore()\n  const display = useDisplay()\n  const toggleMenuVisible = useToggleMenuVisible()\n  const { label, page, index, level, href } = props\n  const handleDisplay = async () => {\n    await display(href, false)\n    toggleMenuVisible()\n  }\n  return (\n    <SlideContentsItemWrapper level={level as number} onClick={handleDisplay}>\n      <span\n        className={classnames({\n          'slide-contents-item-label': true,\n          selected: ebookStore.section === index,\n        })}\n      >\n        {label}\n      </span>\n      <span className=\"slide-contents-item-page\">{page}</span>\n    </SlideContentsItemWrapper>\n  )\n}\n\nconst EbookSlideContent: FC = () => {\n  const ebookStore = useEbookStore()\n  const { t } = useTranslation('book')\n  const [searchPageVisible, setSearchPageVisible] = useState(false)\n  const [search, setSearch] = useState('')\n  const [searchList, setSearchList] = useState<SearchItem[]>([])\n\n  const searchResult = async (q: string) => {\n    return Promise.all(\n      ((ebookStore.currentBook as Book)\n        .spine as EbookSpine).spineItems.map((item) =>\n        ((item.load(\n          (ebookStore.currentBook as Book).load.bind(\n            ebookStore.currentBook as Book\n          )\n        ) as unknown) as EbookLoad)\n          .then(item.find.bind(item, q))\n          .finally(item.unload.bind(item))\n      )\n    ).then((results) =>\n      Promise.resolve(([] as any[]).concat.apply([], results))\n    )\n  }\n\n  const handleSearch = (e: KeyboardEvent<HTMLInputElement>) => {\n    if (e.keyCode === 13) {\n      searchResult(search).then((res) => {\n        setSearchList(\n          res.map((item) => {\n            item.excerpt = item.excerpt.replace(\n              search,\n              `<span class=\"content-search-text\">${search}</span>`\n            )\n            return item\n          })\n        )\n      })\n    }\n  }\n\n  return useObserver(() => (\n    <SlideContentWrapper>\n      <div className=\"slide-contents-search-wrapper\">\n        <div className=\"slide-contents-search-input-wrapper\">\n          <div className=\"slide-contents-search-icon\">\n            <span className=\"icon-search\"></span>\n          </div>\n          <form action=\"\" style={{ width: '100%' }}>\n            <input\n              className=\"slide-contents-search-input\"\n              type=\"search\"\n              placeholder={t('searchHint')}\n              value={search}\n              onClick={() => setSearchPageVisible(true)}\n              onChange={(e) => setSearch(e.target.value)}\n              onKeyDown={(e) => handleSearch(e)}\n            />\n            <input type=\"text\" style={{ display: 'none' }} />\n          </form>\n        </div>\n        {searchPageVisible ? (\n          <div\n            className=\"slide-contents-search-cancel\"\n            onClick={() => {\n              setSearch('')\n              setSearchPageVisible(false)\n            }}\n          >\n            {t('cancel')}\n          </div>\n        ) : null}\n      </div>\n      <div\n        className=\"slide-contents-book-wrapper\"\n        style={{ display: searchPageVisible ? 'none' : 'flex' }}\n      >\n        <div className=\"slide-contents-book-img-wrapper\">\n          <img\n            className=\"slide-contents-book-img\"\n            src={ebookStore.cover}\n            alt=\"cover\"\n          />\n        </div>\n        <div className=\"slide-contents-book-info-wrapper\">\n          <div className=\"slide-contents-book-title\">\n            <span className=\"slide-contents-book-title-text\">\n              {(ebookStore.metadata as PackagingMetadataObject).title}\n            </span>\n          </div>\n          <div className=\"slide-contents-book-author\">\n            <span className=\"slide-contents-book-author-text\">\n              {(ebookStore.metadata as PackagingMetadataObject).creator}\n            </span>\n          </div>\n        </div>\n        <div className=\"slide-contents-book-progress-wrapper\">\n          <div className=\"slide-contents-book-progress\">\n            <span className=\"progress\">{ebookStore.progress + '%'}</span>\n            <span className=\"progress-text\">{t('haveRead2')}</span>\n          </div>\n          <div className=\"slide-contents-book-time\">\n            {t('haveRead', { time: ebookStore.readTime })}\n          </div>\n        </div>\n      </div>\n      <div style={{ display: searchPageVisible ? 'none' : 'block' }}>\n        <Scroll top={156} bottom={48}>\n          <div className=\"slide-contents-list\">\n            {ebookStore.navigation.map((item, index) => {\n              return (\n                <SlideContentsItem\n                  key={item.id}\n                  label={item.label.trim()}\n                  page={item.page}\n                  level={item.level}\n                  href={item.href}\n                  index={index}\n                ></SlideContentsItem>\n              )\n            })}\n          </div>\n        </Scroll>\n      </div>\n      <div style={{ display: !searchPageVisible ? 'none' : 'block' }}>\n        <Scroll top={66} bottom={48}>\n          <div className=\"slide-search-list\">\n            {searchList.map((item, index) => {\n              return (\n                <SlideSearchItem\n                  excerpt={item.excerpt}\n                  cfi={item.cfi}\n                  key={index}\n                ></SlideSearchItem>\n              )\n            })}\n          </div>\n        </Scroll>\n      </div>\n    </SlideContentWrapper>\n  ))\n}\n\nexport default memo(EbookSlideContent)\n","import React, { memo, FC } from 'react'\nimport { useStore as useEbookStore } from '@/store/ebook'\nimport { SlideBookmark } from './style'\nimport { useDisplay, useToggleMenuVisible } from '../hooks'\nimport { getBookmark, bookmarkItem } from '@/utils/localStorage'\nimport Scroll from '@/common/scroll/Scroll'\nimport { useTranslation } from 'react-i18next'\n\nconst EbookSlideBookMark: FC = () => {\n  const ebookStore = useEbookStore()\n  const { t } = useTranslation('book')\n  const display = useDisplay()\n  const toggleMenuVisible = useToggleMenuVisible()\n  const bookmark:bookmarkItem[] = getBookmark(ebookStore.fileName)\n\n  const handleDisplay = async (cfi:string,highlight:boolean) => {\n    await display(cfi, highlight)\n    toggleMenuVisible()\n  }\n\n  return (\n    <SlideBookmark>\n      <div className=\"slide-bookmark-title\">\n        {t('bookmark')}  {bookmark ? bookmark.length : 0}\n      </div>\n      <Scroll top={48} bottom={48}>\n        <div className=\"slide-bookmark-list\">\n          {bookmark\n            ? bookmark.map((item, index) => {\n                return (\n                  <div\n                    className=\"slide-bookmark-item\"\n                    key={index}\n                    onClick={() => handleDisplay(item.cfi, false)}\n                  >\n                    <div className=\"slide-bookmark-item-icon\">\n                      <div className=\"icon-bookmark\" />\n                    </div>\n                    <div className=\"slide-bookmark-item-text\">{item.text}</div>\n                  </div>\n                )\n              })\n            : null}\n        </div>\n      </Scroll>\n    </SlideBookmark>\n  )\n}\n\nexport default memo(EbookSlideBookMark)\n","import React, { FC, useState, useContext, memo } from 'react'\nimport { observer } from 'mobx-react'\nimport { ThemeContext, ThemeProvider } from 'styled-components'\nimport { SlideSettingWrapper } from './style'\nimport { useStore as useEbookStore } from '@/store/ebook'\nimport { CSSTransition } from 'react-transition-group'\nimport { useToggleMenuVisible } from '../hooks'\nimport EbookLoading from './EbookLoading'\nimport classNames from 'classnames'\nimport { useTranslation } from 'react-i18next'\nimport KeepAlive from 'react-activation'\nimport EbookSlideContent from './EbookSlideContent'\nimport EbookSlideBookMark from './EbookSlideBookMark'\n\nconst EbookSlide: FC = observer(() => {\n  const ebookStore = useEbookStore()\n  const { t } = useTranslation('book')\n  const toggleMenuVisible = useToggleMenuVisible()\n  const themeContext = useContext(ThemeContext)\n\n  const [tab, setTab] = useState<1 | 2>(1)\n\n  return ebookStore.slideVisible ? (\n    <SlideSettingWrapper>\n      <CSSTransition\n        in={ebookStore.slideVisible}\n        timeout={500}\n        classNames=\"fade\"\n        appear={true}\n        unmountOnExit\n      >\n        <div className=\"mask\" onClick={() => toggleMenuVisible()}></div>\n      </CSSTransition>\n      <CSSTransition\n        in={ebookStore.slideVisible}\n        timeout={500}\n        classNames=\"slide-right\"\n        appear\n        unmountOnExit\n      >\n        <div className=\"content\">\n          {!ebookStore.isPaginating ? (\n            <div className=\"content-page-wrapper\">\n              <div className=\"content-page\">\n                {tab === 1 ? (\n                  <KeepAlive>\n                    <ThemeProvider theme={themeContext}>\n                      <EbookSlideContent></EbookSlideContent>\n                    </ThemeProvider>\n                  </KeepAlive>\n                ) : (\n                  <EbookSlideBookMark></EbookSlideBookMark>\n                )}\n              </div>\n              <div className=\"content-page-tab\">\n                <div\n                  className={classNames({\n                    'content-page-tab-item': true,\n                    selected: tab === 1,\n                  })}\n                  onClick={() => setTab(1)}\n                >\n                  {t('navigation')}\n                </div>\n                <div\n                  className={classNames({\n                    'content-page-tab-item': true,\n                    selected: tab === 2,\n                  })}\n                  onClick={() => setTab(2)}\n                >\n                  {t('bookmark')}\n                </div>\n              </div>\n            </div>\n          ) : (\n            <div className=\"empty\">\n              <EbookLoading></EbookLoading>\n            </div>\n          )}\n        </div>\n      </CSSTransition>\n    </SlideSettingWrapper>\n  ) : null\n})\n\nexport default memo(EbookSlide)\n","import React, { memo, FC } from 'react'\nimport EbookMenuWrapper from './style'\nimport { CSSTransition } from 'react-transition-group'\nimport { useStore as useEbookStore } from '@/store/ebook'\nimport { useObserver } from 'mobx-react'\nimport EbookSettingFont from '../ebookSettingFont/EbookSettingFont'\nimport EbookSettingFontPopup from '../ebookSettingFont/EbookSettingFontPopup'\nimport EbookSettingTheme from '../ebookSettingTheme/EbookSettingTheme'\nimport EbookSettingProgress from '../ebookSettingProgress/EbookSettingProgress'\nimport EbookSlide from '../ebookSlide/EbookSlide'\n\nconst EbookTitle: FC = () => {\n  const ebookStore = useEbookStore()\n\n  return useObserver(() => (\n    <>\n      <CSSTransition\n        in={ebookStore.menuVisible}\n        timeout={300}\n        classNames=\"slide-up\"\n        appear={true}\n        unmountOnExit\n      >\n        <EbookMenuWrapper>\n          <div\n            className=\"icon-wrapper\"\n            onClick={() => ebookStore.changeSettingVisible(3)}\n          >\n            <span className=\"icon-menu\"></span>\n          </div>\n          <div\n            className=\"icon-wrapper\"\n            onClick={() => ebookStore.changeSettingVisible(2)}\n          >\n            <span className=\"icon-progress\"></span>\n          </div>\n          <div\n            className=\"icon-wrapper\"\n            onClick={() => ebookStore.changeSettingVisible(1)}\n          >\n            <span className=\"icon-bright\"></span>\n          </div>\n          <div\n            className=\"icon-wrapper\"\n            onClick={() => ebookStore.changeSettingVisible(0)}\n          >\n            <span className=\"icon-A\"></span>\n          </div>\n        </EbookMenuWrapper>\n      </CSSTransition>\n      <EbookSettingFont></EbookSettingFont>\n      <EbookSettingTheme></EbookSettingTheme>\n      <EbookSettingProgress></EbookSettingProgress>\n      <EbookSettingFontPopup></EbookSettingFontPopup>\n      <EbookSlide></EbookSlide>\n    </>\n  ))\n}\n\nexport default memo(EbookTitle)\n","import styled from 'styled-components'\nimport { px2vw, mixin, realPx } from '@/assets/styles'\n\nexport const EbookBookMarkWrapper = styled.div<{ top: number }>`\n  position: absolute;\n  top: ${(props) => px2vw(-props.top)};\n  left: 0;\n  z-index: 200;\n  width: 100%;\n  height: ${px2vw(35)};\n  .ebook-bookmark-text-wrapper {\n    position: absolute;\n    right: ${px2vw(45)};\n    bottom: 0;\n    display: flex;\n    .ebook-bookmark-down-wrapper {\n      font-size: ${px2vw(14)};\n      color: white;\n      transition: all 0.2s linear;\n      ${mixin.center()};\n      transform: ${(props) => {\n        if (props.top >= realPx(35) && props.top < realPx(55)) {\n          return 'rotate(0deg)'\n        } else if (props.top > realPx(55)) {\n          return 'rotate(180deg)'\n        }\n      }};\n    }\n    .ebook-bookmark-text {\n      font-size: ${px2vw(14)};\n      color: white;\n    }\n  }\n  .ebook-bookmark-icon-wrapper {\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    margin-right: ${px2vw(10)};\n    &.beFixed {\n      position: fixed;\n      right: 0px;\n      top: 0px;\n      z-index: 210;\n    }\n  }\n`\n","import React, { FC, memo } from 'react'\nimport styled from 'styled-components'\nimport { px2vw } from '@/assets/styles'\n\ninterface prop {\n  color: string\n  beFixed: boolean\n}\n\nconst BookMarkWrapper = styled.div<prop>`\n  width: 0;\n  height: 0;\n  font-weight: bold;\n  line-height: 0;\n  border-width: ${px2vw(30)} ${px2vw(7.5)} ${px2vw(5)} ${px2vw(7.5)};\n  border-style: solid;\n  border-color: ${(props) => props.theme[props.color]}\n    ${(props) => props.theme[props.color]} transparent\n    ${(props) => props.theme[props.color]};\n  z-index: ${(props) => (props.beFixed ? '210' : '')};\n`\n\nconst BookMark: FC<prop> = ({ color, beFixed }) => {\n  return <BookMarkWrapper color={color} beFixed={beFixed}></BookMarkWrapper>\n}\n\nexport default memo(BookMark)\n","import React, {\n  FC,\n  memo,\n  useState,\n  useMemo,\n  useEffect,\n  useRef,\n  useCallback,\n} from 'react'\nimport { useStore as useEbookStore, types } from '@/store/ebook'\nimport { EbookBookMarkWrapper } from './style'\nimport { useObserver } from 'mobx-react'\nimport { useTranslation } from 'react-i18next'\nimport classnames from 'classnames'\nimport BookMark from './BookMark'\nimport { realPx } from '@/assets/styles'\nimport { reaction } from 'mobx'\nimport { bookmarkItem, getBookmark, saveBookmark } from '@/utils/localStorage'\nimport { isBook } from '@/utils/utils'\n\nconst EbookBookMark: FC = () => {\n  const ebookStore = useEbookStore()\n  const { t } = useTranslation('book')\n  const [top, setTop] = useState(35)\n  const [text, setText] = useState(t('pulldownAddMark'))\n  const [fixedFlag, setFixedFlag] = useState(false)\n  const [color, setColor] = useState('backgroundColor')\n  const [setBookMark, setSetBookMark] = useState(false)\n  const bookmark = useRef<bookmarkItem[]>([])\n\n  const fixHeight = useMemo(() => {\n    return realPx(35)\n  }, [])\n  const threshold = useMemo(() => {\n    return realPx(55)\n  }, [])\n\n  const setAndSaveBookmark = useCallback(() => {\n    if (isBook(ebookStore.currentBook)) {\n      bookmark.current = getBookmark(ebookStore.fileName)\n      if (!bookmark.current) {\n        bookmark.current = []\n      }\n      const currentLocation = (ebookStore.currentBook.rendition.currentLocation() as unknown) as types.Location\n      const cfibase = currentLocation.start.cfi\n        .replace(/!.*/, '')\n        .replace('epubcfi(', '')\n      const cfistart = currentLocation.start.cfi\n        .replace(/.*!/, '')\n        .replace(/\\)/, '')\n      const cfiend = currentLocation.end.cfi\n        .replace(/.*!/, '')\n        .replace(/\\)/, '')\n      const cfiRange = `epubcfi(${cfibase}!,${cfistart},${cfiend})`\n      const cfi = currentLocation.start.cfi\n      ;((ebookStore.currentBook.getRange(cfiRange) as unknown) as Promise<\n        Range\n      >).then((range) => {\n        let text = range.toString()\n        text = text.replace(/\\s\\s/g, '')\n        text = text.replace(/\\r/g, '')\n        text = text.replace(/\\n/g, '')\n        text = text.replace(/\\t/g, '')\n        text = text.replace(/\\f/g, '')\n        bookmark.current.push({\n          cfi: cfi,\n          text: text,\n        })\n        ebookStore.changeIsBookMark(true)\n        saveBookmark(ebookStore.fileName, bookmark.current)\n      })\n    }\n  }, [ebookStore])\n\n  const removeBookmark = useCallback(() => {\n    if (isBook(ebookStore.currentBook)) {\n      const currentLocation = (ebookStore.currentBook.rendition.currentLocation() as unknown) as types.Location\n      const cfi = currentLocation.start.cfi\n      if (bookmark.current) {\n        bookmark.current = bookmark.current.filter((item) => item.cfi !== cfi)\n        saveBookmark(ebookStore.fileName, bookmark.current)\n      }\n      ebookStore.changeIsBookMark(false)\n    }\n  }, [ebookStore])\n\n  useEffect(() => {\n    const cleanupMark = reaction(\n      () => ebookStore.isBookMark,\n      (isBookMark) => {\n        setFixedFlag(isBookMark)\n        if (isBookMark) {\n          setColor('slideLightTextColor')\n        } else {\n          setColor('backgroundColor')\n        }\n      },\n      {\n        fireImmediately: true,\n      }\n    )\n\n    const cleanup = reaction(\n      () => ({\n        offsetY: ebookStore.offsetY,\n        effectFlag: ebookStore.isPaginating,\n      }),\n      (prop) => {\n        const { offsetY, effectFlag } = prop\n        if (offsetY > 0 && offsetY < fixHeight && !effectFlag) {\n          setSetBookMark(false)\n          if (!ebookStore.isBookMark) {\n            setText(t('pulldownAddMark'))\n            setColor('backgroundColor')\n          } else {\n            setText(t('pulldownDeleteMark'))\n            setColor('slideLightTextColor')\n          }\n        } else if (offsetY >= fixHeight && offsetY < threshold && !effectFlag) {\n          setSetBookMark(false)\n          if (!ebookStore.isBookMark) {\n            setTop(offsetY)\n            setText(t('pulldownAddMark'))\n            setColor('backgroundColor')\n          } else {\n            setTop(offsetY)\n            setText(t('pulldownDeleteMark'))\n            setColor('slideLightTextColor')\n          }\n        } else if (offsetY >= threshold && !effectFlag) {\n          setSetBookMark(true)\n          if (!ebookStore.isBookMark) {\n            setTop(offsetY)\n            setText(t('releaseAddMark'))\n            setColor('slideLightTextColor')\n          } else {\n            setTop(offsetY)\n            setText(t('releaseDeleteMark'))\n            setColor('backgroundColor')\n          }\n        } else if (offsetY === 0 && !effectFlag) {\n          if (!ebookStore.isBookMark) {\n            if (setBookMark) {\n              setFixedFlag(true)\n              //   ebookStore.changeIsBookMark(true)\n              setAndSaveBookmark()\n              setTimeout(() => {\n                setTop(35)\n                setText(t('releaseAddMark'))\n                setColor('slideLightTextColor')\n                setSetBookMark(false)\n              }, 200)\n            } else {\n              setFixedFlag(false)\n              setTimeout(() => {\n                setTop(35)\n                setText(t('pulldownAddMark'))\n                setColor('backgroundColor')\n                setSetBookMark(false)\n              }, 200)\n            }\n          } else {\n            if (setBookMark) {\n              setFixedFlag(false)\n              //   ebookStore.changeIsBookMark(false)\n              removeBookmark()\n              setTimeout(() => {\n                setTop(35)\n                setText(t('pulldownAddMark'))\n                setColor('backgroundColor')\n                setSetBookMark(false)\n              }, 200)\n            } else {\n              setFixedFlag(true)\n              setTimeout(() => {\n                setTop(35)\n                setText(t('releaseAddMark'))\n                setColor('slideLightTextColor')\n                setSetBookMark(false)\n              }, 200)\n            }\n          }\n        }\n      }\n    )\n    return () => {\n      cleanup()\n      cleanupMark()\n    }\n  }, [\n    ebookStore,\n    fixHeight,\n    removeBookmark,\n    setAndSaveBookmark,\n    setBookMark,\n    t,\n    threshold,\n  ])\n\n  return useObserver(() => (\n    <EbookBookMarkWrapper top={top}>\n      <div className=\"ebook-bookmark-text-wrapper\">\n        <div className=\"ebook-bookmark-down-wrapper\">\n          <span className=\"icon-down\"></span>\n        </div>\n        <div className=\"ebook-bookmark-text\">{text}</div>\n      </div>\n      <div\n        className={classnames({\n          'ebook-bookmark-icon-wrapper': true,\n          beFixed: fixedFlag,\n        })}\n      >\n        <BookMark color={color} beFixed={fixedFlag}></BookMark>\n      </div>\n    </EbookBookMarkWrapper>\n  ))\n}\n\nexport default memo(EbookBookMark)\n","import styled from 'styled-components'\n\ninterface EbookWrapperProp {\n  Y: number\n}\n\nconst EbookWrapper = styled.div<EbookWrapperProp>`\n  position: absolute;\n  top: ${(props) => props.Y}px;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n  transition: ${(props) => (!props.Y ? 'all 0.2s linear' : '')};\n`\n\nexport default EbookWrapper\n","import React, { useEffect } from 'react'\nimport { Route } from 'react-router-dom'\nimport { StoreProvider } from '@/store/ebook'\nimport { useStore as useEbookStore } from '@/store/ebook'\nimport { useObserver } from 'mobx-react'\nimport { ThemeProvider } from 'styled-components'\nimport EbookTitle from './pages/ebookTitle/EbookTitle'\nimport EbookReader from './pages/ebookReader/EbookReader'\nimport EbookMenu from './pages/ebookMenu/EbookMenu'\nimport EbookBookMark from './pages/ebookBookMark/EbookBookMark'\nimport EbookWrapper from './style'\nimport { reaction } from 'mobx'\nimport { getReadTime, saveReadTime } from '@/utils/localStorage'\nimport { AliveScope } from 'react-activation'\n\nconst EbookChild: React.FC = () => {\n  const ebookStore = useEbookStore()\n\n  useEffect(() => {\n    let timer: number\n    const cleanUpVisible = reaction(\n      () => ebookStore.menuVisible,\n      (visible) => {\n        if (!visible) {\n          ebookStore.changeSettingVisible(-1)\n          ebookStore.changeFontFamilyVisible(false)\n        }\n      }\n    )\n    let readTime = getReadTime(ebookStore.fileName)\n    if (!readTime) {\n      readTime = 0\n    } else {\n      ebookStore.changeReadTime(Math.ceil(readTime / 60))\n    }\n    timer = setInterval(() => {\n      readTime++\n      if (readTime % 30 === 0) {\n        ebookStore.changeReadTime(Math.ceil(readTime / 60))\n        saveReadTime(ebookStore.fileName, readTime)\n      }\n    }, 1000)\n\n    return () => {\n      cleanUpVisible()\n      clearInterval(timer)\n    }\n  }, [ebookStore])\n\n  return useObserver(() => (\n    <ThemeProvider theme={ebookStore.theme}>\n      <AliveScope>\n        <EbookWrapper Y={ebookStore.Y}>\n          <EbookBookMark></EbookBookMark>\n          <EbookTitle></EbookTitle>\n          <Route path=\"/ebook/:fileName\" component={EbookReader}></Route>\n          <EbookMenu></EbookMenu>\n        </EbookWrapper>\n      </AliveScope>\n    </ThemeProvider>\n  ))\n}\n\nconst Ebook: React.FC = () => (\n  <StoreProvider>\n    <EbookChild></EbookChild>\n  </StoreProvider>\n)\n\nexport default Ebook\n","import styled from 'styled-components'\nimport { px2vw } from '@/assets/styles'\n\nexport const BookHomeWrapper = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  background: #fff;\n  font-size: ${px2vw(16)};\n  color: #666;\n  .book-list-wrapper {\n    width: 100%;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    -webkit-overflow-scrolling: touch;\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    .banner-wrapper {\n      width: 100%;\n      padding: ${px2vw(10)};\n      box-sizing: border-box;\n      .banner {\n        width: 100%;\n        height: ${px2vw(150)};\n        background-repeat: no-repeat;\n        background-size: 100% 100%;\n      }\n    }\n    .recommend {\n      margin-top: ${px2vw(20)};\n    }\n    .featured {\n      margin-top: ${px2vw(20)};\n    }\n    .category-list-wrapper {\n      margin-top: ${px2vw(20)};\n    }\n    .category {\n      margin-top: ${px2vw(20)};\n    }\n  }\n`\n","import styled from \"styled-components\"\nimport { px2vw,transition,mixin, realPx } from \"@/assets/styles\"\n\nexport const SearchBarWrapper = styled.div`\n  .title-search-wrapper {\n    position: relative;\n    z-index: 110;\n    width: 100%;\n    height: ${px2vw(94)};\n    background: white;\n    box-shadow: 0 ${px2vw(2)} ${px2vw(2)} 0 rgba(0, 0, 0, 0.1);\n    &.show-search {\n      height: ${px2vw(52)};\n    }\n    &.hide-shadow {\n      box-shadow: none;\n    }\n    .title-search-page-wrapper {\n      position: absolute;\n      top: 0;\n      left: 0;\n      z-index: 105;\n      width: 100%;\n      height: ${px2vw(42)};\n      ${transition.title()}\n      ${mixin.center()};\n      .title-text {\n        font-weight: bold;\n      }\n      .icon-shake-wrapper {\n        position: absolute;\n        right: 0;\n        top: 0;\n        z-index: 110;\n        padding-right: ${px2vw(15)};\n        height: 100%;\n        ${mixin.center()};\n      }\n    }\n    .icon-back-wrapper {\n      position: absolute;\n      left: ${px2vw(15)};\n      top: 0;\n      z-index: 110;\n      height: ${px2vw(42)};\n      ${mixin.center()};\n      transition: all.3s linear;\n      &.show-search {\n        height: ${px2vw(52)};\n      }\n    }\n    .search-wrapper {\n      position: absolute;\n      top: ${px2vw(42)};\n      left: 0;\n      z-index: 100;\n      display: flex;\n      padding: ${px2vw(10)};\n      width: 100%;\n      box-sizing: border-box;\n      transition: all.3s linear;\n      &.show-search {\n        top: 0;\n      }\n      .search-back-wrapper {\n        flex: 0;\n        width: 0;\n        ${mixin.center()};\n        transition: all.3s linear;\n        visibility: hidden;\n        &.show-search {\n          margin-right: ${px2vw(10)};\n          flex: 0 0 ${px2vw(20)};\n          width: ${px2vw(20)};\n        }\n        .icon-back {\n          font-size: 0;\n          &.show-search {\n            font-size: ${px2vw(20)};\n          }\n        }\n      }\n      .search-bg {\n        flex: 1;\n        background: #f4f4f4;\n        border-radius: ${px2vw(20)};\n        border: ${px2vw(1)} solid #eee;\n        box-sizing: border-box;\n        padding: ${px2vw(5)} ${px2vw(15)};\n        transition: all.3s linear;\n        ${mixin.left()};\n        .icon-search {\n          font-size: ${px2vw(16)};\n          color: #999;\n        }\n        .search {\n          color: #666;\n          width: 100%;\n          height: ${px2vw(22)};\n          background: transparent;\n          font-size: ${px2vw(12)};\n          margin-left: ${px2vw(10)};\n          border: none;\n          &:focus {\n            outline: none;\n          }\n          &::-webkit-input-placeholder {\n            color: #ccc;\n          }\n        }\n      }\n    }\n  }\n  .hot-search-wrapper {\n    width: 100%;\n    height: 100%;\n    background: white;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    -webkit-overflow-scrolling: touch;\n    ${transition.hotSearch()};\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    .line {\n      width: 100%;\n      height: 0;\n      border-top: ${px2vw(1)} solid #eee;\n      margin: ${px2vw(10)} 0;\n    }\n  }\n`\nexport const HotSearchWrapper = styled.div`\n  .hot-search-title {\n    display: flex;\n    width: 100%;\n    font-size: ${px2vw(13)};\n    padding: ${px2vw(10)};\n    box-sizing: border-box;\n    .label {\n      flex: 1;\n      text-align: left;\n      font-weight: bold;\n      color: #666;\n    }\n    .btn {\n      flex: 1;\n      text-align: right;\n      font-weight: bold;\n      color: #409eff;\n    }\n  }\n  .hot-search-list {\n    width: 100%;\n    padding: 0 ${px2vw(10)};\n    box-sizing: border-box;\n    .hot-search-item {\n      padding: ${px2vw(10)} 0;\n      display: flex;\n      .icon-wrapper {\n        flex: 0 0 ${px2vw(40)};\n        ${mixin.center()};\n        .icon-book {\n          font-size: ${px2vw(16)};\n        }\n        .icon-search {\n          font-size: ${px2vw(16)};\n        }\n      }\n      .hot-search-text-wrapper {\n        flex: 1;\n        height: ${px2vw(35)};\n        ${mixin.columnLeft()};\n        .text {\n          flex: 1;\n          height: 100%;\n          ${mixin.ellipsis()};\n          ${mixin.left()};\n          width: ${() => {\n            return window.innerWidth - realPx(20) - realPx(40) + 'px'\n          }};\n          font-size: ${px2vw(14)};\n          font-weight: bold;\n          color: #666;\n        }\n        .num {\n          font-size: ${px2vw(12)};\n          color: #999;\n          margin-top: ${px2vw(5)};\n        }\n      }\n    }\n  }\n`\n","export const searchList = {\n  hotSearch: [\n    {\n      type: 1,\n      text: 'Self-Reported Population Health',\n      num: '1.8',\n    },\n    {\n      type: 1,\n      text: 'Library and Information Sciences',\n      num: '1.1',\n    },\n    {\n      type: 1,\n      text: 'Global Business Strategy',\n      num: '1.3',\n    },\n    {\n      type: 1,\n      text: 'Corporate Data Quality',\n      num: '1.0',\n    },\n    {\n      type: 1,\n      text: 'Verrechnungspreise',\n      num: '3.9',\n    },\n  ],\n  historySearch: [\n    {\n      type: 2,\n      text: 'Computer Science',\n    },\n    {\n      type: 1,\n      text: 'Building the Infrastructure for Cloud Security',\n    },\n    {\n      type: 2,\n      text: 'ePub',\n    },\n    {\n      type: 2,\n      text: 'api',\n    },\n    {\n      type: 2,\n      text: 'Vue.js',\n    },\n    {\n      type: 2,\n      text: 'Nginx',\n    },\n    {\n      type: 2,\n      text: 'Java',\n    },\n    {\n      type: 2,\n      text: 'hdfs',\n    },\n    {\n      type: 2,\n      text: 'vuejs',\n    },\n    {\n      type: 2,\n      text: 'es6',\n    },\n    {\n      type: 2,\n      text: 'Intel',\n    },\n    {\n      type: 1,\n      text: 'Pro Git',\n    },\n    {\n      type: 2,\n      text: 'imooc',\n    },\n    {\n      type: 2,\n      text: 'Education',\n    },\n    {\n      type: 2,\n      text: 'Springer',\n    },\n    {\n      type: 2,\n      text: 'Environment',\n    },\n  ],\n}\nexport const flapCardList = [\n  {\n    r: 255,\n    g: 102,\n    _g: 102,\n    b: 159,\n    imgLeft: 'url(' + require('@/assets/images/gift-left.png') + ')',\n    imgRight: 'url(' + require('@/assets/images/gift-right.png') + ')',\n    backgroundSize: '50% 50%',\n    zIndex: 100,\n    rotateDegree: 0,\n  },\n  {\n    r: 74,\n    g: 171,\n    _g: 171,\n    b: 255,\n    imgLeft: 'url(' + require('@/assets/images/compass-left.png') + ')',\n    imgRight: 'url(' + require('@/assets/images/compass-right.png') + ')',\n    backgroundSize: '50% 50%',\n    zIndex: 99,\n    rotateDegree: 0,\n  },\n  {\n    r: 255,\n    g: 198,\n    _g: 198,\n    b: 102,\n    imgLeft: 'url(' + require('@/assets/images/star-left.png') + ')',\n    imgRight: 'url(' + require('@/assets/images/star-right.png') + ')',\n    backgroundSize: '50% 50%',\n    zIndex: 98,\n    rotateDegree: 0,\n  },\n  {\n    r: 255,\n    g: 102,\n    _g: 102,\n    b: 159,\n    imgLeft: 'url(' + require('@/assets/images/heart-left.png') + ')',\n    imgRight: 'url(' + require('@/assets/images/heart-right.png') + ')',\n    backgroundSize: '50% 50%',\n    zIndex: 97,\n    rotateDegree: 0,\n  },\n  {\n    r: 59,\n    g: 201,\n    _g: 201,\n    b: 22,\n    imgLeft: 'url(' + require('@/assets/images/crown-left.png') + ')',\n    imgRight: 'url(' + require('@/assets/images/crown-right.png') + ')',\n    backgroundSize: '50% 50%',\n    zIndex: 96,\n    rotateDegree: 0,\n  },\n]\n","import React, { FC, memo } from 'react'\nimport { HotSearchWrapper } from './style'\n\ninterface HotSearchProp {\n  label: string\n  btn: string\n  hotSearch:\n    | {\n        type: number\n        text: string\n        num?: string\n      }[]\n}\n\nconst HotSearch: FC<HotSearchProp> = ({ label, btn, hotSearch }) => {\n  return (\n    <HotSearchWrapper>\n      <div className=\"hot-search-title\">\n        <span className=\"label\">{label}</span>\n        <span className=\"btn\">{btn}</span>\n      </div>\n      <div className=\"hot-search-list\">\n        {hotSearch.map((item, index) => {\n          return (\n            <div className=\"hot-search-item\" key={index}>\n              <div className=\"icon-wrapper\">\n                {item.type === 1 ? (\n                  <span className=\"icon-book icon\"></span>\n                ) : null}\n                {item.type === 2 ? (\n                  <span className=\"icon-search icon\"></span>\n                ) : null}\n              </div>\n              <div className=\"hot-search-text-wrapper\">\n                <div className=\"text\">{item.text}</div>\n                {item.num ? <div className=\"num\">{item.num}</div> : null}\n              </div>\n            </div>\n          )\n        })}\n      </div>\n    </HotSearchWrapper>\n  )\n}\n\nexport default memo(HotSearch)\n","import React, { FC, memo, useEffect } from 'react'\nimport { SearchBarWrapper } from './style'\nimport { CSSTransition } from 'react-transition-group'\nimport { useTranslation } from 'react-i18next'\nimport classnames from 'classnames'\nimport Scroll from '@/common/scroll/Scroll'\nimport { useLocalStore, useObserver } from 'mobx-react'\nimport { searchList } from '@/utils/mall'\nimport HotSearch from './HotSearch'\nimport { reaction } from 'mobx'\nimport { useHistory } from 'react-router-dom'\n\ninterface SearchBarProp {\n  offsetY: number\n  handleShowFlapCard: () => void\n}\n\nconst SearchBar: FC<SearchBarProp> = (prop) => {\n  const { t } = useTranslation('home')\n  const history = useHistory()\n\n  const store = useLocalStore(\n    (source) => ({\n      showSearchPage: false,\n      showShadow: false,\n      showHotSearch: false,\n      hotSearchY: 0,\n      setShowShadow(flag: boolean) {\n        this.showShadow = flag\n      },\n      showSearchPageAndHotSearch() {\n        this.showSearchPage = true\n        this.showShadow = false\n        this.showHotSearch = true\n      },\n      back() {\n        if (this.showSearchPage) {\n          if (source.offsetY <= 0) {\n            this.showSearchPage = false\n          } else {\n            if (this.showHotSearch) {\n              this.showSearchPage = false\n              this.showShadow = true\n              this.showHotSearch = false\n            } else {\n              history.push('/mall/shelf')\n            }\n          }\n        } else {\n          history.push('/mall/shelf')\n        }\n      },\n      setHotSearchY(Y: number) {\n        this.hotSearchY = Y\n      },\n    }),\n    prop\n  )\n\n  useEffect(() => {\n    const cleanup = reaction(\n      () => store.hotSearchY,\n      (hotSearchY) => {\n        if (hotSearchY > 0) {\n          store.setShowShadow(true)\n        } else {\n          store.setShowShadow(false)\n        }\n      }\n    )\n    return () => {\n      cleanup()\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return useObserver(() => (\n    <SearchBarWrapper>\n      <div\n        className={classnames({\n          'title-search-wrapper': true,\n          'show-search': store.showSearchPage,\n          'hide-shadow': !store.showShadow,\n        })}\n      >\n        <CSSTransition\n          in={!store.showSearchPage}\n          timeout={250}\n          classNames=\"title\"\n          unmountOnExit\n        >\n          <div className=\"title-search-page-wrapper\">\n            <span className=\"title-text\">{t('title')}</span>\n            <div\n              className=\"icon-shake-wrapper\"\n              onClick={() => prop.handleShowFlapCard()}\n            >\n              <span className=\"icon-shake icon\"></span>\n            </div>\n          </div>\n        </CSSTransition>\n        <div\n          className={classnames({\n            'icon-back-wrapper': true,\n            'show-search': store.showSearchPage,\n          })}\n          onClick={() => store.back()}\n        >\n          <span className=\"icon-back icon\"></span>\n        </div>\n        <div\n          className={classnames({\n            'search-wrapper': true,\n            'show-search': store.showSearchPage,\n          })}\n        >\n          <div\n            className={classnames({\n              'search-back-wrapper': true,\n              'show-search': store.showSearchPage,\n            })}\n          >\n            <span\n              className={classnames({\n                'icon-back': true,\n                icon: true,\n                'show-search': store.showSearchPage,\n              })}\n            ></span>\n          </div>\n          <div className=\"search-bg\">\n            <span className=\"icon-search icon\"></span>\n            <input\n              type=\"text\"\n              className=\"search\"\n              placeholder={t('hint')}\n              onClick={() => store.showSearchPageAndHotSearch()}\n            />\n          </div>\n        </div>\n      </div>\n      <CSSTransition\n        in={store.showSearchPage && store.showHotSearch}\n        timeout={500}\n        classNames=\"hotSearch\"\n        unmountOnExit\n      >\n        <Scroll top={52} onScroll={(Y) => store.setHotSearchY(Y)}>\n          <div className=\"hot-search-wrapper\">\n            <HotSearch\n              label={t('hotSearch')}\n              btn={t('change')}\n              hotSearch={searchList.hotSearch}\n            ></HotSearch>\n            <div className=\"line\"></div>\n            <HotSearch\n              label={t('historySearch')}\n              btn={t('clear')}\n              hotSearch={searchList.historySearch}\n            ></HotSearch>\n          </div>\n        </Scroll>\n      </CSSTransition>\n    </SearchBarWrapper>\n  ))\n}\n\nexport default memo(SearchBar)\n","import styled from 'styled-components'\nimport { px2vw, mixinTitle } from '@/assets/styles'\n\nexport const GuessYouLikeWrapper = styled.div`\n  .guess-you-like-list {\n    width: 100%;\n    padding: 0 ${px2vw(10)};\n    box-sizing: border-box;\n    .guess-you-like-item {\n      display: flex;\n      margin-top: ${px2vw(15)};\n      &:first-child {\n        margin-top: ${px2vw(5)};\n      }\n      .img-wrapper {\n        flex: 0 0 20%;\n        padding: ${px2vw(10)} ${px2vw(10)} ${px2vw(10)} 0;\n        box-sizing: border-box;\n        .img {\n          width: 100%;\n        }\n      }\n      .content-wrapper {\n        flex: 1;\n        padding: ${px2vw(10)} 0;\n        box-sizing: border-box;\n        .author {\n          margin-top: ${px2vw(15)};\n        }\n        .result {\n          margin-top: ${px2vw(5)};\n        }\n        ${mixinTitle()}\n      }\n    }\n  }\n`\n","import styled from 'styled-components'\nimport { px2vw,mixin } from '@/assets/styles'\n\nexport const TitleWrapper = styled.div`\n  width: 100%;\n  padding: ${px2vw(15)} ${px2vw(10)};\n  box-sizing: border-box;\n  ${mixin.top()}\n  .label {\n    flex: 1;\n    font-size: ${px2vw(18)};\n    color: #333;\n    font-weight: bold;\n  }\n  .btn {\n    font-size: ${px2vw(14)};\n    color: rgba(64, 158, 255, 1);\n    &.touch {\n      color: rgba(64, 158, 255, 0.5);\n    }\n  }\n`","import React, { useState, memo, FC, useCallback } from 'react'\nimport { TitleWrapper } from './style'\nimport classnames from 'classnames'\n\ninterface titleProp {\n  label: string\n  btn: string\n  onChange?: () => void\n}\n\nconst Title: FC<titleProp> = ({ label, btn, onChange }) => {\n  const [isOnTouch, setIsOnTouch] = useState(false)\n  const handleTouchStart = useCallback(() => {\n    setIsOnTouch(true)\n  }, [])\n\n  const handleTouchEnd = useCallback(() => {\n    setIsOnTouch(false)\n  }, [])\n\n  const handleChange = useCallback(() => {\n   if(onChange) onChange()\n  }, [onChange])\n  return (\n    <TitleWrapper>\n      <div className=\"label\">{label}</div>\n      <div\n        className={classnames({\n          btn: true,\n          touch: isOnTouch,\n        })}\n        onTouchStart={() => handleTouchStart()}\n        onTouchEnd={() => handleTouchEnd()}\n        onMouseDown={() => handleTouchStart()}\n        onMouseUp={() => handleTouchEnd()}\n        onClick={() => handleChange()}\n      >\n        {btn}\n      </div>\n    </TitleWrapper>\n  )\n}\n\nexport default memo(Title)\n","import { useCallback } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport qs from 'qs'\nimport { categoryText, getCategoryName } from '@/utils/book'\nimport { useTranslation } from 'react-i18next'\n\nexport const useShowBookDetail = () => {\n  const history = useHistory()\n\n  const showBookDetail = useCallback(\n    (book) => {\n      history.push(`/mall/detail/${book.fileName}`, {\n        category: book.categoryText,\n      })\n    },\n    [history]\n  )\n  return showBookDetail\n}\n\nexport const useShowBookCategory = () => {\n  const history = useHistory()\n  const { t } = useTranslation(['category', 'home'])\n  const showBookCategory = useCallback(\n    (item) => {\n      history.push({\n        pathname: '/mall/list',\n        search: `?${qs.stringify({\n          category: getCategoryName(item.category),\n          categoryText: categoryText(item.category, t),\n        })}`,\n      })\n    },\n    [history, t]\n  )\n  return showBookCategory\n}","import React, { FC, memo } from 'react'\nimport { GuessYouLikeWrapper } from './style'\nimport TitleView from '../title/Title'\nimport { useTranslation } from 'react-i18next'\nimport { GuessYouLikeItem } from '../types'\nimport { useObserver, useLocalStore } from 'mobx-react'\nimport { useShowBookDetail } from '../../hooks'\n\ninterface GuessYouLikeProp {\n  data: GuessYouLikeItem[]\n}\n\nconst GuessYouLike: FC<GuessYouLikeProp> = (prop) => {\n  const { t } = useTranslation('home')\n  const showBookDetail = useShowBookDetail()\n\n  const store = useLocalStore(\n    (prop) => ({\n      index: 0,\n      get total() {\n        return prop.data && Math.floor(prop.data.length / 3)\n      },\n      get showData() {\n        if (prop.data.length > 0) {\n          return [\n            prop.data[store.index],\n            prop.data[store.index + store.total],\n            prop.data[store.index + store.total * 2],\n          ]\n        } else {\n          return []\n        }\n      },\n      change(){\n        if (store.index + 1 >= store.total) {\n            store.index = 0\n          } else {\n            store.index++\n          }\n      }\n    }),\n    prop\n  )\n\n  const resultText = (item: GuessYouLikeItem) => {\n    if (item && item.type && item.result) {\n      switch (item.type) {\n        case 1:\n          return t('sameAuthor', { result: item.result })\n        case 2:\n          return t('sameReader', { result: item.result })\n        case 3:\n          return t('readPercent', {\n            result: item.result,\n            percent: item.percent,\n          })\n        default:\n          return ''\n      }\n    }\n  }\n\n  return useObserver(() => (\n    <GuessYouLikeWrapper>\n      <TitleView\n        label={t('guessYouLike')}\n        btn={t('change')}\n        onChange={store.change}\n      ></TitleView>\n      <div className=\"guess-you-like-list\">\n        {store.showData.length > 0\n          ? store.showData.map((item, index) => {\n              return (\n                <div\n                  className=\"guess-you-like-item\"\n                  key={item.id}\n                  onClick={() => showBookDetail(item)}\n                >\n                  <div className=\"img-wrapper\">\n                    <img className=\"img\" src={item.cover} alt=\"\" />\n                  </div>\n                  <div className=\"content-wrapper\">\n                    <div className=\"title title-big\">{item.title}</div>\n                    <div className=\"author sub-title\">{item.author}</div>\n                    <div className=\"result third-title\">{resultText(item)}</div>\n                  </div>\n                </div>\n              )\n            })\n          : null}\n      </div>\n    </GuessYouLikeWrapper>\n  ))\n}\n\nexport default memo(GuessYouLike)\n","import styled from 'styled-components'\nimport { px2vw, mixinTitle,mixin } from '@/assets/styles'\n\nexport const RecommendWrapper = styled.div`\nmargin-top: ${px2vw(20)};\n    .recommend-list {\n      width: 100%;\n      ${mixin.top()}\n      padding: 0 ${px2vw(5)};\n      box-sizing: border-box;\n      .recommend-item {\n        flex: 0 0 33.33%;\n        width: 33.33%;\n        padding: 0 ${px2vw(5)};\n        box-sizing: border-box;\n        .img-wrapper {\n          ${mixin.center()}\n          .img {\n            width: 80%;\n          }\n        }\n        .content-wrapper {\n          width: 100%;\n          margin-top: ${px2vw(10)};\n          ${mixin.columnCenter()}\n          .title {\n            text-align: center;\n          }\n          .num {\n            margin-top: ${px2vw(5)};\n          }\n        ${mixinTitle()}\n        }\n      }\n    }\n`\n","import React, { FC, memo } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport TitleView from '../title/Title'\nimport { RecommendWrapper } from './style'\nimport { RecommendItem } from '../types'\nimport { useObserver } from 'mobx-react'\nimport { useShowBookDetail } from '../../hooks'\n\ninterface RecommendProp {\n  data: RecommendItem[]\n}\n\nconst Recommend: FC<RecommendProp> = ({ data }) => {\n  const { t } = useTranslation('home')\n  const showBookDetail = useShowBookDetail()\n  return useObserver(() => (\n    <RecommendWrapper>\n      <TitleView label={t('recommend')} btn={t('seeAll')}></TitleView>\n      <div className=\"recommend-list\">\n        {data &&\n          data.map((item) => {\n            return (\n              <div\n                className=\"recommend-item\"\n                key={item.id}\n                onClick={() => showBookDetail(item)}\n              >\n                <div className=\"img-wrapper\">\n                  <img className=\"img\" alt=\"\" src={item.cover} />\n                </div>\n                <div className=\"content-wrapper\">\n                  <div className=\"title title-medium\">{item.title}</div>\n                  <div className=\"num sub-title\">\n                    {t('readers', { renders: item.readers })}\n                  </div>\n                </div>\n              </div>\n            )\n          })}\n      </div>\n    </RecommendWrapper>\n  ))\n}\n\nexport default memo(Recommend)\n","import styled from 'styled-components'\nimport { px2vw, mixinTitle, mixin } from '@/assets/styles'\n\nexport const FeaturedWrapper = styled.div`\n  margin-top: ${px2vw(20)};\n  .featured-list {\n    width: 100%;\n    padding: 0 ${px2vw(10)};\n    box-sizing: border-box;\n    .featured-item-wrapper {\n      width: 100%;\n      display: flex;\n      flex-flow: row wrap;\n      justify-content: flex-start;\n      align-items: flex-start;\n      .featured-item {\n        flex: 0 0 50%;\n        width: 50%;\n        padding: ${px2vw(5)} 0;\n        ${mixin.top()};\n        .img-wrapper {\n          flex: 0 0 30%;\n          width: 30%;\n          .img {\n            width: 100%;\n          }\n        }\n        .content-wrapper {\n          flex: 1;\n          width: ${px2vw(117.5)};\n          padding: 0 ${px2vw(5)};\n          box-sizing: border-box;\n          .author {\n            margin-top: ${px2vw(15)};\n          }\n          .category {\n            margin-top: ${px2vw(5)};\n          }\n          ${mixinTitle()}\n        }\n      }\n    }\n  }\n`\n","import React, { FC, memo } from 'react'\nimport { FeaturedWrapper } from './style'\nimport { useTranslation } from 'react-i18next'\nimport { FeaturedItem } from '../types'\nimport TitleView from '../title/Title'\nimport { categoryText } from '@/utils/book'\nimport { useShowBookDetail } from '../../hooks'\n\ninterface FeaturedProp {\n  data: FeaturedItem[]\n  titleText: string\n  btnText: string\n}\n\nconst Featured: FC<FeaturedProp> = ({ data, titleText, btnText }) => {\n  const { t } = useTranslation(['category', 'home'])\n  const showBookDetail = useShowBookDetail()\n  return (\n    <FeaturedWrapper>\n      <TitleView label={titleText} btn={btnText}></TitleView>\n      <div className=\"featured-list\">\n        <div className=\"featured-item-wrapper\">\n          {data &&\n            data.map((item) => {\n              return (\n                <div\n                  className=\"featured-item\"\n                  key={item.id}\n                  onClick={() => showBookDetail(item)}\n                >\n                  <div className=\"img-wrapper\">\n                    <img className=\"img\" src={item.cover} alt=\"\" />\n                  </div>\n                  <div className=\"content-wrapper\">\n                    <div className=\"title title-small\">{item.title}</div>\n                    <div className=\"author sub-title-tiny\">{item.author}</div>\n                    <div className=\"category third-title-tiny\">\n                      {categoryText(item.category, t)}\n                    </div>\n                  </div>\n                </div>\n              )\n            })}\n        </div>\n      </div>\n    </FeaturedWrapper>\n  )\n}\n\nexport default memo(Featured)\n","import axios from 'axios'\nimport { BookItem } from '@/views/mall/shelf/types'\nimport { getCategoryName } from '@/utils/book'\nimport { setLocalForage } from '@/utils/localForage'\n\nexport function home() {\n  return axios({\n    method: 'get',\n    url: `${process.env.REACT_APP_SAM_URL}/book/home`,\n  })\n}\n\nexport function detail(book: { fileName: string }) {\n  return axios({\n    method: 'get',\n    url: `${process.env.REACT_APP_SAM_URL}/book/detail`,\n    params: {\n      fileName: book.fileName,\n    },\n  })\n}\n\nexport function list() {\n  return axios({\n    method: 'get',\n    url: `${process.env.REACT_APP_SAM_URL}/book/list`,\n  })\n}\n\nexport function shelf() {\n  return axios({\n    method: 'get',\n    url: `${process.env.REACT_APP_SAM_URL}/book/shelf`,\n  })\n}\n\nexport function download(\n  item: BookItem,\n  onSuccess: (...args: any) => any,\n  onFailed: (...args: any) => any,\n  onError: (...args: any) => any,\n  onProgress?: (...args: any) => any,\n) {\n  axios\n    .create({\n      baseURL: process.env.REACT_APP_EPUB_URL,\n      method: 'get',\n      responseType: 'blob',\n      timeout: 360 * 1000,\n      onDownloadProgress: (progressEvent) => {\n        if (onProgress) onProgress(progressEvent)\n      },\n    })\n    .get(`${getCategoryName(item.category)}/${item.fileName}.epub`)\n    .then((res) => {\n      const blob = new Blob([res.data])\n      setLocalForage(\n        item.fileName,\n        blob,\n        () => {\n          if (onSuccess) onSuccess(item)\n        },\n        (err) => {\n          if (onFailed) onFailed(err)\n        }\n      )\n    })\n    .catch((err) => {\n      if (onError) onError(err)\n    })\n}\n","import styled from 'styled-components'\nimport { px2vw, mixinTitle, mixin } from '@/assets/styles'\n\n\nexport const CategoryBookWrapper = styled.div`\n  .category-book-list {\n    width: 100%;\n    ${mixin.top()};\n    padding: 0 ${px2vw(5)};\n    box-sizing: border-box;\n    .category-book-item {\n      flex: 0 0 25%;\n      width: 25%;\n      padding: 0 ${px2vw(5)};\n      box-sizing: border-box;\n      .img-wrapper {\n        ${mixin.center()};\n        .img {\n          width: 100%;\n        }\n      }\n      .content-wrapper {\n        width: 100%;\n        margin-top: ${px2vw(10)};\n        .num {\n          margin-top: ${px2vw(5)};\n        }\n        ${mixinTitle()}\n      }\n    }\n  }\n`\n","import React, { memo, FC } from 'react'\nimport TitleView from '../title/Title'\nimport { useTranslation } from 'react-i18next'\nimport { CategoryBookWrapper } from './style'\nimport { categoryText } from '@/utils/book'\nimport { CategoryListItem } from '../types'\nimport { useShowBookCategory } from '../../hooks'\n\ninterface CategoryBookProp {\n    data:CategoryListItem\n}\n\nconst CategoryBook:FC<CategoryBookProp> = ({ data }) => {\n  const { t } = useTranslation(['category', 'home'])\n  const showBookCategory = useShowBookCategory()\n  console.log(data)\n  return (\n    <CategoryBookWrapper>\n      <TitleView\n        label={categoryText(data.category, t)}\n        btn={t('home:seeAll')}\n        onChange={()=>{showBookCategory(data)}}\n      ></TitleView>\n      <div className=\"category-book-list\">\n        {data &&\n          data.list.map((item,index) => {\n            return (\n              <div className=\"category-book-item\" key={item.bookId}>\n                <div className=\"img-wrapper\">\n                  <img className=\"img\" src={item.cover} alt=\"\" />\n                </div>\n                <div className=\"content-wrapper\">\n                  <div className=\"title title-small\">{item.title}</div>\n                  <div className=\"num sub-title-tiny\">{item.author}</div>\n                </div>\n              </div>\n            )\n          })}\n      </div>\n    </CategoryBookWrapper>\n  )\n}\nexport default memo(CategoryBook)","import styled from 'styled-components'\nimport { px2vw, mixinTitle, mixin } from '@/assets/styles'\n\nexport const CategoryWrapper = styled.div`\n  margin-top: ${px2vw(20)};\n  .category-list {\n    display: flex;\n    flex-flow: row wrap;\n    width: 100%;\n    .category-item-wrapper {\n      flex: 0 0 50%;\n      width: 50%;\n      padding: 0 ${px2vw(5)} ${px2vw(10)} ${px2vw(5)};\n      box-sizing: border-box;\n      &:nth-child(odd) {\n        padding-left: ${px2vw(10)};\n      }\n      &:nth-child(even) {\n        padding-right: ${px2vw(10)};\n      }\n      .category-item {\n        display: flex;\n        width: 100%;\n        background: #eee;\n        .img-wrapper {\n          flex: 0 0 50%;\n          width: 50%;\n          padding: ${px2vw(20)} ${px2vw(10)};\n          box-sizing: border-box;\n          .img-group {\n            position: relative;\n            width: 100%;\n            height: ${px2vw(60)};\n            ${mixin.left()};\n            .img {\n              position: absolute;\n              left: 0;\n              top: 0;\n              z-index: 100;\n              width: ${px2vw(45)};\n              height: ${px2vw(60)};\n            }\n            .img2 {\n              position: absolute;\n              left: ${px2vw(30)};\n              top: ${px2vw(7.5)};\n              z-index: 99;\n              width: ${px2vw(30)};\n              height: ${px2vw(45)};\n            }\n          }\n        }\n        .content-wrapper {\n          flex: 0 0 50%;\n          width: 50%;\n          ${mixin.columnCenter()};\n          .title {\n            text-align: center;\n          }\n          .num {\n            text-align: center;\n            margin-top: ${px2vw(5)};\n          }\n          ${mixinTitle()}\n        }\n      }\n    }\n  }\n`\n","import React, { FC, memo } from 'react'\nimport TitleView from '../title/Title'\nimport { useTranslation } from 'react-i18next'\nimport { CategoryWrapper } from './style'\nimport { categoryText } from '@/utils/book'\nimport { CategoriesItem } from '../types'\nimport { useShowBookCategory } from '../../hooks'\n\ninterface CategoryProp {\n  data: CategoriesItem[]\n}\n\nconst Category: FC<CategoryProp> = ({ data }) => {\n  const { t } = useTranslation(['category', 'home'])\n  const showBookCategory = useShowBookCategory()\n\n  return (\n    <CategoryWrapper>\n      <TitleView label={t('home:category')} btn={t('home:seeAll')}></TitleView>\n      <div className=\"category-list\">\n        {data &&\n          data.map((item) => {\n            return (\n              <div\n                className=\"category-item-wrapper\"\n                key={item.category}\n                onClick={() => showBookCategory(item)}\n              >\n                <div className=\"category-item\">\n                  <div className=\"content-wrapper\">\n                    <div className=\"title title-medium\">\n                      {categoryText(item.category, t)}\n                    </div>\n                    <div className=\"num sub-title-tiny\">\n                      {item.num + ' ' + t('home:books')}\n                    </div>\n                  </div>\n                  <div className=\"img-wrapper\">\n                    <div className=\"img-group\">\n                      <img className=\"img\" src={item.img1} alt=\"\" />\n                      <img className=\"img2\" src={item.img2} alt=\"\" />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )\n          })}\n      </div>\n    </CategoryWrapper>\n  )\n}\nexport default memo(Category)\n","import styled, { keyframes } from 'styled-components'\nimport { px2vw, mixin } from '@/assets/styles'\n\nconst flapCardMove = keyframes`\n      0% {\n        transform: scale(0);\n        opacity: 0;\n      }\n      50% {\n        transform: scale(1.2);\n        opacity: 1;\n      }\n      75% {\n        transform: scale(0.9);\n        opacity: 1;\n      }\n      100% {\n        transform: scale(1);\n        opacity: 1;\n      }\n`\n\n\nexport const FlapCardWrapper = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 1000;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.6);\n  ${mixin.center()};\n  .flap-card-bg {\n    position: relative;\n    width: ${px2vw(64)};\n    height: ${px2vw(64)};\n    background: white;\n    border-radius: ${px2vw(5)};\n    transform: scale(0);\n    opacity: 0;\n    &.animation {\n      animation: ${flapCardMove} 0.3s ease-in both;\n    }\n    .flap-card {\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      z-index: 1500;\n      margin: auto;\n      width: ${px2vw(48)};\n      height: ${px2vw(48)};\n      .flap-card-semi-circle {\n        width: 100%;\n        height: 100%;\n        display: flex;\n        .flap-card-semi-circle-left {\n          flex: 0 0 50%;\n          width: 50%;\n          height: 100%;\n          background-color: #ffc666;\n          background-repeat: no-repeat;\n          background-position: center right;\n          border-radius: ${px2vw(24)} 0 0 ${px2vw(24)};\n          transform-origin: right;\n          backface-visibility: hidden;\n        }\n        .flap-card-semi-circle-right {\n          flex: 0 0 50%;\n          width: 50%;\n          height: 100%;\n          background-repeat: no-repeat;\n          background-position: center left;\n          border-radius: 0 ${px2vw(24)} ${px2vw(24)} 0;\n          transform-origin: left;\n          backface-visibility: hidden;\n        }\n      }\n    }\n    .point-wrapper {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      z-index: 2000;\n      ${mixin.center()};\n      .point {\n        ${mixin.absCenter()};\n        z-index: 3000;\n        border-radius: 50%;\n      }\n    }\n  }\n  .book-card {\n    position: relative;\n    width: 65%;\n    box-sizing: border-box;\n    border-radius: ${px2vw(15)};\n    background: white;\n    &.animation {\n      animation: scale 0.3s ease-in both;\n      @keyframes scale {\n        0% {\n          transform: scale(0);\n          opacity: 0;\n        }\n        100% {\n          transform: scale(1);\n          opacity: 1;\n        }\n      }\n    }\n    .book-card-wrapper {\n      width: 100%;\n      height: 100%;\n      margin-bottom: ${px2vw(30)};\n      ${mixin.columnTop()};\n      .img-wrapper {\n        width: 100%;\n        margin-top: ${px2vw(20)};\n        ${mixin.center()};\n        .img {\n          width: ${px2vw(90)};\n          height: ${px2vw(130)};\n        }\n      }\n      .content-wrapper {\n        padding: 0 ${px2vw(20)};\n        margin-top: ${px2vw(20)};\n        .title {\n          color: #333;\n          font-weight: bold;\n          font-size: ${px2vw(18)};\n          line-height: ${px2vw(20)};\n          max-height: ${px2vw(40)};\n          text-align: center;\n          ${mixin.ellipsis2(2)};\n        }\n        .author {\n          margin-top: ${px2vw(10)};\n          text-align: center;\n        }\n        .category {\n          color: #999;\n          font-size: ${px2vw(14)};\n          margin-top: ${px2vw(10)};\n          text-align: center;\n        }\n      }\n      .read-btn {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        z-index: 1100;\n        width: 100%;\n        border-radius: 0 0 ${px2vw(15)} ${px2vw(15)};\n        padding: ${px2vw(15)} 0;\n        text-align: center;\n        color: white;\n        font-size: ${px2vw(14)};\n        background: #4aabff;\n      }\n    }\n  }\n  .close-btn-wrapper {\n    position: absolute;\n    left: 0;\n    bottom: 5%;\n    z-index: 1100;\n    width: 100%;\n    ${mixin.center()};\n    .icon-close {\n      display: inline-block;\n      width: ${px2vw(45)};\n      height: ${px2vw(45)};\n      font-size: ${px2vw(25)};\n      color: white;\n      background: #333;\n      border-radius: 50%;\n      ${mixin.center()};\n    }\n  }\n`\n","import React, { useMemo, useRef, useEffect, memo, FC } from 'react'\nimport styled from 'styled-components'\nimport { mixin, move } from '@/assets/styles/index'\n\nconst PointWrapper = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  z-index: 2000;\n  ${mixin.center()};\n  .point {\n    ${mixin.absCenter()};\n    z-index: 3000;\n    border-radius: 50%;\n    /* transform: scale(0); */\n    /* &.animation {\n        @for $i from 1 to length($moves) + 1 {\n          &:nth-child(#{$i}) {\n            @include move($i);\n          }\n        }\n      } */\n  }\n`\n\nconst FirePoints:FC = () => {\n  const pointsRef = useRef<HTMLDivElement[] | null[]>([])\n  const pointList = useMemo(() => {\n    return new Array(18).fill(null).map((_item, index) => {\n      return { ...move(index) }\n    })\n  }, [])\n\n\n  useEffect(() => {\n    pointsRef.current = pointsRef.current.slice(0, pointList.length)\n  }, [pointList.length])\n\n  useEffect(() => {\n    (pointsRef.current as HTMLDivElement[]).forEach((item, index) => {\n      item.animate(pointList[index].keyframe, pointList[index].animation)\n    })\n  }, [pointList])\n\n  return (\n    <PointWrapper>\n      {pointList.map((item, index) => {\n        return (\n          <div\n            className=\"point\"\n            key={item.animation.id}\n            style={{\n              width: item.width,\n              height: item.height,\n              background: item.background,\n            }}\n            ref={(el) => (pointsRef.current[index] = el)}\n          ></div>\n        )\n      })}\n    </PointWrapper>\n  )\n}\n\nexport default memo(FirePoints)\n","import React, {\n  forwardRef,\n  memo,\n  useRef,\n  useEffect,\n  useState,\n  useCallback,\n  useImperativeHandle,\n} from 'react'\nimport { FlapCardWrapper } from './style'\nimport classnames from 'classnames'\nimport { flapCardList } from '@/utils/mall'\nimport FirePoints from './FirePoints'\nimport { useTranslation } from 'react-i18next'\nimport { useObserver } from 'mobx-react'\nimport { randomItem } from '../types'\nimport { categoryText } from '@/utils/book'\n\ninterface FlapCardProp {\n  random: randomItem\n  setShowFlapCard: (flag: boolean) => void\n}\n\nexport interface FlapCardRef {\n  startFlapCardAnimation: () => void\n}\n\nconst FlapCard = forwardRef<FlapCardRef, FlapCardProp>((props, ref) => {\n  const { t } = useTranslation(['category', 'home'])\n\n  const [runFlapCardAnimation, setRunFlapCardAnimation] = useState(false)\n  const [runBookCardAnimation, setRunBookCardAnimation] = useState(false)\n  const [showFlapCardAnimation, setShowFlapCardAnimation] = useState(true)\n  const [showFirePoints, setShowFirePoints] = useState(true)\n  const [showBookCard, setShowBookCard] = useState(false)\n\n  const cardsRef = useRef<HTMLDivElement[]>([])\n  const leftItemsRef = useRef<HTMLDivElement[]>([])\n  const rightItemsRef = useRef<HTMLDivElement[]>([])\n  const frontRef = useRef(0)\n  const backRef = useRef(1)\n  const FlapCardAnimationTask = useRef(0)\n  const showFirePointsAnimationTask = useRef(0)\n  const showFlapCardTask = useRef(0)\n\n  useImperativeHandle(ref, () => ({\n    startFlapCardAnimation() {\n      setRunFlapCardAnimation(true)\n    },\n  }))\n\n  const semiCircleStyle = useCallback((item, direction) => {\n    return {\n      backgroundColor: `rgb(${item.r} ,${item.g} ,${item.b})`,\n      backgroundImage: direction === 'left' ? item.imgLeft : item.imgRight,\n      backgroundSize: item.backgroundSize,\n    }\n  }, [])\n\n  const rotate = useCallback((item, dom) => {\n    dom.style.transform = `rotateY(${item.rotateDegree}deg)`\n    dom.style.backgroundColor = `rgb(${item.r} ,${item._g} ,${item.b})`\n  }, [])\n\n  const prepare = useCallback(() => {\n    const front = frontRef.current\n    const back = backRef.current\n    const backFlapCard = flapCardList[back]\n    const backLeftSemiCircle = leftItemsRef.current[back]\n    const len = flapCardList.length\n    flapCardList.forEach((item, index) => {\n      cardsRef.current[index].style.zIndex = String(\n        100 - ((index - front + len) % len)\n      )\n    })\n    backFlapCard.rotateDegree = 180\n    backFlapCard._g = backFlapCard.g - 5 * 9\n    rotate(backFlapCard, backLeftSemiCircle)\n  }, [rotate])\n\n  const reset = useCallback(() => {\n    const front = frontRef.current\n    const back = backRef.current\n    const frontFlapCard = flapCardList[front]\n    const backFlapCard = flapCardList[back]\n    const frontRightSemiCircle = rightItemsRef.current[front]\n    const backLeftSemiCircle = leftItemsRef.current[back]\n    frontFlapCard.rotateDegree = 0\n    backFlapCard.rotateDegree = 0\n    frontFlapCard._g = frontFlapCard.g\n    backFlapCard._g = backFlapCard.g\n    rotate(frontFlapCard, frontRightSemiCircle)\n    rotate(backFlapCard, backLeftSemiCircle)\n    frontRef.current++\n    backRef.current++\n    if (frontRef.current >= flapCardList.length) {\n      frontRef.current = 0\n    }\n    if (backRef.current >= flapCardList.length) {\n      backRef.current = 0\n    }\n    prepare()\n  }, [prepare, rotate])\n\n  const rotateSemiCircle = useCallback(() => {\n    const front = frontRef.current\n    const back = backRef.current\n    const frontFlapCard = flapCardList[front]\n    const backFlapCard = flapCardList[back]\n    const frontRightSemiCircle = rightItemsRef.current[front]\n    const backLeftSemiCircle = leftItemsRef.current[back]\n    frontFlapCard.rotateDegree += 10\n    backFlapCard.rotateDegree -= 10\n    if (frontFlapCard.rotateDegree < 90) {\n      frontFlapCard._g -= 5\n    }\n    if (backFlapCard.rotateDegree < 90) {\n      backFlapCard._g += 5\n    }\n    if (frontFlapCard.rotateDegree === 90 && backFlapCard.rotateDegree === 90) {\n      cardsRef.current[back].style.zIndex += 2\n    }\n    rotate(frontFlapCard, frontRightSemiCircle)\n    rotate(backFlapCard, backLeftSemiCircle)\n    if (frontFlapCard.rotateDegree >= 180 && backFlapCard.rotateDegree <= 0) {\n      reset()\n    }\n  }, [reset, rotate])\n\n  const close = useCallback(() => {\n    reset()\n    props.setShowFlapCard(false)\n    clearInterval(FlapCardAnimationTask.current)\n    showFirePointsAnimationTask.current &&\n      clearTimeout(showFirePointsAnimationTask.current)\n    showFlapCardTask.current && clearTimeout(showFlapCardTask.current)\n  }, [props, reset])\n\n  useEffect(() => {\n    cardsRef.current = cardsRef.current!.slice(0, flapCardList.length)\n    leftItemsRef.current = leftItemsRef.current.slice(0, flapCardList.length)\n    rightItemsRef.current = rightItemsRef.current.slice(0, flapCardList.length)\n  }, [])\n\n  useEffect(() => {\n    prepare()\n    FlapCardAnimationTask.current = window.setInterval(() => {\n      rotateSemiCircle()\n    }, 25)\n  }, [prepare, rotateSemiCircle])\n\n  useEffect(() => {\n    showFirePointsAnimationTask.current = setTimeout(() => {\n      setShowFirePoints(false)\n    }, 1001)\n    showFlapCardTask.current = setTimeout(() => {\n      clearInterval(FlapCardAnimationTask.current)\n      setShowFlapCardAnimation(false)\n      setShowBookCard(true)\n      setRunBookCardAnimation(true)\n    }, 2500)\n  }, [])\n\n  return useObserver(() => (\n    <FlapCardWrapper>\n      <div\n        className={classnames({\n          'flap-card-bg': true,\n          animation: runFlapCardAnimation,\n        })}\n        style={{ display: showFlapCardAnimation ? 'block' : 'none' }}\n      >\n        {flapCardList.map((item, index) => {\n          return (\n            <div\n              className=\"flap-card\"\n              key={index}\n              ref={(el) => (cardsRef.current[index] = el!)}\n            >\n              <div className=\"flap-card-semi-circle\">\n                <div\n                  className=\"flap-card-semi-circle-left\"\n                  style={semiCircleStyle(item, 'left')}\n                  ref={(el) => (leftItemsRef.current[index] = el!)}\n                ></div>\n                <div\n                  className=\"flap-card-semi-circle-right\"\n                  style={semiCircleStyle(item, 'right')}\n                  ref={(el) => (rightItemsRef.current[index] = el!)}\n                ></div>\n              </div>\n            </div>\n          )\n        })}\n        {showFirePoints ? <FirePoints></FirePoints> : null}\n      </div>\n\n      {showBookCard ? (\n        <div\n          className={classnames({\n            'book-card': true,\n            animation: runBookCardAnimation,\n          })}\n        >\n          <div className=\"book-card-wrapper\">\n            <div className=\"img-wrapper\">\n              <img className=\"img\" alt=\"#\" src={props.random.cover} />\n            </div>\n            <div className=\"content-wrapper\">\n              <div className=\"title\">{props.random.title}</div>\n              <div className=\"author sub-title-medium\">\n                {props.random.author}\n              </div>\n              <div className=\"category\">\n                {categoryText(props.random.category, t)}\n              </div>\n            </div>\n            <div className=\"read-btn\">{t('home:readNow')}</div>\n          </div>\n        </div>\n      ) : null}\n      <div className=\"close-btn-wrapper\" onClick={() => close()}>\n        <span className=\"icon-close\"></span>\n      </div>\n    </FlapCardWrapper>\n  ))\n})\n\nexport default memo(FlapCard)\n","import React, { FC, useEffect, useRef } from 'react'\nimport { BookHomeWrapper } from './style'\nimport SearchBar from './searchBar/SearchBar'\nimport GuessYouLike from './guessYouLike/GuessYouLike'\nimport Recommend from './recommend/Recommend'\nimport Featured from './featured/Featured'\nimport Scroll from '@/common/scroll/Scroll'\nimport { useObserver, useLocalStore } from 'mobx-react'\nimport { getHome, saveHome } from '@/utils/localStorage'\nimport { home } from '@/api'\nimport {\n  HomeStoreReturn,\n  GuessYouLikeItem,\n  RecommendItem,\n  FeaturedItem,\n  CategoryListItem,\n  CategoriesItem,\n  randomItem,\n} from './types'\nimport { useTranslation } from 'react-i18next'\nimport CategoryBook from './categoryBook/CategoryBook'\nimport Category from './category/Category'\nimport FlapCard, { FlapCardRef } from './flapCard/FlapCard'\n\nconst BookHome: FC = () => {\n  const { t } = useTranslation()\n  const flapCardRef = useRef<FlapCardRef | null>(null)\n\n  const store = useLocalStore<HomeStoreReturn>(() => {\n    return {\n      offsetY: 0,\n      setOffsetY(offsetY: number) {\n        this.offsetY = offsetY\n      },\n      get height() {\n        if (store.offsetY > 0) {\n          return 94\n        } else {\n          return 52\n        }\n      },\n      guessYouLikeList: [],\n      recommendList: [],\n      featuredList: [],\n      categoryList: [],\n      categoriesList: [],\n      randomList: [],\n      random: null,\n      bannerImage: '',\n      showFlapCard: false,\n      parseHomeData(data) {\n        this.guessYouLikeList = data.guessYouLike as GuessYouLikeItem[]\n        this.recommendList = data.recommend as RecommendItem[]\n        this.featuredList = data.featured as FeaturedItem[]\n        this.categoryList = data.categoryList as CategoryListItem[]\n        this.categoriesList = data.categories as CategoriesItem[]\n        this.randomList = data.random as randomItem[]\n        this.bannerImage = 'url(' + data.banner + ')'\n      },\n      setShowFlapCard(flag) {\n        this.showFlapCard = flag\n      },\n      toggleShowFlapCard() {\n        const randomNumber = Math.floor(Math.random() * this.randomList.length)\n        this.random = this.randomList[randomNumber]\n        this.showFlapCard = true\n        setTimeout(() => {\n          flapCardRef.current!.startFlapCardAnimation()\n        }, 0)\n      },\n    }\n  })\n\n  useEffect(() => {\n    const data = getHome()\n    if (data) {\n      store.parseHomeData(data)\n    } else {\n      home().then((res) => {\n        if (res.status === 200 && res.data) {\n          store.parseHomeData(res.data)\n          saveHome(res.data)\n        }\n      })\n    }\n  }, [store])\n\n  return useObserver(() => (\n    <BookHomeWrapper>\n      <SearchBar\n        offsetY={store.offsetY}\n        handleShowFlapCard={store.toggleShowFlapCard}\n      ></SearchBar>\n      <Scroll top={store.height} onScroll={(Y) => store.setOffsetY(Y)}>\n        <div className=\"book-list-wrapper\">\n          <div className=\"banner-wrapper\">\n            <div\n              className=\"banner\"\n              style={{ backgroundImage: store.bannerImage }}\n            ></div>\n          </div>\n          <GuessYouLike data={store.guessYouLikeList}></GuessYouLike>\n          <Recommend data={store.recommendList}></Recommend>\n          <Featured\n            data={store.featuredList}\n            titleText={t('home:featured')}\n            btnText={t('home:seeAll')}\n          ></Featured>\n          {store.categoryList &&\n            store.categoryList.map((item) => {\n              return (\n                <div className=\"category-list-wrapper\" key={item.category}>\n                  <CategoryBook data={item} key={item.category}></CategoryBook>\n                </div>\n              )\n            })}\n          <Category data={store.categoriesList}></Category>\n        </div>\n      </Scroll>\n      {store.showFlapCard ? (\n        <FlapCard\n          ref={flapCardRef}\n          random={store.random!}\n          setShowFlapCard={store.setShowFlapCard}\n        ></FlapCard>\n      ) : null}\n    </BookHomeWrapper>\n  ))\n}\n\nexport default BookHome\n","import styled from 'styled-components'\nimport { px2vw, mixin } from '@/assets/styles'\n\nexport const BookDetailWrapper = styled.div`\nwidth: 100%;\nbackground: white;\n.content-wrapper {\n  width: 100%;\n  .book-detail-content-wrapper {\n    width: 100%;\n    border-bottom: ${px2vw(1)} solid #eee;\n    box-sizing: border-box;\n    .book-detail-content-title {\n      font-size: ${px2vw(20)};\n      font-weight: bold;\n      padding: ${px2vw(20)} ${px2vw(15)} ${px2vw(10)} ${px2vw(15)};\n      box-sizing: border-box;\n    }\n    .book-detail-content-list-wrapper {\n      padding: ${px2vw(10)} ${px2vw(15)};\n      box-sizing: border-box;\n      .loading-text-wrapper {\n        width: 100%;\n        .loading-text {\n          font-size: ${px2vw(14)};\n          color: #666;\n        }\n      }\n      .book-detail-content-row {\n        display: flex;\n        box-sizing: border-box;\n        margin-bottom: ${px2vw(10)};\n        .book-detail-content-label {\n          flex: 0 0 ${px2vw(70)};\n          font-size: ${px2vw(14)};\n          color: #666;\n        }\n        .book-detail-content-text {\n          flex: 1;\n          font-size: ${px2vw(14)};\n          color: #333;\n        }\n      }\n      #preview {\n      }\n      .book-detail-content-item-wrapper {\n        .book-detail-content-item {\n          padding: ${px2vw(15)} 0;\n          font-size: ${px2vw(14)};\n          line-height: ${px2vw(16)};\n          color: #666;\n          border-bottom: ${px2vw(1)} solid #eee;\n          &:last-child {\n            border-bottom: none;\n          }\n          .book-detail-content-navigation-text {\n            width: 100%;\n            ${mixin.ellipsis()};\n            &.is-sub {\n              color: #666;\n            }\n          }\n        }\n      }\n    }\n  }\n  .audio-wrapper {\n    width: 100%;\n    padding: ${px2vw(15)};\n    box-sizing: border-box;\n    #audio {\n      width: 100%;\n    }\n  }\n}\n.bottom-wrapper {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  z-index: 120;\n  display: flex;\n  width: 100%;\n  height: ${px2vw(52)};\n  box-shadow: 0 ${px2vw(-2)} ${px2vw(2)} rgba(0, 0, 0, 0.1);\n  background-color: #fff;\n  .bottom-btn {\n    flex: 1;\n    color: ${mixin.variableColor['$colorBlue']};\n    font-weight: bold;\n    font-size: ${px2vw(14)};\n    ${mixin.center()};\n    &:active {\n      color: ${mixin.variableColor['$colorBlueTransparent']};\n    }\n    .icon-check {\n      margin-right: ${px2vw(5)};\n    }\n  }\n  &.hide-shadow {\n    box-shadow: none;\n  }\n}\n`\n\nexport const BookInfoWrapper = styled.div`\n  display: flex;\n  width: 100%;\n  padding: ${px2vw(10)} 0;\n  border-bottom: ${px2vw(1)} solid #eee;\n  box-sizing: border-box;\n  .cover-title-left-wrapper {\n    flex: 0 0 ${px2vw(103)};\n    padding: ${px2vw(10)} 0 ${px2vw(10)} ${px2vw(15)};\n    box-sizing: border-box;\n    ${mixin.top()};\n    .cover-img {\n      width: ${px2vw(103)};\n      height: ${px2vw(146)};\n    }\n  }\n  .cover-title-right-wrapper {\n    flex: 1;\n    padding: ${px2vw(10)} ${px2vw(15)};\n    box-sizing: border-box;\n    .detail-cover-title-wrapper {\n      .cover-title-text {\n        font-size: ${px2vw(24)};\n        line-height: ${px2vw(26)};\n        font-weight: bold;\n        color: #333;\n      }\n    }\n    .cover-author-wrapper {\n      margin-top: ${px2vw(10)};\n      .cover-author-text {\n        font-size: ${px2vw(14)};\n        line-height: ${px2vw(16)};\n        color: ${mixin.variableColor['$colorBlue']};\n      }\n    }\n    .detail-cover-description-wrapper {\n      margin-top: ${px2vw(10)};\n      .detail-cover-description-text {\n        font-size: ${px2vw(14)};\n        line-height: ${px2vw(16)};\n        color: #666;\n        word-break: keep-all;\n        white-space: normal;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        overflow-wrap: break-word;\n      }\n    }\n  }\n`\n\nexport const DetailTitleWrapper = styled.div`\n  .detail-title-wrapper {\n    position: relative;\n    display: flex;\n    width: 100%;\n    height: ${px2vw(42)};\n    box-shadow: 0 ${px2vw(2)} ${px2vw(2)} 0 rgba(0, 0, 0, 0.1);\n    font-size: ${px2vw(20)};\n    color: #666;\n    &.hide-shadow {\n      box-shadow: none;\n    }\n    .title-left-wrapper {\n      position: relative;\n      z-index: 200;\n      flex: 1;\n      margin-left: ${px2vw(15)};\n      ${mixin.left()};\n    }\n    .title-right-wrapper {\n      position: relative;\n      z-index: 200;\n      flex: 1;\n      margin-right: ${px2vw(15)};\n      ${mixin.right()};\n    }\n    .title-text {\n      position: absolute;\n      top: 0;\n      left: 0;\n      z-index: 100;\n      width: 100%;\n      height: ${px2vw(42)};\n      font-size: ${px2vw(16)};\n      color: #333;\n      ${mixin.center()};\n    }\n  }\n`\n","import React, { FC } from 'react'\nimport { BookInfoWrapper } from './style'\nimport { observer } from 'mobx-react'\n\ninterface BookInfoProp {\n  author: string\n  title: string\n  cover: string\n  desc: string\n}\n\nconst BookInfo: FC<BookInfoProp> = observer(\n  ({ author, title, cover, desc }) => {\n    return (\n      <BookInfoWrapper>\n        <div className=\"cover-title-left-wrapper\">\n          <img className=\"cover-img\" src={cover} alt=\"\" />\n        </div>\n        <div className=\"cover-title-right-wrapper\">\n          <div className=\"detail-cover-title-wrapper\">\n            <div className=\"cover-title-text\">{title}</div>\n          </div>\n          <div className=\"cover-author-wrapper\">\n            <div className=\"cover-author-text\">{author}</div>\n          </div>\n          <div className=\"detail-cover-description-wrapper\">\n            <div className=\"detail-cover-description-text\">{desc}</div>\n          </div>\n        </div>\n      </BookInfoWrapper>\n    )\n  }\n)\n\nexport default BookInfo\n","import React, { FC, memo } from 'react'\nimport { DetailTitleWrapper } from './style'\nimport classnames from 'classnames'\n\ninterface DetailTitle {\n  showShelf: boolean\n  title?: string\n  onBack: () => void\n}\n\nconst DetailTile: FC<DetailTitle> = (props) => {\n  const { title, showShelf, onBack } = props\n\n  return (\n    <DetailTitleWrapper>\n      <div\n        className={classnames({\n          'detail-title-wrapper': true,\n          'hide-shadow': true,\n        })}\n      >\n        <div className=\"title-left-wrapper\" onClick={() => onBack()}>\n          <span className=\"icon-back\"></span>\n        </div>\n        <div className=\"title-right-wrapper\">\n          {showShelf ? (\n            <span className=\"icon-shelf icon\"></span>\n          ) : (\n            <span className=\"icon-share\"></span>\n          )}\n        </div>\n        {title ? <div className=\"title-text\">{title}</div> : null}\n      </div>\n    </DetailTitleWrapper>\n  )\n}\n\nexport default memo(DetailTile)\n","import React, { useState,  useRef } from 'react'\nimport styled from 'styled-components'\nimport { mixin, px2vw } from '@/assets/styles'\nimport { createPortal } from 'react-dom'\nimport { CSSTransition } from 'react-transition-group'\n\nconst ToastWrapper = styled.div`\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  margin: 0 0 0 -50%;\n  z-index: 2500;\n  width: 100%;\n  &.fade-enter,\n  &.fade-appear {\n    opacity: 0;\n  }\n  &.fade-enter-active,\n  &.fade-appear-active {\n    transition: all 0.5s linear;\n    opacity: 1;\n  }\n  &.fade-exit {\n    opacity: 1;\n  }\n  &.fade-exit-active {\n    transition: all 0.5s linear;\n    opacity: 0;\n  }\n  ${mixin.center()};\n  .toast-wrapper {\n    width: 60%;\n    line-height: ${px2vw(20)};\n    padding: ${px2vw(10)} ${px2vw(20)};\n    box-sizing: border-box;\n    background: #ccc;\n    border-radius: ${px2vw(10)};\n    font-size: ${px2vw(14)};\n    color: white;\n    .toast {\n      text-align: center;\n      word-break: break-all;\n    }\n  }\n`\n\nconst useToast = (timeout = 1500) => {\n  const [visible, setVisible] = useState(false)\n  const [text, setText] = useState('')\n  const task = useRef(0)\n\n  const showToast = (text: string) => {\n    clearTimeout(task.current)\n    task.current = 0\n    setText(text)\n    task.current = setTimeout(() => {\n      setVisible(false)\n    }, timeout)\n    setVisible(true)\n  }\n\n  const hideToast = () => {\n    setVisible(false)\n  }\n\n  const continueShow = (text:string) => {\n    clearTimeout(task.current)\n    setText(text)\n    setVisible(true)\n  }\n\n  let portalRoot: HTMLElement\n  const element = document.getElementById('portal-root')\n  if (element) {\n    portalRoot = element\n  } else {\n    portalRoot = document.createElement('div')\n    portalRoot.id = 'portal-root'\n    document.body.appendChild(portalRoot)\n  }\n  \n  const RenderToast = () =>\n    createPortal(\n      <CSSTransition\n        in={visible}\n        timeout={500}\n        classNames=\"fade\"\n        appear={true}\n        unmountOnExit\n      >\n        <ToastWrapper>\n          <div className=\"toast-wrapper\">\n            <div\n              className=\"toast\"\n              dangerouslySetInnerHTML={{ __html: text }}\n            ></div>\n          </div>\n        </ToastWrapper>\n      </CSSTransition>,\n      portalRoot\n    )\n\n  return {\n    showToast,\n    hideToast,\n    RenderToast,\n    continueShow\n  }\n}\n\nexport default useToast","import React, { FC, useEffect, useCallback } from 'react'\nimport { BookDetailWrapper } from './style'\nimport BookInfo from './BookInfo'\nimport Scroll from '@/common/scroll/Scroll'\nimport { useTranslation } from 'react-i18next'\nimport { useParams, useLocation, useHistory } from 'react-router-dom'\nimport { detail } from '@/api'\nimport { useLocalStore, useObserver } from 'mobx-react'\nimport Epub, { Book } from 'epubjs'\nimport { PackagingMetadataObject } from 'epubjs/types/packaging'\nimport Section from 'epubjs/types/section'\nimport Navigation, { NavItem } from 'epubjs/types/navigation'\nimport classnames from 'classnames'\nimport { px2vw } from '@/assets/styles'\nimport DetailTitle from './DetailTitle'\nimport useToast from '@/common/toast/Toast'\nimport { BookList, BookItem } from '../shelf/types'\nimport { getLocalStorage } from '@/utils/localStorage'\nimport { runInAction } from 'mobx'\nimport { getLocalForage } from '@/utils/localForage'\nimport { removeFromBookShelf, addToShelf } from '@/utils/book'\n\ninterface BookDetailStore {\n  metadata: PackagingMetadataObject\n  displayed: boolean\n  description: string\n  cover: string\n  navigation: Navigation | null\n  opf: string\n  bookShelf: BookList\n  bookItem: BookItem | null\n  readonly title: string\n  readonly author: string\n  readonly publisher: string\n  readonly lang: string\n  readonly isbn: string\n  readonly flatNavigation: any\n  readonly inBookShelf: boolean\n  parseBook: (blob: string) => void\n  setCover: (cover: string) => void\n  setOpf: (opf: string) => void\n  setBookShelf: (list: BookList) => void\n  setBookItem: (item: BookItem) => void\n  init: () => void\n  readBook: () => void\n  addOrRemoveShelf: () => void\n}\n\nconst BookDetail: FC = () => {\n  const { fileName } = useParams()\n  const {\n    state: { category },\n  } = useLocation()\n\n  const history = useHistory()\n\n  const { t } = useTranslation('detail')\n\n  const { RenderToast, showToast } = useToast()\n\n  const display = useCallback((book: Book, location: string) => {\n    const rendition = book.renderTo('preview', {\n      width: window.innerWidth > 640 ? 640 : window.innerWidth,\n      height: window.innerHeight,\n    })\n    if (!location) {\n      return (rendition.display() as unknown) as Promise<Section>\n    } else {\n      return (rendition.display(location) as unknown) as Promise<Section>\n    }\n  }, [])\n\n  const store = useLocalStore<BookDetailStore>(() => {\n    return {\n      metadata: {\n        title: '',\n        creator: '',\n        description: '-',\n        pubdate: '',\n        publisher: '-',\n        identifier: '-',\n        language: '-',\n        rights: '-',\n        modified_date: '',\n        layout: '',\n        orientation: '',\n        flow: '',\n        viewport: '',\n        spread: '',\n      },\n      displayed: false,\n      description: '',\n      cover: '',\n      navigation: null,\n      opf: '',\n      bookShelf: [],\n      bookItem: null,\n      setOpf(opf) {\n        this.opf = opf\n      },\n      setCover(cover) {\n        this.cover = cover\n      },\n      setBookShelf(list) {\n        this.bookShelf = list\n      },\n      setBookItem(item) {\n        this.bookItem = item\n      },\n      get title() {\n        return this.metadata.title\n      },\n      get author() {\n        return this.metadata.creator\n      },\n      get publisher() {\n        return this.metadata.publisher\n      },\n      get lang() {\n        return this.metadata.language\n      },\n      get isbn() {\n        return this.metadata.identifier\n      },\n      get flatNavigation() {\n        const doFlatNavigation = (content: NavItem[], deep = 1) => {\n          const arr: any = []\n          content.forEach((item: any) => {\n            item.deep = deep\n            arr.push(item)\n            if (item.subitems && item.subitems.length > 0) {\n              arr.push(doFlatNavigation(item.subitems, deep + 1))\n            }\n          })\n          return arr\n        }\n        if (this.navigation) {\n          return Array.prototype.concat.apply(\n            [],\n            Array.prototype.concat.apply(\n              [],\n              doFlatNavigation(((this.navigation as unknown) as Navigation).toc)\n            )\n          )\n        } else {\n          return []\n        }\n        // if (this.navigation instanceof Navigation) {\n        //     return Array.prototype.concat.apply(\n        //         [],\n        //         Array.prototype.concat.apply([], doFlatNavigation(this.navigation.toc))\n        //     )\n        // } else {\n        //     return ''\n        // }\n      },\n      get inBookShelf() {\n        if (this.bookItem && this.bookShelf) {\n          const flatShelf: BookItem[] = (function flatten(\n            arr: BookList\n          ): BookItem[] {\n            return ([] as any[]).concat(\n              ...arr.map((v) => (v.itemList ? [v, ...flatten(v.itemList)] : v))\n            )\n          })(this.bookShelf).filter((item) => item.type === 1)\n          const book = flatShelf.filter(\n            (item) =>\n              item.fileName ===\n              ((this.bookItem as unknown) as BookItem).fileName\n          )\n          return book && book.length > 0\n        } else {\n          return false\n        }\n      },\n      parseBook(blob: string) {\n        const book = Epub(blob)\n        book.loaded.metadata.then((metadata) => {\n          this.metadata = metadata\n        })\n        book.loaded.navigation.then((nav) => {\n          if (nav.toc && nav.toc.length > 1) {\n            display(book, nav.toc[1].href).then((section) => {\n              const reg = new RegExp('<.+?>', 'g')\n              const text = section.output\n                .replace(reg, '')\n                .replace(/\\s\\s/g, '')\n                .substring(0, 100)\n              this.displayed = true\n              this.description = text\n            })\n          }\n          this.navigation = nav\n        })\n      },\n      init() {\n        detail({ fileName }).then((response) => {\n          if (\n            response.status === 200 &&\n            response.data.error_code === 0 &&\n            response.data.data\n          ) {\n            const data = response.data.data\n\n            let rootFile = data.rootFile\n            if (rootFile.startsWith('/')) {\n              rootFile = rootFile.substring(1, rootFile.length)\n            }\n            runInAction(() => {\n              store.setBookItem(data)\n              store.setCover(data.cover)\n              store.setOpf(\n                `${process.env.REACT_APP_EPUB_OPF_URL}/${fileName}/${rootFile}`\n              )\n              store.parseBook(\n                `${process.env.REACT_APP_EPUB_OPF_URL}/${fileName}/${rootFile}`\n              )\n            })\n          } else {\n            showToast(response.data?.msg)\n          }\n        })\n        runInAction(() => {\n          store.setBookShelf(getLocalStorage('bookShelf'))\n        })\n      },\n      readBook() {\n        getLocalForage(this.bookItem!.fileName, (err, value) => {\n          if (!err && value instanceof Blob) {\n            history.push({\n              pathname: `/ebook/${this.bookItem!.fileName}`,\n            })\n          } else {\n            history.push(`/ebook/${category}|${fileName}`)\n          }\n        })\n      },\n      addOrRemoveShelf() {\n        if (this.inBookShelf) {\n          removeFromBookShelf(this.bookItem!)\n        } else {\n          addToShelf(this.bookItem!)\n        }\n        this.bookShelf = getLocalStorage('bookShelf')\n      },\n    }\n  })\n\n  useEffect(() => {\n    store.init()\n  }, [store])\n\n  return useObserver(() => (\n    <BookDetailWrapper>\n      <DetailTitle showShelf={true} onBack={history.goBack}></DetailTitle>\n      <Scroll\n        // top={42}\n        bottom={43}\n        // ref={scrollDom}\n      >\n        <div className=\"content-wrapper\">\n          <BookInfo\n            cover={store.cover}\n            title={store.title}\n            author={store.author}\n            desc={store.description}\n          ></BookInfo>\n          <div className=\"book-detail-content-wrapper\">\n            <div className=\"book-detail-content-title\">{t('copyright')}</div>\n            <div className=\"book-detail-content-list-wrapper\">\n              <div className=\"book-detail-content-row\">\n                <div className=\"book-detail-content-label\">\n                  {t('publisher')}\n                </div>\n                <div className=\"book-detail-content-text\">\n                  {store.publisher}\n                </div>\n              </div>\n              <div className=\"book-detail-content-row\">\n                <div className=\"book-detail-content-label\">{t('category')}</div>\n                <div className=\"book-detail-content-text\">{category}</div>\n              </div>\n              <div className=\"book-detail-content-row\">\n                <div className=\"book-detail-content-label\">{t('lang')}</div>\n                <div className=\"book-detail-content-text\">{store.lang}</div>\n              </div>\n              <div className=\"book-detail-content-row\">\n                <div className=\"book-detail-content-label\">{t('ISBN')}</div>\n                <div className=\"book-detail-content-text\">{store.isbn}</div>\n              </div>\n            </div>\n          </div>\n          <div className=\"book-detail-content-wrapper\">\n            <div className=\"book-detail-content-title\">{t('navigation')}</div>\n            <div className=\"book-detail-content-list-wrapper\">\n              {!store.flatNavigation ? (\n                <div className=\"loading-text-wrapper\">\n                  <span className=\"loading-text\">{t('loading')}</span>\n                </div>\n              ) : null}\n              <div className=\"book-detail-content-item-wrapper\">\n                {store.flatNavigation.map((item: any) => {\n                  return (\n                    <div className=\"book-detail-content-item\" key={item.id}>\n                      {item.label ? (\n                        <div\n                          className={classnames({\n                            'book-detail-content-navigation-text': true,\n                            'is-sub': item.deep > 1,\n                          })}\n                          style={{\n                            marginLeft: px2vw((item.deep - 1) * 20),\n                          }}\n                        >\n                          {item.label}\n                        </div>\n                      ) : null}\n                    </div>\n                  )\n                })}\n              </div>\n            </div>\n          </div>\n          <div className=\"book-detail-content-wrapper\">\n            <div className=\"book-detail-content-title\">{t('trial')}</div>\n            <div className=\"book-detail-content-list-wrapper\">\n              {!store.displayed ? (\n                <div className=\"loading-text-wrapper\">\n                  <span className=\"loading-text\">{t('loading')}</span>\n                </div>\n              ) : null}\n            </div>\n            <div id=\"preview\"></div>\n          </div>\n        </div>\n      </Scroll>\n      <div className=\"bottom-wrapper\">\n        <div\n          className=\"bottom-btn\"\n          onClick={(e) => {\n            e.stopPropagation()\n            e.preventDefault()\n            store.readBook()\n          }}\n        >\n          {t('read')}\n        </div>\n        <div className=\"bottom-btn\">{t('listen')}</div>\n        <div\n          className=\"bottom-btn\"\n          onClick={(e) => {\n            e.stopPropagation()\n            e.preventDefault()\n            store.addOrRemoveShelf()\n          }}\n        >\n          {store.inBookShelf ? <span className=\"icon-check\"></span> : null}\n          {store.inBookShelf ? t('isAddedToShelf') : t('addOrRemoveShelf')}\n        </div>\n      </div>\n      <RenderToast></RenderToast>\n    </BookDetailWrapper>\n  ))\n}\n\nexport default BookDetail\n","import React, { FC, useEffect } from 'react'\nimport { useHistory, useLocation } from 'react-router-dom'\nimport DetailTitle from './DetailTitle'\nimport { useLocalStore, useObserver } from 'mobx-react'\nimport { list as getList } from '@/api'\nimport qs from 'qs'\nimport { FeaturedItem } from '../home/types'\nimport { useTranslation } from 'react-i18next'\nimport Scroll from '@/common/scroll/Scroll'\nimport Featured from '../home/featured/Featured'\nimport { categoryText as getCategoryText, categoryList } from '@/utils/book'\n\ntype categoryListItem = keyof typeof categoryList\n\ninterface BookListStoreReturn {\n  list: {\n    [key in categoryListItem]: FeaturedItem[]\n  } | null\n  total: number\n  readonly title: string\n  readonly totalNumber: number\n  changeList: (\n    list: {\n      [key in categoryListItem]: FeaturedItem[]\n    }\n  ) => void\n  changeTotal: (total: number) => void\n  categoryText: (key: categoryListItem) => string\n}\n\nconst BookList: FC = () => {\n  const history = useHistory()\n  const location = useLocation()\n  const { t } = useTranslation(['category', 'home'])\n\n  const { category, categoryText, keyword } = qs.parse(\n    location.search.slice(1, location.search.length)\n  )\n\n  const store = useLocalStore<BookListStoreReturn>(() => {\n    return {\n      list: null,\n      total: 0,\n      get totalNumber() {\n        let num = 0\n        if (this.list) {\n          Object.keys(this.list).forEach((key) => {\n            num += this.list![key as categoryListItem].length\n          })\n        }\n        return num\n      },\n      get title() {\n        if (this.list) {\n          return t('home:allBook', { $1: this.totalNumber })\n        } else {\n          return ''\n        }\n      },\n      categoryText(key) {\n        if (key) {\n          return `${getCategoryText(categoryList[key], t)}(${\n            this.list![key].length\n          })`\n        } else {\n          return ''\n        }\n      },\n      changeList(list) {\n        this.list = list\n      },\n      changeTotal(total) {\n        this.total = total\n      },\n    }\n  })\n\n  useEffect(() => {\n    getList().then((response) => {\n      let list = response.data.data\n      const total = response.data.total\n      if (category) {\n        const key = Object.keys(list).filter((item) => item === category)[0]\n        const data = list[key]\n        list = {}\n        list[key] = data\n      } else if (keyword) {\n        Object.keys(list).filter((key) => {\n          list[key] = list[key].filter(\n            (book: any) => book.fileName.indexOf(keyword) >= 0\n          )\n          return list[key].length > 0\n        })\n      }\n      store.changeList(list)\n      store.changeTotal(total)\n    })\n  }, [category, keyword, store])\n\n  return useObserver(() => (\n    <div\n      style={{\n        width: '100%',\n        height: '100%',\n        background: 'white',\n      }}\n    >\n      <DetailTitle\n        title={store.title}\n        showShelf={true}\n        onBack={history.goBack}\n      ></DetailTitle>\n      <Scroll top={42}>\n        {store.list &&\n          Object.keys(store.list).map((key, index) => {\n            return (\n              <Featured\n                data={store.list![key as categoryListItem]}\n                titleText={categoryText as string || store.categoryText(key as categoryListItem)}\n                btnText=\"''\"\n                key={index}\n              ></Featured>\n            )\n          })}\n      </Scroll>\n    </div>\n  ))\n}\n\nexport default BookList\n","import styled from 'styled-components'\nimport { px2vw } from '@/assets/styles'\n\nexport const BookShelfWrapper = styled.div`\n  position: relative;\n  z-index: 100;\n  width: 100%;\n  height: 100%;\n  font-size: 0;\n  .shelf-title {\n    position: absolute;\n    left: 0;\n    top: 0;\n    z-index: 110;\n  }\n  .book-shelf-list {\n    position: absolute;\n    top: ${px2vw(93.5)};\n    left: 0;\n    z-index: 100;\n  }\n  .book-shelf-empty {\n    position: absolute;\n    top: ${px2vw(42)};\n    left: 0;\n    z-index: 100;\n  }\n  .book-shelf-scroll-wrapper {\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 101;\n    background: white;\n  }\n  .book-shelf-scroll-wrapper2 {\n    position: absolute;\n    top: ${px2vw(93.5)};\n    left: 0;\n    z-index: 101;\n  }\n`\n\n","import styled from 'styled-components'\nimport { px2vw, mixin, transition } from '@/assets/styles'\n\nexport const ShelfTitleWrapper = styled.div`\n  position: relative;\n  z-index: 120;\n  width: 100%;\n  height: ${px2vw(42)};\n  background: white;\n  box-shadow: 0 ${px2vw(2)} ${px2vw(2)} 0 rgba(0, 0, 0, 0.1);\n  ${transition.fade()}\n  &.hide-shadow {\n    box-shadow: none;\n  }\n  .title {\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 110;\n    width: 100%;\n    height: ${px2vw(42)};\n    ${mixin.columnCenter()};\n    .title-text {\n      font-size: ${px2vw(16)};\n      line-height: ${px2vw(20)};\n      font-weight: bold;\n      color: #333;\n    }\n    .sub-title-text {\n      font-size: ${px2vw(10)};\n      color: #333;\n    }\n  }\n  .btn-text-wrapper {\n    position: absolute;\n    right: 0;\n    top: 0;\n    z-index: 115;\n    padding-right: ${px2vw(16.5)};\n    box-sizing: border-box;\n    height: 100%;\n    ${mixin.center()};\n    .btn-text {\n      font-size: ${px2vw(14)};\n      color: #666;\n    }\n  }\n  .btn-clear-wrapper {\n    position: absolute;\n    left: 0;\n    top: 0;\n    z-index: 115;\n    padding-left: ${px2vw(16.5)};\n    box-sizing: border-box;\n    height: 100%;\n    ${mixin.center()};\n    .btn-clear {\n      font-size: ${px2vw(14)};\n      color: #666;\n    }\n  }\n  .btn-back-wrapper {\n    position: absolute;\n    left: 0;\n    top: 0;\n    z-index: 115;\n    padding-left: ${px2vw(16.5)};\n    box-sizing: border-box;\n    height: 100%;\n    font-size: ${px2vw(20)};\n    color: #666;\n    ${mixin.center()};\n    &:active {\n      color: rgba(102, 102, 102, 0.5);\n    }\n    .btn-text {\n      font-size: ${px2vw(14)};\n      color: #666;\n    }\n  }\n`\n","import styled from 'styled-components'\nimport { px2vw,mixin,transition } from '@/assets/styles'\n\nexport const PopupWrapper = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  z-index: 2000;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.4);\n  .popup-bg {\n    width: 100%;\n    height: 100%;\n    ${transition.fade()}\n  }\n  .popup-wrapper {\n    position: fixed;\n    left: 0;\n    bottom: 0;\n    z-index: 2000;\n    width: 100%;\n    background: white;\n    ${transition.popupSlideUp()}\n    .popup-title {\n      width: 100%;\n      height: ${px2vw(44)};\n      border-bottom: ${px2vw(1)} solid #eee;\n      font-size: ${px2vw(12)};\n      line-height: ${px2vw(14)};\n      padding: ${px2vw(15)};\n      box-sizing: border-box;\n      text-align: center;\n      color: #999;\n      ${mixin.center()};\n    }\n    .popup-confirm-btn {\n      width: 100%;\n      height: ${px2vw(60)};\n      border-bottom: ${px2vw(1)} solid #eee;\n      font-size: ${px2vw(16)};\n      color: #666;\n      font-weight: bold;\n      ${mixin.center()};\n      &.is-remove {\n        color: ${mixin.variableColor.$colorPink};\n      }\n    }\n    .popup-cancel-btn {\n      width: 100%;\n      height: ${px2vw(60)};\n      font-size: ${px2vw(16)};\n      color: #666;\n      font-weight: bold;\n      ${mixin.center()};\n    }\n  }\n`\n","import React, {\n  forwardRef,\n  useState,\n  useCallback,\n  useImperativeHandle,\n} from 'react'\nimport { createPortal } from 'react-dom'\nimport { PopupWrapper } from './style'\nimport { CSSTransition } from 'react-transition-group'\nimport classnames from 'classnames'\n\ninterface PopupProp {\n  title: string\n  confirmText: string\n  isRemoveText: boolean\n  cancelText: string\n  thirdText?: string\n  confirm: (...args: any) => any\n  third?: (...args: any) => any\n}\n\nexport interface RefProp {\n  show: () => void\n  hide: () => void\n}\n\nconst Popup = forwardRef<RefProp, PopupProp>((props, ref) => {\n  const [visible, setVisible] = useState(false)\n  const [popupVisible, setPopupVisible] = useState(false)\n\n  const {\n    title,\n    confirmText,\n    isRemoveText,\n    cancelText,\n    thirdText,\n    confirm,\n    third,\n  } = props\n\n  const show = useCallback(() => {\n    setVisible(true)\n    setPopupVisible(true)\n  }, [])\n\n  const hide = useCallback(() => {\n    setPopupVisible(false)\n    setTimeout(() => {\n      setVisible(false)\n    }, 200)\n  }, [])\n\n  const handleConfirm = () => {\n    confirm()\n    setTimeout(() => {\n      hide()\n    }, 20)\n  }\n\n  useImperativeHandle(ref, () => ({\n    show,\n    hide,\n  }))\n\n  let portalRoot: HTMLElement\n  const element = document.getElementById('portal-root')\n  if (element) {\n    portalRoot = element\n  } else {\n    portalRoot = document.createElement('div')\n    portalRoot.id = 'portal-root'\n    document.body.appendChild(portalRoot)\n  }\n\n  return createPortal(\n    <PopupWrapper style={{ display: visible ? 'block' : 'none' }}>\n      <div\n        className=\"popup-bg\"\n        style={{\n          display: popupVisible ? 'block' : 'none',\n        }}\n        onClick={(e) => {\n          e.stopPropagation()\n          e.preventDefault()\n          hide()\n        }}\n        onTouchMove={(e) => {\n          e.preventDefault()\n        }}\n      ></div>\n      <CSSTransition\n        in={popupVisible}\n        timeout={500}\n        classNames=\"popup-slide-up\"\n        appear={true}\n      >\n        <div className=\"popup-wrapper\">\n          {title && title.length > 0 ? (\n            <div className=\"popup-title\">{title}</div>\n          ) : null}\n          {thirdText && thirdText.length > 0 ? (\n            <div className=\"popup-confirm-btn\" onClick={() => {\n              if(third) {\n                hide()\n                setTimeout(()=>{\n                  third()\n                },250)\n              }\n            }}>\n              {thirdText}\n            </div>\n          ) : null}\n          <div\n            className={classnames({\n              'popup-confirm-btn': true,\n              'is-remove': isRemoveText,\n            })}\n            onClick={() => handleConfirm()}\n          >\n            {confirmText}\n          </div>\n          <div className=\"popup-cancel-btn\" onClick={() => hide()}>\n            {cancelText}\n          </div>\n        </div>\n      </CSSTransition>\n    </PopupWrapper>,\n    portalRoot\n  )\n})\n\nexport default Popup\n","import styled from 'styled-components'\nimport { px2vw, mixin,transition } from '@/assets/styles'\n\nexport const ShelfGroupDialogWrapper = styled.div`\n  position: fixed;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  z-index: 120;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.2);\n  font-size: ${px2vw(16)};\n  color: #333;\n  ${mixin.center()}\n  ${transition.fade()}\n  .shelf-group-dialog-wrapper {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    width: 60%;\n    max-height: 80%;\n    background: white;\n    border-radius: ${px2vw(10)};\n    .dialog-list {\n      width: 100%;\n      padding: 0 ${px2vw(20)};\n      box-sizing: border-box;\n      ${mixin.scroll()}\n      .dialog-title-wrapper {\n        font-size: ${px2vw(22)};\n        font-weight: bold;\n        text-align: center;\n        padding: ${px2vw(30)} 0 ${px2vw(20)} 0;\n      }\n      .dialog-list-wrapper {\n        font-size: ${px2vw(14)};\n        .dialog-list-item {\n          display: flex;\n          padding: ${px2vw(15)} 0;\n          box-sizing: border-box;\n          color: #666;\n          &.is-add {\n            color: ${mixin.variableColor.$colorBlue};\n            &:active {\n              color: ${mixin.variableColor.$colorBlueTransparent};\n            }\n          }\n          &:active {\n            color: rgba(102, 102, 102, 0.5);\n          }\n          .dialog-list-item-text {\n            flex: 1;\n          }\n          .dialog-list-icon-wrapper {\n            flex: 0 0 ${px2vw(30)};\n            color: ${mixin.variableColor.$colorBlue};\n            ${mixin.right()};\n          }\n        }\n      }\n    }\n    .dialog-btn-wrapper {\n      display: flex;\n      width: 100%;\n      background: ${mixin.variableColor.$colorBlue};\n      font-size: ${px2vw(14)};\n      font-weight: bold;\n      color: white;\n      text-align: center;\n      padding: ${px2vw(15)} 0;\n      box-sizing: border-box;\n      border-radius: 0 0 ${px2vw(10)} ${px2vw(10)};\n      .dialog-btn {\n        flex: 1;\n        &.is-empty {\n          color: rgba(255, 255, 255, 0.5);\n        }\n        &:active {\n          color: rgba(255, 255, 255, 0.5);\n        }\n      }\n    }\n    .dialog-input-title-wrapper {\n      font-size: ${px2vw(10)};\n      margin-top: ${px2vw(20)};\n    }\n    .dialog-input-wrapper {\n      width: 100%;\n      padding: 0 0 ${px2vw(30)} 0;\n      box-sizing: border-box;\n      .dialog-input-inner-wrapper {\n        display: flex;\n        width: 100%;\n        padding: ${px2vw(10)} 0;\n        box-sizing: border-box;\n        border-bottom: ${px2vw(1)} solid #eee;\n        font-size: ${px2vw(14)};\n        color: #666;\n        .dialog-input {\n          flex: 1;\n          border: none;\n          &:focus {\n            outline: none;\n          }\n        }\n        .dialog-input-clear-wrapper {\n          flex: 0 0 ${px2vw(30)};\n          color: #ccc;\n          ${mixin.center()};\n          &:active {\n            color: #999;\n          }\n        }\n      }\n    }\n  }\n`\n","import React, { memo, useImperativeHandle, forwardRef, useRef } from 'react'\nimport { CSSTransition } from 'react-transition-group'\nimport { useObserver, useLocalStore } from 'mobx-react'\nimport { ShelfGroupDialogWrapper } from './style'\nimport { useTranslation } from 'react-i18next'\nimport { CategoryItem, BookList, categoryListItem } from '../types'\nimport classnames from 'classnames'\n\ninterface DialogProp {\n  isInGroup?: boolean\n  category?: CategoryItem\n  bookList?: BookList\n  isEditGroupName?: boolean\n  groupEdit?: (operation: number, group: categoryListItem) => void\n  editGroupName?: (name: string) => void\n}\n\nexport interface RefProp {\n  show: () => void\n  hide: () => void\n  showCreateGroupDialog: () => void\n}\n\nconst ShelfGroupDialog = forwardRef<RefProp, DialogProp>((props, ref) => {\n  const { t } = useTranslation('shelf')\n  const dialogInput = useRef<HTMLInputElement | null>(null)\n  //   const [newGroupName, setNewGroupName] = useState('')\n\n  const store = useLocalStore((source) => {\n    return {\n      visible: false,\n      newGroupDialogVisible: false,\n      selectGroupDialogVisible: true,\n      newGroupName: '',\n      changeNewGroupName(str: string) {\n        this.newGroupName = str\n      },\n      defaultCategory: [\n        {\n          title: t('newGroup'),\n          edit: 1,\n        },\n        {\n          title: t('groupOut'),\n          edit: 2,\n        },\n      ],\n      get categoryList() {\n        const list = source.bookList\n          ? ((source.bookList.filter(\n              (item) => item.type === 2\n            ) as unknown) as CategoryItem[])\n          : []\n        return [...this.defaultCategory, ...list] as categoryListItem[]\n      },\n      onGroupClick(item: categoryListItem) {\n        if (item.edit && item.edit === 1) {\n          this.showCreateGroupDialog()\n        } else if (item.edit && item.edit === 2) {\n          // \n          if (source.groupEdit) source.groupEdit(3, item)\n          this.hide()\n        } else {\n          // \n          if (source.groupEdit) source.groupEdit(1, item)\n          this.hide()\n        }\n      },\n      showCreateGroupDialog() {\n        this.newGroupDialogVisible = true\n        this.selectGroupDialogVisible = false\n        this.changeNewGroupName('')\n        setTimeout(() => {\n          dialogInput.current?.focus()\n        }, 20)\n      },\n      createNewGroup() {\n        if (source.isEditGroupName) {\n          if (source.editGroupName) source.editGroupName(this.newGroupName)\n          this.hide()\n        } else {\n          if (this.newGroupName.length > 0) {\n            if (source.groupEdit)\n              source.groupEdit(2, {\n                id: source.bookList![source.bookList!.length - 2].id + 1,\n                itemList: [],\n                selected: false,\n                title: this.newGroupName,\n                type: 2,\n              })\n            this.newGroupDialogVisible = false\n            this.selectGroupDialogVisible = true\n            this.hide()\n            this.changeNewGroupName('')\n          }\n        }\n      },\n      show() {\n        this.visible = true\n      },\n      hide() {\n        this.visible = false\n      },\n    }\n  }, props)\n\n  useImperativeHandle(ref, () => ({\n    show: store.show,\n    hide: store.hide,\n    showCreateGroupDialog: store.showCreateGroupDialog,\n  }))\n\n  return useObserver(() => (\n    <>\n      <CSSTransition\n        in={store.visible}\n        timeout={500}\n        classNames=\"fade\"\n        appear={true}\n        unmountOnExit\n      >\n        <ShelfGroupDialogWrapper>\n          {store.selectGroupDialogVisible ? (\n            <div className=\"shelf-group-dialog-wrapper\">\n              <div className=\"dialog-list\">\n                <div className=\"dialog-title-wrapper\">\n                  <span className=\"dialog-title-text\">{t('moveBook')}</span>\n                </div>\n                <div className=\"dialog-list-wrapper\">\n                  {store.categoryList.map((item, index) => {\n                    return (\n                      <div key={index}>\n                        {(item.edit === 2 && props.isInGroup) ||\n                        item.edit !== 2 ||\n                        !item.edit ? (\n                          <div\n                            className={classnames({\n                              'dialog-list-item': true,\n                              'is-add': item.edit ? item.edit === 1 : false,\n                            })}\n                            onClick={() => store.onGroupClick(item)}\n                          >\n                            <div className=\"dialog-list-item-text\">\n                              {item.title}\n                            </div>\n                            {props.category && (item as CategoryItem).id ? (\n                              props.category.id === (item as CategoryItem).id\n                            ) : false ? (\n                              <div className=\"dialog-list-icon-wrapper\">\n                                <span className=\"icon-check\"></span>\n                              </div>\n                            ) : null}\n                          </div>\n                        ) : null}\n                      </div>\n                    )\n                  })}\n                </div>\n              </div>\n              <div className=\"dialog-btn-wrapper\" onClick={() => store.hide()}>\n                <div className=\"dialog-btn\">{t('cancel')}</div>\n              </div>\n            </div>\n          ) : null}\n          {store.newGroupDialogVisible ? (\n            <div className=\"shelf-group-dialog-wrapper\">\n              <div className=\"dialog-list\">\n                <div className=\"dialog-title-wrapper\">\n                  <span className=\"dialog-title-text\">{t('newGroup')}</span>\n                </div>\n                <div className=\"dialog-input-title-wrapper\">\n                  <span className=\"dialog-input-title\">{t('groupName')}</span>\n                </div>\n                <div className=\"dialog-input-wrapper\">\n                  <div className=\"dialog-input-inner-wrapper\">\n                    <input\n                      type=\"text\"\n                      className=\"dialog-input\"\n                      ref={dialogInput}\n                      value={store.newGroupName}\n                      onChange={(e) => store.changeNewGroupName(e.target.value)}\n                    />\n                    <div\n                      className=\"dialog-input-clear-wrapper\"\n                      style={{\n                        display:\n                          store.newGroupName.length > 0 ? 'block' : 'none',\n                      }}\n                      onClick={() => store.changeNewGroupName('')}\n                    >\n                      <span className=\"icon-close-circle-fill\"></span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"dialog-btn-wrapper\">\n                <div className=\"dialog-btn\" onClick={() => store.hide()}>\n                  {t('cancel')}\n                </div>\n                <div\n                  className={classnames({\n                    'dialog-btn': true,\n                    'is-empty': store.newGroupName.length === 0,\n                  })}\n                  onClick={() => store.createNewGroup()}\n                >\n                  {t('confirm')}\n                </div>\n              </div>\n            </div>\n          ) : null}\n        </ShelfGroupDialogWrapper>\n      </CSSTransition>\n      {/* <RenderToast></RenderToast> */}\n    </>\n  ))\n})\n\nexport default memo(ShelfGroupDialog)\n","import React, { FC, memo, useState, useRef } from 'react'\nimport { ShelfTitleWrapper } from './style'\nimport { BookList, CategoryItem } from '../types'\nimport { useObserver, useLocalStore } from 'mobx-react'\nimport { useTranslation } from 'react-i18next'\nimport { CSSTransition } from 'react-transition-group'\nimport { useHistory } from 'react-router-dom'\nimport Popup, { RefProp } from '@/common/popup/Popup'\nimport ShelfGroupDialog, {\n  RefProp as DialogRefProp,\n} from '../shelfGroupDialog/ShelfGroupDialog'\n\ninterface ShelfTitleProp {\n  title?: string\n  data: BookList\n  ifShowBack: boolean\n  ifShowClear: boolean\n  isEditMode: boolean\n  category?: CategoryItem\n  ifGroupEmpty?: boolean\n  ifShowTitle?: boolean\n  onEditClick: (v: boolean) => void\n  deleteGroup?: () => void\n  editGroupName?: (name: string) => void\n  clearCache?: () => void\n}\n\nconst ShelfTitle: FC<ShelfTitleProp> = (props) => {\n  const { t } = useTranslation('shelf')\n\n  const history = useHistory()\n  const popupRef = useRef<RefProp | null>(null)\n  const dialogRef = useRef<DialogRefProp | null>(null)\n\n  const { ifShowTitle, deleteGroup } = props\n\n  const store = useLocalStore((source) => {\n    return {\n      isDeleteGroup: false,\n      get selectedNumber() {\n        if (source.category && source.category.itemList) {\n          return source.category.itemList.filter((item) => item.selected).length\n        } else if (source.data) {\n          return source.data.filter((item) => item.selected).length\n        } else {\n          return 0\n        }\n      },\n      get selectedText() {\n        return this.selectedNumber === 0\n          ? t('selectBook')\n          : this.selectedNumber === 1\n          ? t('haveSelectedBook', { $1: this.selectedNumber })\n          : t('haveSelectedBooks', { $1: this.selectedNumber })\n      },\n      get popupTitle() {\n        if (this.isDeleteGroup) {\n          return t('deleteGroupTitle')\n        } else {\n          return ''\n        }\n      },\n      get confirmText() {\n        if (this.isDeleteGroup) {\n          return t('confirm')\n        } else {\n          return t('deleteGroup')\n        }\n      },\n      get thirdText() {\n        if (this.isDeleteGroup) {\n          return ''\n        } else {\n          return t('editGroupName')\n        }\n      },\n      onPopupDelete() {\n        if (this.isDeleteGroup) {\n          if (deleteGroup) deleteGroup()\n          this.isDeleteGroup = false\n        } else {\n          popupRef.current?.hide()\n          setTimeout(() => {\n            this.isDeleteGroup = true\n            popupRef.current?.show()\n          }, 250)\n        }\n      },\n      onPopupChange() {\n        source.onEditClick(false)\n        dialogRef.current?.show()\n        dialogRef.current?.showCreateGroupDialog()\n      },\n      changeGroup() {\n        popupRef.current?.show()\n      },\n    }\n  }, props)\n\n  const [isHideShadow] = useState(true)\n\n  const handleOnEditClick = () => {\n    if (props.isEditMode) {\n      props.onEditClick(false)\n    } else {\n      props.onEditClick(true)\n    }\n  }\n\n  return useObserver(() => (\n    <CSSTransition\n      in={ifShowTitle}\n      timeout={500}\n      classNames=\"fade\"\n      appear={true}\n      unmountOnExit\n    >\n      <ShelfTitleWrapper className={isHideShadow ? 'hide-shadow' : ''}>\n        <div className=\"title\">\n          <span className=\"title-text\">{props.title}</span>\n          <span\n            className=\"sub-title-text\"\n            style={{ display: props.isEditMode ? 'inline' : 'none' }}\n          >\n            {store.selectedText}\n          </span>\n          {!props.ifGroupEmpty ? (\n            <div className=\"btn-text-wrapper\" onClick={handleOnEditClick}>\n              <span className=\"btn-text\">\n                {props.isEditMode ? t('cancel') : t('edit')}\n              </span>\n            </div>\n          ) : (\n            <div className=\"btn-text-wrapper\" onClick={store.changeGroup}>\n              <span className=\"btn-text\">{t('editGroup')}</span>\n            </div>\n          )}\n          {props.ifShowClear ? (\n            <div\n              className=\"btn-clear-wrapper\"\n              onClick={() => {\n                if (props.clearCache) props.clearCache()\n              }}\n            >\n              <span className=\"btn-clear\">{t('clearCache')}</span>\n            </div>\n          ) : null}\n          {props.ifShowBack && !props.isEditMode ? (\n            <div\n              className=\"btn-back-wrapper\"\n              onClick={() => {\n                history.goBack()\n              }}\n            >\n              <span className=\"icon-back\"></span>\n            </div>\n          ) : null}\n          {props.ifShowBack && props.isEditMode ? (\n            <div className=\"btn-back-wrapper\" onClick={store.changeGroup}>\n              <span className=\"btn-text\">{t('editGroup')}</span>\n            </div>\n          ) : null}\n        </div>\n        <Popup\n          ref={popupRef}\n          title={store.popupTitle}\n          thirdText={store.thirdText}\n          confirmText={store.confirmText}\n          isRemoveText={true}\n          confirm={store.onPopupDelete}\n          third={store.onPopupChange}\n          cancelText={t('cancel')}\n        ></Popup>\n        <ShelfGroupDialog\n          ref={dialogRef}\n          isEditGroupName={true}\n          editGroupName={props.editGroupName}\n        ></ShelfGroupDialog>\n      </ShelfTitleWrapper>\n    </CSSTransition>\n  ))\n}\n\nexport default memo(ShelfTitle)\n","import styled from 'styled-components'\nimport { px2vw, mixin, transition } from '@/assets/styles'\n\nexport const ShelfSearchWrapper = styled.div`\n  position: relative;\n  z-index: 105;\n  width: 100%;\n  height: ${px2vw(94)};\n  font-size: ${px2vw(16)};\n  background: white;\n  box-shadow: 0 ${px2vw(2)} ${px2vw(2)} 0 rgba(0, 0, 0, 0.1);\n  &.search-top {\n    position: fixed;\n    top: 0;\n    left: 0;\n  }\n  &.hide-shadow {\n    box-shadow: none;\n  }\n  .shelf-search {\n    position: absolute;\n    top: ${px2vw(42)};\n    left: 0;\n    z-index: 101;\n    width: 100%;\n    height: ${px2vw(52)};\n    display: flex;\n    transition: all 0.5s linear;\n    &.search-top {\n      top: 0;\n    }\n    .search-wrapper {\n      display: flex;\n      flex: 1;\n      margin: ${px2vw(8)} 0 ${px2vw(8)} ${px2vw(10)};\n      border: ${px2vw(1)} solid #ccc;\n      border-radius: ${px2vw(3)};\n      .icon-search-wrapper {\n        flex: 0 0 ${px2vw(22)};\n        ${mixin.right()};\n        .icon-search {\n          font-size: ${px2vw(12)};\n        }\n      }\n      .search-input-wrapper {\n        flex: 1;\n        padding: 0 ${px2vw(10)};\n        box-sizing: border-box;\n        ${mixin.center()};\n        .search-input {\n          width: 100%;\n          font-size: ${px2vw(14)};\n          border: none;\n          color: #333;\n          &:focus {\n            outline: none;\n          }\n          &::-webkit-input-placeholder {\n            font-size: ${px2vw(14)};\n            color: #ccc;\n          }\n        }\n      }\n      .icon-clear-wrapper {\n        flex: 0 0 ${px2vw(24)};\n        ${mixin.left()};\n        .icon-close-circle-fill {\n          font-size: ${px2vw(14)};\n          color: #ccc;\n        }\n      }\n    }\n    .icon-clock-wrapper {\n      flex: 0 0 ${px2vw(55)};\n      ${mixin.center()};\n      .icon-cn,\n      .icon-en {\n        font-size: ${px2vw(22)};\n        color: #666;\n      }\n    }\n    .cancel-btn-wrapper {\n      flex: 0 0 ${px2vw(55)};\n      ${mixin.center()};\n      .cancel-btn {\n        font-size: ${px2vw(14)};\n        color: ${mixin.variableColor['$colorBlue']};\n      }\n    }\n  }\n  .tab-wrapper {\n    position: absolute;\n    top: ${px2vw(52)};\n    left: 0;\n    z-index: 100;\n    display: flex;\n    width: 100%;\n    height: ${px2vw(42)};\n    ${transition.shelfTabSlideUp()}\n    .tab-item {\n      flex: 1;\n      ${mixin.center()};\n      .tab-item-text {\n        font-size: ${px2vw(12)};\n        color: #999;\n        &.is-selected {\n          color: ${mixin.variableColor['$colorBlue']};\n        }\n      }\n    }\n  }\n`\n","import React, { FC, memo, useState, useCallback, useRef } from 'react'\nimport { ShelfSearchWrapper } from './style'\nimport { observer } from 'mobx-react'\nimport classnames from 'classnames'\nimport { useTranslation } from 'react-i18next'\nimport { saveLocale } from '@/utils/localStorage'\nimport { CSSTransition } from 'react-transition-group'\n\ninterface ShelfSearchProp {\n  onSearchClick: () => void\n  onSearchCancel: () => void\n  onSearchTabClick: (id: number) => void\n}\n\ninterface tabsItem {\n  id: number\n  text: string\n  selected: boolean\n}\n\nconst ShelfSearch: FC<ShelfSearchProp> = observer((props) => {\n  const { onSearchClick, onSearchTabClick, onSearchCancel } = props\n\n  const { t, i18n } = useTranslation('shelf')\n  const searchInput = useRef<HTMLInputElement | null>(null)\n  const [ifShowCancel, setIfShowCancel] = useState(false)\n  const [ifHideShadow] = useState(true)\n  const [ifShowClear, setIfShowClear] = useState(false)\n  const [searchText, setSearchText] = useState('')\n  const [lang, setLang] = useState(i18n.language)\n  const [tabs, setTabs] = useState<tabsItem[]>([\n    {\n      id: 1,\n      text: t('default'),\n      selected: true,\n    },\n    {\n      id: 2,\n      text: t('progress'),\n      selected: false,\n    },\n    {\n      id: 3,\n      text: t('purchase'),\n      selected: false,\n    },\n  ])\n\n  const onTabClick = (item: tabsItem) => {\n    tabs.forEach((tab) => {\n      if (tab.id === item.id) {\n        tab.selected = true\n      } else {\n        tab.selected = false\n      }\n    })\n    onSearchTabClick(item.id)\n    setTabs([...tabs])\n  }\n\n  const onCancel = () => {\n    setIfShowCancel(false)\n    onSearchCancel()\n  }\n\n  const checkSearchText = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      e.stopPropagation()\n      e.preventDefault()\n      const value = e.target.value\n      if (value && value.length > 0) {\n        setIfShowClear(true)\n      } else {\n        setIfShowClear(false)\n      }\n      setSearchText(value)\n    },\n    []\n  )\n\n  const clearSearchText = () => {\n    setSearchText('')\n    setIfShowClear(false)\n    searchInput.current!.focus()\n  }\n\n  const changeLang = () => {\n    if (lang === 'cn') {\n      i18n.changeLanguage('en')\n      saveLocale('en')\n      setLang('en')\n    } else {\n      i18n.changeLanguage('cn')\n      saveLocale('cn')\n      setLang('cn')\n    }\n  }\n\n  const handleOnSearchClick = () => {\n    setIfShowCancel(true)\n    onSearchClick()\n  }\n\n  return (\n    <ShelfSearchWrapper\n      className={classnames({\n        'search-top': ifShowCancel,\n        'hide-shadow': ifHideShadow,\n      })}\n    >\n      <div\n        className={classnames({\n          'shelf-search': true,\n          'search-top': ifShowCancel,\n        })}\n      >\n        <div className=\"search-wrapper\">\n          <div className=\"icon-search-wrapper\">\n            <span className=\"icon-search icon\"></span>\n          </div>\n          <div className=\"search-input-wrapper\">\n            <input\n              className=\"search-input\"\n              type=\"text\"\n              placeholder={t('search')}\n              onChange={(e) => checkSearchText(e)}\n              onClick={handleOnSearchClick}\n              value={searchText}\n              ref={searchInput}\n            />\n          </div>\n          {ifShowClear ? (\n            <div className=\"icon-clear-wrapper\" onClick={clearSearchText}>\n              <span className=\"icon-close-circle-fill icon\"></span>\n            </div>\n          ) : null}\n        </div>\n        {!ifShowCancel ? (\n          <div className=\"icon-clock-wrapper\" onClick={() => changeLang()}>\n            {lang === 'cn' ? (\n              <span className=\"icon-cn icon\"></span>\n            ) : lang === 'en' ? (\n              <span className=\"icon-en icon\"></span>\n            ) : null}\n          </div>\n        ) : (\n          <div className=\"cancel-btn-wrapper\" onClick={onCancel}>\n            <span className=\"cancel-btn\">{t('cancel')}</span>\n          </div>\n        )}\n      </div>\n      <CSSTransition\n        in={ifShowCancel}\n        timeout={500}\n        classNames=\"shelf-tab-slide-up\"\n        appear={true}\n        unmountOnExit\n      >\n        <div className=\"tab-wrapper\">\n          {tabs &&\n            tabs.map((item) => {\n              return (\n                <div\n                  className=\"tab-item\"\n                  key={item.id}\n                  onClick={() => onTabClick(item)}\n                >\n                  <span\n                    className={classnames('tab-item-text', {\n                      'is-selected': item.selected,\n                    })}\n                  >\n                    {item.text}\n                  </span>\n                </div>\n              )\n            })}\n        </div>\n      </CSSTransition>\n    </ShelfSearchWrapper>\n  )\n})\n\nexport default memo(ShelfSearch)\n","import styled from 'styled-components'\nimport { px2vw, mixin, mixinTitle } from '@/assets/styles'\n\nexport const ShelfWrapper = styled.div`\n  width: 100%;\n  overflow: auto;\n  font-size: 0;\n  .book-shelf-content-list {\n    display: flex;\n    flex-flow: row wrap;\n    width: 100%;\n    padding: 0 ${px2vw(15)};\n    box-sizing: border-box;\n    .book-shelf-item {\n      flex: 0 0 33.33%;\n      width: 33.33%;\n      padding: ${px2vw(15)};\n      box-sizing: border-box;\n      &.item-exit {\n        opacity: 1;\n      }\n      &.list-exit-active {\n        transition: all 5s linear;\n        opacity: 0;\n      }\n      .book-img-wrapper {\n        width: 100%;\n        ${mixin.shelfImgHeight};\n        box-shadow: ${px2vw(2)} ${px2vw(2)} ${px2vw(6)} ${px2vw(2)}\n          rgba(200, 200, 200, 0.3);\n        ${mixin.center()};\n        border: ${px2vw(1)} solid #eee;\n        box-sizing: border-box;\n        &.add-book {\n          box-shadow: none;\n          border: ${px2vw(1)} solid #ccc;\n          box-sizing: border-box;\n        }\n        &.category-book {\n          border: ${px2vw(1)} solid #eee;\n          box-sizing: border-box;\n        }\n        .book-img {\n          width: 100%;\n          height: 100%;\n        }\n        .icon-add {\n          font-size: ${px2vw(40)};\n          color: #ccc;\n        }\n      }\n      .book-title-wrapper {\n        .book-title {\n          margin-top: ${px2vw(10)};\n        }\n      }\n    }\n    ${mixinTitle()}\n  }\n  .book-shelf-statistics {\n    margin: ${px2vw(30)} 0 ${px2vw(20)} 0;\n    text-align: center;\n    font-size: ${px2vw(12)};\n    color: #999;\n  }\n  .book-shelf-label-list-wrapper {\n    width: 100%;\n    .book-shelf-list-wrapper {\n      position: relative;\n      width: 100%;\n      .book-shelf-label-item {\n        position: absolute;\n        top: 0;\n        left: 0;\n        z-index: 120;\n        width: 100%;\n        height: ${px2vw(42)};\n        border-top: ${px2vw(1)} solid #eee;\n        border-bottom: none;\n        box-sizing: border-box;\n        background: white;\n        &.is-fixed {\n          position: fixed;\n          top: ${px2vw(93)};\n          left: 0;\n          border-bottom: ${px2vw(1)} solid #eee;\n        }\n        ${mixin.left()};\n        .book-shelf-label-text {\n          font-size: ${px2vw(14)};\n          color: #666;\n          margin: 0 ${px2vw(15)};\n        }\n      }\n      .book-shelf-item-wrapper {\n        position: relative;\n        z-index: 110;\n        display: flex;\n        flex-flow: row wrap;\n        width: 100%;\n        padding: ${px2vw(42)} ${px2vw(15)} 0 ${px2vw(15)};\n        box-sizing: border-box;\n        .book-shelf-item {\n          flex: 0 0 33.33%;\n          width: 33.33%;\n          padding: ${px2vw(15)};\n          box-sizing: border-box;\n          &.list-move {\n            transition: transform 0.5s;\n          }\n          &.list-leave-active {\n            display: none;\n          }\n          .book-img-wrapper {\n            width: 100%;\n            ${mixin.shelfImgHeight};\n            box-shadow: ${px2vw(2)} ${px2vw(2)} ${px2vw(6)} ${px2vw(2)}\n              rgba(200, 200, 200, 0.3);\n            ${mixin.center()};\n            border: ${px2vw(1)} solid #eee;\n            box-sizing: border-box;\n            &.add-book {\n              box-shadow: none;\n              border: ${px2vw(1)} solid #ccc;\n              box-sizing: border-box;\n            }\n            &.category-book {\n              border: ${px2vw(1)} solid #eee;\n              box-sizing: border-box;\n            }\n            .book-img {\n              width: 100%;\n              height: 100%;\n            }\n            .icon-add {\n              font-size: ${px2vw(40)};\n              color: #ccc;\n            }\n          }\n          .book-title-wrapper {\n            .book-title {\n              margin-top: ${px2vw(10)};\n            }\n            ${mixinTitle()}\n          }\n        }\n      }\n    }\n  }\n`\nexport const ShelfImageWrapper = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  .book-img {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n  }\n  .icon-selected {\n    position: absolute;\n    bottom: ${px2vw(2)};\n    right: ${px2vw(2)};\n    font-size: ${px2vw(18)};\n    color: rgba(0, 0, 0, 0.4);\n    &.is-selected {\n      color: ${mixin.variableColor.$colorBlue};\n    }\n  }\n  .private-wrapper {\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    width: 0;\n    height: 0;\n    border-width: ${px2vw(15)};\n    border-style: solid;\n    border-color: transparent transparent rgba(0, 0, 0, 0.3) rgba(0, 0, 0, 0.3);\n  }\n  .private-icon-wrapper {\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    width: ${px2vw(30)};\n    height: ${px2vw(30)};\n    padding-bottom: ${px2vw(5)};\n    padding-left: ${px2vw(3)};\n    ${mixin.leftBottom()};\n    .icon-private {\n      font-size: ${px2vw(12)};\n      color: white;\n    }\n  }\n`\nexport const ShelfCategoryWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  .shelf-category {\n    display: flex;\n    flex-flow: row wrap;\n    align-content: flex-start;\n    // justify-content: flex-start;\n    width: 100%;\n    height: 100%;\n    padding-top: ${px2vw(5)};\n    box-sizing: border-box;\n    opacity: 1;\n    &.is-edit {\n      opacity: 0.5;\n    }\n    .shelf-category-item {\n      flex: 0 0 33.33%;\n      width: 33.33%;\n      height: 33.33%;\n      box-sizing: border-box;\n      &:nth-child(3n + 1) {\n        padding: 0 ${px2vw(2.5)} ${px2vw(5)} ${px2vw(5)};\n      }\n      &:nth-child(3n + 2) {\n        padding: 0 ${px2vw(2.5)} ${px2vw(5)} ${px2vw(2.5)};\n      }\n      &:nth-child(3n + 3) {\n        padding: 0 ${px2vw(5)} ${px2vw(5)} ${px2vw(2.5)};\n      }\n      .shelf-category-img {\n        width: 100%;\n        height: 100%;\n      }\n    }\n  }\n  .shelf-category-bg {\n    width: 100%;\n    height: 100%;\n    ${mixin.center()};\n    font-size: ${px2vw(30)};\n    color: #ccc;\n  }\n`\n","import React, { FC, memo } from 'react'\nimport classnames from 'classnames'\nimport { BookItem } from '../types'\nimport { ShelfImageWrapper } from './style'\nimport { useObserver } from 'mobx-react'\n\ninterface ShelfImageProp {\n  data: BookItem\n  isEditMode: boolean\n}\n\nconst ShelfImage: FC<ShelfImageProp> = ({ data, isEditMode }) => {\n  return useObserver(() => (\n    <ShelfImageWrapper>\n      <img className=\"book-img\" src={data.cover} alt=\"\" />\n      {isEditMode ? (\n        <span\n          className={classnames({\n            'icon-selected': true,\n            'is-selected': data.selected,\n          })}\n        ></span>\n      ) : null}\n      {data.private ? <div className=\"private-wrapper\"></div> : null}\n      {data.private ? (\n        <div className=\"private-icon-wrapper\" v-show=\"data.private\">\n          <span className=\"icon-private\"></span>\n        </div>\n      ) : null}\n    </ShelfImageWrapper>\n  ))\n}\n\nexport default memo(ShelfImage)\n","import React, { FC } from 'react'\nimport classnames from 'classnames'\nimport { ShelfCategoryWrapper } from './style'\nimport { CategoryItem } from '../types'\n\ninterface ShelfCategoryProp {\n  data: CategoryItem\n  isEditMode: boolean\n}\n\nconst ShelfCategory: FC<ShelfCategoryProp> = ({ data, isEditMode }) => {\n  return (\n    <ShelfCategoryWrapper>\n      {data.itemList.length > 0 ? (\n        <div\n          className={classnames({\n            'shelf-category': true,\n            'is-edit': isEditMode,\n          })}\n        >\n          {data.itemList.map((item, index) => {\n            return (\n              <div className=\"shelf-category-item\" key={item.id}>\n                <img\n                  className=\"shelf-category-img\"\n                  src={item.cover}\n                  alt=\"\"\n                />\n              </div>\n            )\n          })}\n        </div>\n      ) : (\n        <div className=\"shelf-category-bg\">\n          <span className=\"icon-book2\"></span>\n        </div>\n      )}\n    </ShelfCategoryWrapper>\n  )\n}\n\nexport default ShelfCategory\n","import React, { memo, FC } from 'react'\nimport { ShelfWrapper } from './style'\nimport { useObserver, useLocalStore } from 'mobx-react'\nimport { BookList, BookItem, CategoryItem, BookListItem } from '../types'\nimport { flatBookList } from '@/utils/book'\nimport { Flipper, Flipped } from 'react-flip-toolkit'\nimport classnames from 'classnames'\nimport ShelfImage from './ShelfImage'\nimport ShelfCategory from './ShelfCategory'\nimport { cloneDeep } from 'lodash'\nimport { useTranslation } from 'react-i18next'\nimport { useHistory } from 'react-router-dom'\nimport { useShowBookDetail } from '../../hooks'\nimport qs from 'qs'\ninterface ShelfComProp {\n  data: BookList\n  showType: number\n  isEditMode: boolean\n}\n\nconst ShelfCom: FC<ShelfComProp> = (props) => {\n  const { t } = useTranslation('shelf')\n  const history = useHistory()\n  const showBookDetail = useShowBookDetail()\n\n  const store = useLocalStore((source) => {\n    return {\n      get bookData() {\n        if (source.showType === 0) {\n          return source.data\n        } else if (source.showType === 1) {\n          return flatBookList(cloneDeep(source.data))\n        } else {\n          return undefined\n        }\n      },\n      get flipNum() {\n        if (this.bookData) {\n          return this.bookData.reduce((acc, cur) => {\n            return acc + cur.id\n          }, 0)\n        } else {\n          return 0\n        }\n      },\n      get publicNumber() {\n        if (this.bookData) {\n          let number = 0\n          this.bookData.forEach((item) => {\n            if (!(item as BookItem).private && item.type === 1) {\n              number++\n            } else if (item.type === 2 && item.itemList.length > 0) {\n              number += (item as CategoryItem).itemList.filter((subItem) => {\n                return !subItem.private && subItem.type === 1\n              }).length\n            }\n          })\n          return number\n        } else {\n          return 0\n        }\n      },\n      get privateNumber() {\n        if (this.bookData) {\n          let number = 0\n          this.bookData.forEach((item) => {\n            if ((item as BookItem).private && item.type === 1) {\n              number++\n            } else if (item.type === 2 && item.itemList.length > 0) {\n              number += (item as CategoryItem).itemList.filter((subItem) => {\n                return subItem.private && subItem.type === 1\n              }).length\n            }\n          })\n          return number\n        } else {\n          return 0\n        }\n      },\n    }\n  }, props)\n\n  const onBookClick = (book: BookListItem, index: number) => {\n    if (book.type === 3) {\n      history.push('/mall/home')\n    } else if (book.type === 1) {\n      if (props.isEditMode) {\n        book.selected = !book.selected\n      } else {\n        showBookDetail(book)\n      }\n    } else if (book.type === 2) {\n      if (!props.isEditMode) {\n        history.push({\n          pathname:`/mall/category/${book.title}`,\n          search: `${qs.stringify({index})}`\n        })\n      }\n    }\n  }\n\n  return useObserver(() => (\n    <ShelfWrapper className=\"book-shelf-list\">\n      {props.showType === 0 || props.showType === 1 ? (\n        <Flipper className=\"book-shelf-content-list\" flipKey={store.flipNum}>\n          {store.bookData &&\n            store.bookData.map((item, index) => (\n              <Flipped key={item.id} flipId={item.id}>\n                <div\n                  className=\"book-shelf-item\"\n                  onClick={() => onBookClick(item, index)}\n                >\n                  <div\n                    className={classnames({\n                      'book-img-wrapper': true,\n                      'add-book': item.type === 3,\n                      'category-book': item.type === 2,\n                    })}\n                  >\n                    {item.type === 1 ? (\n                      <ShelfImage\n                        data={item as BookItem}\n                        isEditMode={props.isEditMode}\n                      ></ShelfImage>\n                    ) : item.type === 2 ? (\n                      <ShelfCategory\n                        data={item as CategoryItem}\n                        isEditMode={props.isEditMode}\n                      ></ShelfCategory>\n                    ) : (\n                      <span className=\"icon-add icon\"></span>\n                    )}\n                  </div>\n                  <div className=\"book-title-wrapper\">\n                    <span className=\"book-title title-small\">{item.title}</span>\n                  </div>\n                </div>\n              </Flipped>\n            ))}\n        </Flipper>\n      ) : null}\n\n      <div\n        className=\"book-shelf-statistics\"\n        style={{ display: props.showType === 0 ? 'block' : 'none' }}\n      >\n        {t('statistic', { $1: store.publicNumber, $2: store.privateNumber })}\n      </div>\n    </ShelfWrapper>\n  ))\n}\n\nexport default memo(ShelfCom)\n","import styled from 'styled-components'\nimport { px2vw, mixin } from '@/assets/styles'\n\nexport const ShelfFooterWrapper = styled.div`\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  z-index: 120;\n  display: flex;\n  width: 100%;\n  height: ${px2vw(48)};\n  background: white;\n  box-shadow: 0 ${px2vw(-2)} ${px2vw(4)} 0 rgba(0, 0, 0, 0.1);\n  .book-shelf-tab-wrapper {\n    flex: 1;\n    width: 25%;\n    height: 100%;\n    .book-shelf-tab {\n      width: 100%;\n      height: 100%;\n      ${mixin.columnCenter()};\n      .tab-icon {\n        font-size: ${px2vw(20)};\n        color: #666;\n        opacity: 0.5;\n        &.icon-shelf {\n          color: ${mixin.variableColor.$colorPink};\n        }\n        &.icon-download {\n          font-size: ${px2vw(22)};\n        }\n        &.is-selected {\n          opacity: 1;\n        }\n      }\n      .tab-text {\n        margin-top: ${px2vw(5)};\n        font-size: ${px2vw(12)};\n        color: #666;\n        opacity: 0.5;\n        &.remove-text {\n          color: ${mixin.variableColor.$colorPink};\n        }\n        &.is-selected {\n          opacity: 1;\n        }\n      }\n    }\n  }\n`\n","import React, { FC, memo, useRef } from 'react'\nimport { ShelfFooterWrapper } from './style'\nimport { BookList, BookItem, categoryListItem } from '../types'\nimport { useTranslation } from 'react-i18next'\nimport { useLocalStore, useObserver } from 'mobx-react'\nimport { footerTabs } from '@/utils/book'\nimport classnames from 'classnames'\nimport Popup, { RefProp } from '@/common/popup/Popup'\nimport ShelfGroupDialog, {\n  RefProp as DialogRefProp,\n} from '../shelfGroupDialog/ShelfGroupDialog'\ninterface ShelfFooterProp {\n  data: BookList\n  bookList: BookList\n  isInGroup: boolean\n  isEditMode: boolean\n  setPrivate: (v: boolean) => void\n  setDownload: (v: boolean) => Promise<void>\n  removeBook: () => void\n  groupEdit: (operation: number, group: categoryListItem) => void\n}\n\ntype TabItem =\n  | {\n      label: string\n      label2: string\n      index: number\n    }\n  | {\n      label: string\n      index: number\n      label2?: undefined\n    }\n\nconst ShelfFooter: FC<ShelfFooterProp> = (props) => {\n  const { t } = useTranslation('shelf')\n  const popupRef = useRef<RefProp | null>(null)\n  const dialogRef = useRef<DialogRefProp | null>(null)\n\n  const store = useLocalStore(\n    (source) => ({\n      tabs: footerTabs(t),\n      popTitle: '',\n      confirmText: '',\n      onConfirm: function (...args: any): any {},\n      isRemoveText: false,\n      get isSelected() {\n        if (source.data) {\n          return source.data.some((item) => item.selected)\n        } else {\n          return false\n        }\n      },\n      get isPrivate() {\n        if (!this.isSelected) {\n          return false\n        } else {\n          return source.data.every((item) => {\n            if (item.selected) {\n              return (item as BookItem).private\n            } else {\n              return true\n            }\n          })\n        }\n      },\n      get isDownload() {\n        if (!this.isSelected) {\n          return false\n        } else {\n          return source.data.every((item) => {\n            if (item.selected) {\n              return (item as BookItem).cache\n            } else {\n              return true\n            }\n          })\n        }\n      },\n      get selectedBooks() {\n        let selectedBooks: BookItem[] = []\n        source.data.forEach((item) => {\n          if (item.selected) {\n            selectedBooks.push(item as BookItem)\n          }\n        })\n        return selectedBooks\n      },\n      label(item: { label: string; label2: string; index: number }) {\n        switch (item.index) {\n          case 1:\n            return this.isPrivate ? item.label2 : item.label\n          case 2:\n            return this.isDownload ? item.label2 : item.label\n          default:\n            return item.label\n        }\n      },\n      showPrivate() {\n        if (this.isSelected) {\n          if (!this.isPrivate) {\n            this.showPopup(t('setPrivateTitle'), t('open'), () =>\n              source.setPrivate(true)\n            )\n          } else {\n            this.showPopup(t('closePrivateTitle'), t('close'), () =>\n              source.setPrivate(false)\n            )\n          }\n        }\n      },\n      showPopup(\n        title: string,\n        confirmText: string,\n        onConfirm: (...args: any) => any,\n        isRemoveText = false\n      ) {\n        this.popTitle = title\n        this.confirmText = confirmText\n        this.onConfirm = onConfirm\n        this.isRemoveText = isRemoveText\n        popupRef.current!.show()\n      },\n      showDownload() {\n        if (this.isSelected) {\n          if (!this.isDownload) {\n            this.showPopup(t('setDownloadTitle'), t('open'), () => {\n              source.setDownload(true)\n            })\n          } else {\n            this.showPopup(\n              t('removeDownloadTitle'),\n              t('delete'),\n              () => {\n                source.setDownload(false)\n              },\n              true\n            )\n          }\n        }\n      },\n      showRemove() {\n        if (this.isSelected) {\n          let msg\n          if (this.selectedBooks.length === 1) {\n            msg = t('removeBookTitle', {\n              $1: `${this.selectedBooks[0].title}`,\n            })\n          } else {\n            msg = t('removeBookTitle', { $1: t('selectedBooks') })\n          }\n          this.showPopup(msg, t('removeBook'), source.removeBook, true)\n        }\n      },\n      showGroupDialog() {\n        if (this.isSelected) {\n          dialogRef.current?.show()\n        }\n      },\n    }),\n    props\n  )\n\n  const onTabClick = (item: TabItem) => {\n    if (item.index === 1) {\n      store.showPrivate()\n    } else if (item.index === 2) {\n      store.showDownload()\n    } else if (item.index === 3) {\n      store.showGroupDialog()\n    } else if (item.index === 4) {\n      store.showRemove()\n    }\n  }\n\n  return useObserver(() => (\n    <ShelfFooterWrapper\n      className=\"book-shelf-footer\"\n      style={{ display: props.isEditMode ? 'flex' : 'none' }}\n    >\n      {store.tabs.map((item, index) => {\n        return (\n          <div\n            className=\"book-shelf-tab-wrapper\"\n            key={index}\n            onClick={() => onTabClick(item)}\n          >\n            <div className=\"book-shelf-tab\">\n              {item.index === 1 && !store.isPrivate ? (\n                <div\n                  className={classnames({\n                    'icon-private': true,\n                    'tab-icon': true,\n                    'is-selected': store.isSelected,\n                  })}\n                ></div>\n              ) : null}\n              {item.index === 1 && store.isPrivate ? (\n                <div\n                  className={classnames({\n                    'icon-private-see': true,\n                    'tab-icon': true,\n                    'is-selected': store.isSelected,\n                  })}\n                ></div>\n              ) : null}\n\n              {item.index === 2 && !store.isDownload ? (\n                <div\n                  className={classnames({\n                    'icon-download': true,\n                    'tab-icon': true,\n                    'is-selected': store.isSelected,\n                  })}\n                ></div>\n              ) : null}\n\n              {item.index === 2 && store.isDownload ? (\n                <div\n                  className={classnames({\n                    'icon-download-remove': true,\n                    'tab-icon': true,\n                    'is-selected': store.isSelected,\n                  })}\n                ></div>\n              ) : null}\n              {item.index === 3 ? (\n                <div\n                  className={classnames({\n                    'icon-move': true,\n                    'tab-icon': true,\n                    'is-selected': store.isSelected,\n                  })}\n                ></div>\n              ) : null}\n              {item.index === 4 ? (\n                <div\n                  className={classnames({\n                    'icon-shelf': true,\n                    'tab-icon': true,\n                    'is-selected': store.isSelected,\n                  })}\n                ></div>\n              ) : null}\n              <div\n                className={classnames({\n                  'tab-text': true,\n                  'remove-text': item.index === 4,\n                  'is-selected': store.isSelected,\n                })}\n              >\n                {store.label(\n                  item as { label: string; label2: string; index: number }\n                )}\n              </div>\n            </div>\n          </div>\n        )\n      })}\n      <Popup\n        ref={popupRef}\n        title={store.popTitle}\n        confirmText={store.confirmText}\n        isRemoveText={store.isRemoveText}\n        confirm={store.onConfirm}\n        cancelText={t('cancel')}\n      ></Popup>\n      <ShelfGroupDialog\n        ref={dialogRef}\n        bookList={props.isInGroup ? props.bookList : props.data}\n        isInGroup={props.isInGroup}\n        groupEdit={props.groupEdit}\n      ></ShelfGroupDialog>\n    </ShelfFooterWrapper>\n  ))\n}\n\nShelfFooter.defaultProps = {\n  isInGroup: false,\n  bookList: []\n}\n\nexport default memo(ShelfFooter)\n","import React, { FC, useEffect } from 'react'\nimport { BookShelfWrapper } from './style'\nimport { useLocalStore, useObserver } from 'mobx-react'\nimport {\n  setLocalStorage,\n  getLocalStorage,\n  clearLocalStorage,\n} from '@/utils/localStorage'\nimport { shelf, download } from '@/api'\nimport { BookShelfStoreReturn, BookItem, CategoryItem } from './types'\nimport { useTranslation } from 'react-i18next'\nimport ShelfTitle from './shelfTitle/ShelfTitle'\nimport ScrollView from '@/common/scroll/Scroll'\nimport ShelfSearch from './shelfSearch/ShelfSearch'\nimport ShelfCom from './shelfCom/ShelfCom'\nimport ShelfFooter from './shelfFooter/ShelfFooter'\nimport useToast from '@/common/toast/Toast'\nimport { getLocalForage, clearLocalForage } from '@/utils/localForage'\nimport Epub from 'epubjs'\nimport { removeBookCache } from '@/utils/book'\n\nconst BOOK_SHELF_KEY = 'bookShelf'\n\nconst BookShelf: FC = () => {\n  const { t } = useTranslation('shelf')\n  const { RenderToast, showToast } = useToast()\n  const store = useLocalStore<BookShelfStoreReturn>(() => {\n    return {\n      bookList: [],\n      isEditMode: false,\n      scrollBottom: 0,\n      showType: 0,\n      ifShowBack: false,\n      isShowClear: true,\n      ifShowTitle: true,\n      changeBookList(bookList) {\n        this.bookList = bookList\n      },\n      setIsEditMode(flag) {\n        this.isEditMode = flag\n      },\n      onSearchClick() {\n        this.onEditClick(false)\n        this.showType = 1\n        this.ifShowTitle = false\n      },\n      onSearchCancel() {\n        this.showType = 0\n        this.ifShowTitle = true\n      },\n      onSearchTabClick(id) {\n        this.showType = id\n      },\n      saveBookShelfToLocalStorage() {\n        setLocalStorage(BOOK_SHELF_KEY, this.bookList)\n      },\n      getBookShelfFromLocalStorage() {\n        return getLocalStorage(BOOK_SHELF_KEY)\n      },\n      clearAddFromBookList() {\n        this.bookList = this.bookList.filter((item) => {\n          return item.type !== 3\n        })\n      },\n      appendAddToBookList() {\n        console.log(this.bookList)\n        this.bookList.push({\n          cover: '',\n          title: '',\n          type: 3,\n          id: Number.MAX_SAFE_INTEGER,\n        })\n      },\n      initBookShelf() {\n        if (this.bookList.length) {\n          this.bookList.forEach((item) => {\n            item.selected = false\n          })\n        }\n      },\n      onEditClick(v) {\n        this.isEditMode = v\n        if (!this.isEditMode) {\n          this.bookList.forEach((item) => {\n            if ((item as BookItem).bookId) {\n              item.selected = false\n            } else if (item.itemList) {\n              ;(item as CategoryItem).itemList.forEach((subItem) => {\n                subItem.selected = false\n              })\n            }\n          })\n        }\n        if (this.isEditMode) {\n          this.scrollBottom = 42\n        } else {\n          this.scrollBottom = 0\n        }\n      },\n      setPrivate(v) {\n        this.bookList.forEach((item) => {\n          if (item.selected) {\n            ;(item as BookItem).private = v\n          }\n        })\n        this.onEditClick(false)\n        if (v) {\n          showToast(t('setPrivateSuccess'))\n        } else {\n          showToast(t('closePrivateSuccess'))\n        }\n        this.onEditClick(false)\n        this.saveBookShelfToLocalStorage()\n      },\n      async setDownload(needDownload) {\n        showToast(t('startDownload'))\n        for (let i = 0; i < this.bookList.length; i++) {\n          const item = this.bookList[i]\n          if (needDownload && item.selected) {\n            await this.downloadBook(item as BookItem)\n            ;(item as BookItem).cache = needDownload\n            showToast(t('endDownload'))\n          } else if (!needDownload && item.selected) {\n            await this.removeDownloadBook(item as BookItem)\n            ;(item as BookItem).cache = needDownload\n            showToast(t('endDownload'))\n          }\n          if (item.itemList) {\n            for (let i = 0; i < item.itemList.length; i++) {\n              await this.downloadItem(item.itemList[i], needDownload)\n            }\n          }\n        }\n        this.onEditClick(false)\n        this.saveBookShelfToLocalStorage()\n      },\n      downloadBook(item) {\n        return new Promise((resolve, reject) => {\n          getLocalForage(item.fileName, (err, value) => {\n            if (!err && value instanceof Blob) {\n              console.log(\n                `[${item.fileName}]...`,\n                value,\n                Epub(value as any)\n              )\n              resolve()\n            } else {\n              download(\n                item,\n                (item) => {\n                  console.log('[' + item.fileName + ']...')\n                  resolve()\n                },\n                reject,\n                reject\n              )\n            }\n          })\n        })\n      },\n      async downloadItem(subItem, needDownload) {\n        if (needDownload && subItem.selected) {\n          this.downloadBook(subItem)\n          subItem.cache = needDownload\n        } else if (!needDownload && subItem.selected) {\n          this.removeDownloadBook(subItem)\n          subItem.cache = needDownload\n        }\n      },\n      removeDownloadBook(item) {\n        return removeBookCache(item.fileName)\n      },\n      removeBook() {\n        this.bookList = this.bookList.filter((item) => {\n          if (item.itemList) {\n            item.itemList = item.itemList.filter((subItem: BookItem) => {\n              return !subItem.selected\n            })\n          }\n          return !item.selected\n        })\n        this.onEditClick(false)\n        this.saveBookShelfToLocalStorage()\n      },\n      get getSelectedBooks() {\n        const selectedBooks = this.bookList.filter((item) => {\n          return (item as BookItem).selected\n        }) as BookItem[]\n        this.bookList.forEach((item) => {\n          if (item.type === 2 && item.itemList) {\n            item.itemList.forEach((subItem: any) => {\n              if (subItem.selected) {\n                selectedBooks.push(subItem)\n              }\n            })\n          }\n        })\n        return selectedBooks\n      },\n      clearSelectedBooks() {\n        this.bookList = this.bookList.filter((item) => {\n          return !item.selected\n        })\n        this.bookList.forEach((item) => {\n          if (item.type === 2 && item.itemList) {\n            item.itemList = item.itemList.filter((subItem: BookItem) => {\n              return !subItem.selected\n            })\n          }\n        })\n      },\n      moveToGroup(group) {\n        const selectedBooks = this.getSelectedBooks\n        console.log(selectedBooks, group)\n        this.clearSelectedBooks()\n        if (group && group.itemList) {\n          group.itemList = [...group.itemList, ...selectedBooks]\n          group.itemList.forEach((item, index) => {\n            item.id = index + 1\n          })\n          this.onEditClick(false)\n          this.saveBookShelfToLocalStorage()\n          showToast(t('moveBookInSuccess', { $1: group.title }))\n        }\n      },\n      newGroup(group) {\n        this.clearAddFromBookList()\n        this.bookList.push(group)\n        this.appendAddToBookList()\n        this.onEditClick(false)\n        this.saveBookShelfToLocalStorage()\n      },\n      groupEdit(operation, group) {\n        switch (operation) {\n          case 1:\n            this.moveToGroup(group as CategoryItem)\n            break\n          case 2:\n            this.moveToGroup(group as CategoryItem)\n            this.newGroup(group as CategoryItem)\n            break\n          case 3:\n            // this.moveOutGroup()\n            break\n        }\n      },\n      getBookList() {\n        const bookList = store.getBookShelfFromLocalStorage()\n        if (bookList) {\n          store.changeBookList(bookList)\n        } else {\n          shelf().then((response) => {\n            let bookList = response.data.bookList\n            if (!bookList.length) {\n              bookList = []\n            }\n            store.changeBookList(bookList)\n            store.appendAddToBookList()\n            store.saveBookShelfToLocalStorage()\n            store.initBookShelf()\n          })\n        }\n      },\n      clearCache() {\n        clearLocalStorage()\n        clearLocalForage(() => {\n          console.log('localForage...')\n          this.getBookList()\n        })\n        showToast(t('clearCacheSuccess'))\n      },\n    }\n  })\n\n  useEffect(() => {\n    store.getBookList()\n  }, [store])\n\n  return useObserver(() => (\n    <BookShelfWrapper>\n      <ShelfTitle\n        title={t('title')}\n        data={store.bookList}\n        ifShowBack={store.ifShowBack}\n        ifShowClear={store.isShowClear}\n        isEditMode={store.isEditMode}\n        ifShowTitle={store.ifShowTitle}\n        onEditClick={store.onEditClick}\n        clearCache={store.clearCache}\n      ></ShelfTitle>\n      <ScrollView\n        className=\"book-shelf-scroll-wrapper\"\n        top={0}\n        bottom={store.scrollBottom}\n      >\n        <ShelfSearch\n          onSearchClick={store.onSearchClick}\n          onSearchTabClick={store.onSearchTabClick}\n          onSearchCancel={store.onSearchCancel}\n        ></ShelfSearch>\n        <ShelfCom\n          data={store.bookList}\n          showType={store.showType}\n          isEditMode={store.isEditMode}\n        ></ShelfCom>\n      </ScrollView>\n      <ShelfFooter\n        data={store.bookList}\n        bookList={store.bookList}\n        isEditMode={store.isEditMode}\n        isInGroup={false}\n        setPrivate={store.setPrivate}\n        setDownload={store.setDownload}\n        removeBook={store.removeBook}\n        groupEdit={store.groupEdit}\n      ></ShelfFooter>\n      <RenderToast></RenderToast>\n    </BookShelfWrapper>\n  ))\n}\n\nexport default BookShelf\n","import styled from 'styled-components'\nimport { px2vw, mixin } from '@/assets/styles'\nexport const BookCategoryWrapper = styled.div`\n    position: relative;\n    z-index: 100;\n    width: 100%;\n    height: 100%;\n    background: white;\n  .book-shelf-list {\n    position: absolute;\n    left: 0;\n    z-index: 100;\n  }\n  .book-shelf-empty {\n    position: absolute;\n    top: ${px2vw(42)};\n    left: 0;\n    z-index: 100;\n  }\n  .book-shelf-scroll-wrapper {\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 101;\n    background: white;\n  }\n  .book-shelf-scroll-wrapper2 {\n    position: absolute;\n    top: ${px2vw(93.5)};\n    left: 0;\n    z-index: 101;\n  }\n  .shelf-empty-view {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      ${mixin.center()}\n      font-size:  ${px2vw(14)};\n      color: #333;\n    }\n`\n","import React, { FC, useEffect } from 'react'\nimport { useObserver, useLocalStore } from 'mobx-react'\nimport { BookCategoryWrapper } from './style'\nimport ShelfTitle from '../shelfTitle/ShelfTitle'\nimport { useTranslation } from 'react-i18next'\nimport {\n  BookShelfCategoryReturn,\n  BookItem,\n  CategoryItem,\n  BookList,\n} from '../types'\nimport { getLocalStorage, setLocalStorage } from '@/utils/localStorage'\nimport { useLocation, useHistory } from 'react-router-dom'\nimport qs from 'qs'\nimport ScrollView from '@/common/scroll/Scroll'\nimport ShelfCom from '../shelfCom/ShelfCom'\nimport ShelfFooter from '../shelfFooter/ShelfFooter'\nimport useToast from '@/common/toast/Toast'\nimport { getLocalForage } from '@/utils/localForage'\nimport Epub from 'epubjs'\nimport { download } from '@/api'\nimport { removeBookCache } from '@/utils/book'\nimport { toJS } from 'mobx'\n\nconst BOOK_SHELF_KEY = 'bookShelf'\n\nconst ShelfCategory: FC = () => {\n  const { t } = useTranslation('shelf')\n  const location = useLocation()\n  const history = useHistory()\n\n  const { RenderToast, showToast } = useToast()\n\n  const getBookShelfFromLocalStorage: () => BookList = () => {\n    return getLocalStorage(BOOK_SHELF_KEY)\n  }\n\n  const store = useLocalStore<BookShelfCategoryReturn>(() => {\n    return {\n      bookList: [],\n      category: null,\n      isEditMode: false,\n      ifShowBack: true,\n      ifShowClear: false,\n      scrollBottom: 0,\n      get isEmpty() {\n        if (\n          this.category &&\n          this.category.itemList &&\n          this.category.itemList.length > 0\n        ) {\n          return false\n        } else {\n          return true\n        }\n      },\n      get getSelectedBooks() {\n        const selectedBooks = this.category?.itemList.filter((item) => {\n          return (item as BookItem).selected\n        }) as BookItem[]\n        this.category?.itemList.forEach((item) => {\n          if (item.type === 2 && item.itemList) {\n            item.itemList.forEach((subItem: any) => {\n              if (subItem.selected) {\n                selectedBooks.push(subItem)\n              }\n            })\n          }\n        })\n        return selectedBooks\n      },\n      saveBookShelfToLocalStorage() {\n        console.log(toJS(this.bookList))\n        setLocalStorage(BOOK_SHELF_KEY, this.bookList)\n      },\n      changeBookList(bookList) {\n        this.bookList = bookList\n      },\n      changeCategory(index) {\n        if (this.bookList) {\n          this.category = this.bookList[index] as CategoryItem\n        }\n      },\n      onEditClick(v) {\n        this.isEditMode = v\n        if (!this.isEditMode) {\n          this.bookList.forEach((item) => {\n            if ((item as BookItem).bookId) {\n              item.selected = false\n            } else if (item.itemList) {\n              ;(item as CategoryItem).itemList.forEach((subItem) => {\n                subItem.selected = false\n              })\n            }\n          })\n        }\n        if (this.isEditMode) {\n          this.scrollBottom = 42\n        } else {\n          this.scrollBottom = 0\n        }\n      },\n      setPrivate(v) {\n        this.category?.itemList.forEach((item) => {\n          if (item.selected) {\n            ;(item as BookItem).private = v\n          }\n        })\n        this.onEditClick(false)\n        if (v) {\n          showToast(t('setPrivateSuccess'))\n        } else {\n          showToast(t('closePrivateSuccess'))\n        }\n        this.onEditClick(false)\n        this.saveBookShelfToLocalStorage()\n      },\n      async setDownload(needDownload) {\n        showToast(t('startDownload'))\n        for (let i = 0; i < this.category?.itemList.length!; i++) {\n          const item = this.category?.itemList[i]!\n          if (needDownload && item.selected) {\n            await this.downloadBook(item as BookItem)\n            ;(item as BookItem).cache = needDownload\n            showToast(t('endDownload'))\n          } else if (!needDownload && item.selected) {\n            await this.removeDownloadBook(item as BookItem)\n            ;(item as BookItem).cache = needDownload\n            showToast(t('endDownload'))\n          }\n          if (item.itemList) {\n            for (let i = 0; i < item.itemList.length; i++) {\n              await this.downloadItem(item.itemList[i], needDownload)\n            }\n          }\n        }\n        this.onEditClick(false)\n        this.saveBookShelfToLocalStorage()\n      },\n      downloadBook(item) {\n        return new Promise((resolve, reject) => {\n          getLocalForage(item.fileName, (err, value) => {\n            if (!err && value instanceof Blob) {\n              console.log(\n                `[${item.fileName}]...`,\n                value,\n                Epub(value as any)\n              )\n              resolve()\n            } else {\n              download(\n                item,\n                (item) => {\n                  console.log('[' + item.fileName + ']...')\n                  resolve()\n                },\n                reject,\n                reject\n              )\n            }\n          })\n        })\n      },\n      async downloadItem(subItem, needDownload) {\n        if (needDownload && subItem.selected) {\n          this.downloadBook(subItem)\n          subItem.cache = needDownload\n        } else if (!needDownload && subItem.selected) {\n          this.removeDownloadBook(subItem)\n          subItem.cache = needDownload\n        }\n      },\n      removeDownloadBook(item) {\n        return removeBookCache(item.fileName)\n      },\n      removeBook() {\n        this.bookList = this.bookList.filter((item) => {\n          if (item.itemList) {\n            item.itemList = item.itemList.filter((subItem: BookItem) => {\n              return !subItem.selected\n            })\n          }\n          return !item.selected\n        })\n        this.onEditClick(false)\n        this.saveBookShelfToLocalStorage()\n      },\n      moveToGroup(group) {\n        const selectedBooks = this.getSelectedBooks\n        this.clearSelectedBooks()\n        if (group && group.itemList) {\n          group.itemList = [...group.itemList, ...selectedBooks]\n          group.itemList.forEach((item, index) => {\n            item.id = index + 1\n          })\n          this.onEditClick(false)\n          this.saveBookShelfToLocalStorage()\n          showToast(t('moveBookInSuccess', { $1: group.title }))\n        }\n      },\n      clearSelectedBooks() {\n        // this.category.itemList = this.category?.itemList.filter((item) => {\n        //   return !item.selected\n        // })\n        if (this.category?.itemList) {\n          this.category.itemList = this.category?.itemList.filter((item) => {\n            return !item.selected\n          })\n        }\n        // this.bookList.forEach((item) => {\n        //   if (item.type === 2 && item.itemList) {\n        //     item.itemList = item.itemList.filter((subItem: BookItem) => {\n        //       return !subItem.selected\n        //     })\n        //   }\n        // })\n      },\n      newGroup(group) {\n        this.clearAddFromBookList()\n        this.bookList.push(group)\n        this.appendAddToBookList()\n        this.onEditClick(false)\n        this.saveBookShelfToLocalStorage()\n      },\n      groupEdit(operation, group) {\n        switch (operation) {\n          case 1:\n            this.moveToGroup(group as CategoryItem)\n            break\n          case 2:\n            this.moveToGroup(group as CategoryItem)\n            this.newGroup(group as CategoryItem)\n            break\n          case 3:\n            this.moveOutGroup()\n            break\n        }\n      },\n      moveOutGroup() {\n        const selectedBooks = this.getSelectedBooks\n        this.clearAddFromBookList()\n        this.appendBookToList(selectedBooks)\n        this.clearSelectedBooks()\n        this.onEditClick(false)\n        this.saveBookShelfToLocalStorage()\n        showToast(t('moveBookOutSuccess'))\n      },\n      appendBookToList(books) {\n        let id = this.bookList[this.bookList.length - 1].id + 1\n        books.forEach((item) => {\n          item.id = id++\n          this.bookList.push(item)\n        })\n        this.appendAddToBookList()\n      },\n      clearAddFromBookList() {\n        this.bookList = this.bookList.filter((item) => {\n          return item.type !== 3\n        })\n      },\n      appendAddToBookList() {\n        console.log(toJS(this.bookList))\n        this.bookList.push({\n          cover: '',\n          title: '',\n          type: 3,\n          id: Number.MAX_SAFE_INTEGER,\n        })\n      },\n      deleteGroup() {\n        const itemList = this.category?.itemList\n        this.clearSelectedBooks()\n        this.removeCategory(this.category!)\n        this.clearAddFromBookList()\n        this.appendBookToList(itemList!)\n        this.onEditClick(false)\n        this.saveBookShelfToLocalStorage()\n        history.goBack()\n      },\n      removeCategory(category) {\n        this.bookList = this.bookList.filter(item => {\n          return category.id !== item.id\n        })\n      },\n      editGroupName(newName){\n        this.category!.title = newName\n        this.saveBookShelfToLocalStorage()\n      }\n    }\n  })\n\n  useEffect(() => {\n    store.changeBookList(getBookShelfFromLocalStorage())\n    store.changeCategory(+qs.parse(location.search.slice(1)).index!)\n  }, [location.search, store])\n\n  return useObserver(() => (\n    <BookCategoryWrapper>\n      <ShelfTitle\n        title={store.category?.title}\n        data={store.bookList}\n        category={store.category!}\n        ifShowBack={store.ifShowBack}\n        ifShowClear={store.ifShowClear}\n        isEditMode={store.isEditMode}\n        ifGroupEmpty={store.isEmpty}\n        ifShowTitle={true}\n        onEditClick={store.onEditClick}\n        deleteGroup={store.deleteGroup}\n        editGroupName={store.editGroupName}\n      ></ShelfTitle>\n      {!store.isEmpty ? (\n        <>\n          <ScrollView\n            className=\"book-shelf-scroll-wrapper\"\n            style={{\n              top: '42px',\n            }}\n            top={42}\n            bottom={store.scrollBottom}\n          >\n            <ShelfCom\n              data={store.category?.itemList ? store.category.itemList : []}\n              showType={0}\n              isEditMode={store.isEditMode}\n            ></ShelfCom>\n          </ScrollView>\n          <ShelfFooter\n            data={store.category?.itemList ? store.category.itemList : []}\n            bookList={store.bookList}\n            isEditMode={store.isEditMode}\n            isInGroup={true}\n            setPrivate={store.setPrivate}\n            setDownload={store.setDownload}\n            removeBook={store.removeBook}\n            groupEdit={store.groupEdit}\n          ></ShelfFooter>\n        </>\n      ) : null}\n      <RenderToast></RenderToast>\n      {store.isEmpty ? (\n        <div className=\"shelf-empty-view\">\n          <span className=\"shelf-empty-text\">{t('groupNone')}</span>\n        </div>\n      ) : null}\n    </BookCategoryWrapper>\n  ))\n}\n\nexport default ShelfCategory\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\nimport BookHome from './home'\nimport BookDetail from './detail'\nimport BookList from './detail/BookList'\nimport BookShelf from './shelf'\nimport BookCategory from './shelf/shelfCategory'\n\nconst Mall: React.FC = () => {\n  return (\n    <>\n      <Route path=\"/mall/home\" component={BookHome} exact></Route>\n      <Route path=\"/mall/detail/:fileName\" component={BookDetail} exact></Route>\n      <Route path=\"/mall/category/:title\" component={BookCategory} exact></Route>\n      <Route path=\"/mall/list\" component={BookList} exact></Route>\n      <Route path=\"/mall/shelf\" component={BookShelf} exact></Route>\n      <Redirect from=\"/mall\" to=\"/mall/shelf\"></Redirect>\n    </>\n  )\n}\n\nexport default Mall\n","import { GlobalStoreReturn } from \"./types\"\nimport { Default, Eye, Gold, Night } from '@/assets/styles/theme'\n\nfunction Store():GlobalStoreReturn {\n  return {\n    fileName: 'epub',\n    changeFileName(fileName: string) {\n      this.fileName = fileName\n    },\n\n    theme: Default,\n    setTheme(themeType) {\n      switch (themeType) {\n        case 'Gold':\n          this.theme = Gold\n          break\n        case 'Eye':\n          this.theme = Eye\n          break\n        case 'Night':\n          this.theme = Night\n          break\n        default:\n          this.theme = Default\n          break\n      }\n    },\n  }\n}\n\nexport default Store\n","import React from 'react'\nimport Store from './instant'\nimport { storeType } from './types'\nimport { useLocalStore } from 'mobx-react'\n\nexport const storeContext = React.createContext<storeType | null>(null)\n\nexport const StoreProvider: React.FC = ({ children }) => {\n  const store = useLocalStore(Store)\n\n  return <storeContext.Provider value={store}>{children}</storeContext.Provider>\n}\n","import React from 'react'\nimport { Reboot } from './assets/styles'\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  Redirect,\n} from 'react-router-dom'\nimport Ebook from './views/ebook'\nimport Mall from './views/mall'\nimport { StoreProvider } from './store/global'\nimport './assets/styles/icon.css'\nimport 'mobx-react/batchingForReactDom'\nimport styled from 'styled-components'\n\nconst AppWrapper = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 0;\n  width: 100%;\n  height: 100%;\n  background: #7d8188;\n  overflow: hidden;\n`\n\nfunction App() {\n  return (\n    <StoreProvider>\n      <Reboot></Reboot>\n      <Router>\n        <AppWrapper>\n          <Switch>\n            <Route path=\"/ebook\" component={Ebook}></Route>\n            <Route path=\"/mall\" component={Mall}></Route>\n            <Redirect from=\"/\" to=\"/mall\"></Redirect>\n          </Switch>\n        </AppWrapper>\n      </Router>\n    </StoreProvider>\n  )\n}\n\nexport default App\n","import i18n from 'i18next'\nimport { initReactI18next } from 'react-i18next'\nimport cn from './cn'\nimport en from './en'\nimport { getLocale, saveLocale } from '@/utils/localStorage'\n\nconst resources = {\n  cn,\n  en\n}\n\nconst setLocale = () =>{\n  let locale:'cn'|'en' = getLocale()\n  if (!locale) {\n   locale = 'cn'\n   saveLocale(locale)\n  }\n  return locale\n}\n\ni18n.use(initReactI18next).init({\n  resources,\n  lng: setLocale(),\n  fallbackLng: 'cn',\n  interpolation: {\n    escapeValue: false,\n  },\n})\n\nexport default i18n\n","const messages = {\n    home: {\n      title: '',\n      hint: '',\n      guessYouLike: '',\n      change: '',\n      clear: '',\n      hotSearch: '',\n      historySearch: '',\n      sameAuthor: '{{result}}',\n      sameReader: '{{result}}',\n      readPercent: '{{result}}{{percent}}',\n      recommend: '',\n      seeAll: '',\n      readers: '{{renders}}',\n      featured: '',\n      category: '',\n      books: '',\n      readNow: '',\n      allBook: '{{$1}}'\n    },\n    category: {\n      computerScience: '',\n      socialSciences: '',\n      economics: '',\n      education: '',\n      engineering: '',\n      environment: '',\n      geography: '',\n      history: '',\n      laws: '',\n      lifeSciences: '',\n      literature: '',\n      biomedicine: '',\n      businessandManagement: '',\n      earthSciences: '',\n      materialsScience: '',\n      mathematics: '',\n      medicineAndPublicHealth: '',\n      philosophy: '',\n      physics: '',\n      politicalScienceAndInternationalRelations: '',\n      psychology: '',\n      statistics: ''\n    },\n    shelf: {\n      title: '',\n      edit: '',\n      cancel: '',\n      search: '',\n      private: '',\n      noPrivate: '',\n      download: '',\n      move: '...',\n      remove: '',\n      setPrivateTitle: '',\n      open: '',\n      closePrivateTitle: '',\n      close: '',\n      setPrivateSuccess: '<br>',\n      closePrivateSuccess: '',\n      setDownloadTitle: '',\n      setDownloadSuccess: '',\n      setDownloadError: '',\n      removeDownloadTitle: '',\n      removeDownloadSuccess: '',\n      delete: '',\n      clearCache: '',\n      clearCacheSuccess: '',\n      removeBookTitle: '{{$1}}',\n      removeBook: '',\n      selectedBooks: '',\n      default: '',\n      progress: '',\n      purchase: '',\n      bought: '',\n      notPurchased: '',\n      selectBook: '',\n      haveSelectedBook: '{{$1}}',\n      haveSelectedBooks: '{{$1}}',\n      moveBook: '',\n      newGroup: '',\n      groupOut: '',\n      editGroup: '',\n      editGroupName: '',\n      deleteGroup: '',\n      deleteGroupTitle: '',\n      groupNone: '',\n      groupName: '',\n      confirm: '',\n      moveBookInSuccess: '{{$1}}',\n      moveBookOutSuccess: '',\n      statistic: '{{$1}}  {{$2}}',\n      startDownload: '...',\n      endDownload: '',\n      progressDownload: '{{$1}}',\n      downloadFirst: '',\n      find: '',\n      changeLanguage: '',\n    },\n    detail: {\n      copyright: '',\n      navigation: '',\n      publisher: '',\n      category: '',\n      ISBN: 'ISBN',\n      trial: '',\n      lang: '',\n      loading: '...',\n      read: '',\n      listen: '',\n      addOrRemoveShelf: '',\n      isAddedToShelf: ''\n    },\n    speak: {\n      voice: '',\n      read: '',\n      settings: '',\n      timing: '',\n      current: '',\n      requestFailed: '!',\n      apply: ''\n    },\n    book: {\n      pulldownAddMark: '',\n      releaseAddMark: '',\n      pulldownDeleteMark: '',\n      releaseDeleteMark: '',\n      selectFont: '',\n      haveRead: '{{time}}',\n      themeDefault: '',\n      themeGold: '',\n      themeEye: '',\n      themeNight: '',\n      loading: '...',\n      navigation: '',\n      bookmark: '',\n      searchHint: '',\n      haveRead2: '',\n      minutes: '',\n      cancel: ''\n    }\n  }\n  \n  export default messages","const messages = {\n  home: {\n    title: 'Book Store',\n    hint: 'Computer Science And Software Engineering',\n    guessYouLike: 'Guess You Like',\n    change: 'Change',\n    clear: 'Clear',\n    hotSearch: 'Hot Search',\n    historySearch: 'History Search',\n    sameAuthor: 'Same author with {{result}}',\n    sameReader: 'Same reader with {{result}}',\n    readPercent: '{{percent}} is reading {{result}}',\n    recommend: 'Recommend',\n    seeAll: 'See all',\n    readers: '{{renders}} is reading',\n    featured: 'Featured',\n    category: 'Category',\n    books: 'books',\n    readNow: 'Read Now',\n    allBook: '{{$1}} books',\n  },\n  category: {\n    computerScience: 'Computer Science',\n    socialSciences: 'Social Sciences',\n    economics: 'Economics',\n    education: 'Education',\n    engineering: 'Engineering',\n    environment: 'Environment',\n    geography: 'Geography',\n    history: 'History',\n    laws: 'Laws',\n    lifeSciences: 'LifeSciences',\n    literature: 'Literature',\n    biomedicine: 'Biomedicine',\n    businessandManagement: 'Business and Management',\n    earthSciences: 'Earth Sciences',\n    materialsScience: 'Materials Science',\n    mathematics: 'Mathematics',\n    medicineAndPublicHealth: 'Medicine And Public Health',\n    philosophy: 'Philosophy',\n    physics: 'Physics',\n    politicalScienceAndInternationalRelations:\n      'Political Science And International Relations',\n    psychology: 'Psychology',\n    statistics: 'Statistics',\n  },\n  shelf: {\n    title: 'Book Shelf',\n    edit: 'Edit',\n    cancel: 'Cancel',\n    search: 'Search',\n    private: 'Private',\n    noPrivate: 'Close Private',\n    download: 'Download',\n    move: 'Move...',\n    remove: 'Remove',\n    setPrivateTitle:\n      'When opened, the reading history of selected books will not be made public',\n    open: 'Open',\n    closePrivateTitle:\n      'Whether to close the private reading of selected books?',\n    close: 'Close',\n    setPrivateSuccess:\n      'Private reading has been open and reading history will no longer be published',\n    closePrivateSuccess: 'Private reading has been closed',\n    setDownloadTitle: 'When opened, selected books will automatically download',\n    setDownloadSuccess: 'Opened, will automatically download purchased books',\n    setDownloadError: 'Offline download exception, please try again',\n    removeDownloadTitle:\n      'Once confirmed, the offline books of selected will be remove',\n    removeDownloadSuccess: 'Offline books of selected has been remove',\n    delete: 'Remove',\n    clearCache: 'Clear Cache',\n    clearCacheSuccess: 'Clear cache successfully, cache is empty',\n    removeBookTitle: 'Whether to remove {{$1}} out of the bookshelf?',\n    removeBook: 'Remove',\n    selectedBooks: 'selected books',\n    default: 'Default',\n    progress: 'By Progress',\n    purchase: 'By Purchase',\n    bought: 'Bought',\n    notPurchased: 'Not Purchased',\n    selectBook: 'Select Book',\n    haveSelectedBook: '{{$1}} book has been selected',\n    haveSelectedBooks: '{{$1}} books have been selected',\n    moveBook: 'Move Book',\n    newGroup: 'New Group',\n    groupOut: 'Move Out of Group',\n    editGroup: 'Edit Group',\n    editGroupName: 'Edit Group Name',\n    deleteGroup: 'Delete Group',\n    deleteGroupTitle:\n      'After deleting a group, the books in the group will be automatically moved out of the group',\n    groupNone: 'There are no books in the current group',\n    groupName: 'Group Name',\n    confirm: 'Confirm',\n    moveBookInSuccess: 'Move book(s) into {{$1}} successfully',\n    moveBookOutSuccess: 'Move book(s) out of the group successfully',\n    statistic: '{{$1}} public reading  {{$2}} private reading',\n    startDownload: 'Start download...',\n    endDownload: 'Download End',\n    progressDownload: 'Downloading{{$1}}',\n    downloadFirst: 'Please download book first',\n    find: 'Go to book store',\n    changeLanguage: 'Change Language',\n    studyNow: 'Learn on imooc.com',\n  },\n  detail: {\n    copyright: 'Copyright',\n    navigation: 'Table of Contents',\n    publisher: 'Publisher',\n    category: 'Category',\n    ISBN: 'ISBN',\n    trial: 'Trial Reading',\n    lang: 'Language',\n    loading: 'Loading...',\n    read: 'Read',\n    listen: 'Listen',\n    addOrRemoveShelf: 'Add to Book Shelf',\n    isAddedToShelf: 'Added to BookShelf',\n  },\n  speak: {\n    voice: 'Voice Reading',\n    read: 'Read Originial',\n    settings: 'Settings',\n    timing: 'Timing',\n    current: 'Current Section',\n    requestFailed: 'Request failed!',\n    apply: 'The core technology of semantic analysis is provided by iFLY TEK',\n  },\n  book: {\n    pulldownAddMark: 'Pull down to add bookmark',\n    releaseAddMark: 'Release to add bookmark',\n    pulldownDeleteMark: 'Pull down to delete bookmark',\n    releaseDeleteMark: 'Release to add bookmark',\n    selectFont: 'Select Font',\n    haveRead: 'Already read {{time}} minutes',\n    themeDefault: 'Default',\n    themeGold: 'Grace',\n    themeEye: 'Eye',\n    themeNight: 'Night',\n    loading: 'Loading...',\n    navigation: 'Contents',\n    bookmark: 'Bookmark',\n    searchHint: 'Search from the entire book',\n    haveRead2: 'already read',\n    minutes: 'minutes',\n    cancel: 'Cancel',\n  },\n}\n\nexport default messages\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './i18n'\nimport 'web-animations-js'\n// import './mock'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}